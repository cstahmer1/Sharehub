var XO=Object.defineProperty;var sj=e=>{throw TypeError(e)};var JO=(e,t,n)=>t in e?XO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var $=(e,t,n)=>JO(e,typeof t!="symbol"?t+"":t,n),zp=(e,t,n)=>t.has(e)||sj("Cannot "+n);var D=(e,t,n)=>(zp(e,t,"read from private field"),n?n.call(e):t.get(e)),Be=(e,t,n)=>t.has(e)?sj("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),Se=(e,t,n,s)=>(zp(e,t,"write to private field"),s?s.call(e,n):t.set(e,n),n),tt=(e,t,n)=>(zp(e,t,"access private method"),n);var of=(e,t,n,s)=>({set _(i){Se(e,t,i,n)},get _(){return D(e,t,s)}});function eD(e,t){for(var n=0;n<t.length;n++){const s=t[n];if(typeof s!="string"&&!Array.isArray(s)){for(const i in s)if(i!=="default"&&!(i in e)){const o=Object.getOwnPropertyDescriptor(s,i);o&&Object.defineProperty(e,i,o.get?o:{enumerable:!0,get:()=>s[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&s(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function s(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var tD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function dm(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var VC={exports:{}},um={},UC={exports:{}},ft={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vu=Symbol.for("react.element"),nD=Symbol.for("react.portal"),rD=Symbol.for("react.fragment"),sD=Symbol.for("react.strict_mode"),iD=Symbol.for("react.profiler"),aD=Symbol.for("react.provider"),oD=Symbol.for("react.context"),lD=Symbol.for("react.forward_ref"),cD=Symbol.for("react.suspense"),dD=Symbol.for("react.memo"),uD=Symbol.for("react.lazy"),ij=Symbol.iterator;function fD(e){return e===null||typeof e!="object"?null:(e=ij&&e[ij]||e["@@iterator"],typeof e=="function"?e:null)}var WC={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},HC=Object.assign,qC={};function fc(e,t,n){this.props=e,this.context=t,this.refs=qC,this.updater=n||WC}fc.prototype.isReactComponent={};fc.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};fc.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ZC(){}ZC.prototype=fc.prototype;function Rv(e,t,n){this.props=e,this.context=t,this.refs=qC,this.updater=n||WC}var Lv=Rv.prototype=new ZC;Lv.constructor=Rv;HC(Lv,fc.prototype);Lv.isPureReactComponent=!0;var aj=Array.isArray,KC=Object.prototype.hasOwnProperty,Iv={current:null},GC={key:!0,ref:!0,__self:!0,__source:!0};function YC(e,t,n){var s,i={},o=null,l=null;if(t!=null)for(s in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(o=""+t.key),t)KC.call(t,s)&&!GC.hasOwnProperty(s)&&(i[s]=t[s]);var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){for(var u=Array(d),h=0;h<d;h++)u[h]=arguments[h+2];i.children=u}if(e&&e.defaultProps)for(s in d=e.defaultProps,d)i[s]===void 0&&(i[s]=d[s]);return{$$typeof:vu,type:e,key:o,ref:l,props:i,_owner:Iv.current}}function hD(e,t){return{$$typeof:vu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Ov(e){return typeof e=="object"&&e!==null&&e.$$typeof===vu}function mD(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var oj=/\/+/g;function Bp(e,t){return typeof e=="object"&&e!==null&&e.key!=null?mD(""+e.key):t.toString(36)}function Of(e,t,n,s,i){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case vu:case nD:l=!0}}if(l)return l=e,i=i(l),e=s===""?"."+Bp(l,0):s,aj(i)?(n="",e!=null&&(n=e.replace(oj,"$&/")+"/"),Of(i,t,n,"",function(h){return h})):i!=null&&(Ov(i)&&(i=hD(i,n+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(oj,"$&/")+"/")+e)),t.push(i)),1;if(l=0,s=s===""?".":s+":",aj(e))for(var d=0;d<e.length;d++){o=e[d];var u=s+Bp(o,d);l+=Of(o,t,n,u,i)}else if(u=fD(e),typeof u=="function")for(e=u.call(e),d=0;!(o=e.next()).done;)o=o.value,u=s+Bp(o,d++),l+=Of(o,t,n,u,i);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function lf(e,t,n){if(e==null)return e;var s=[],i=0;return Of(e,s,"","",function(o){return t.call(n,o,i++)}),s}function pD(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var gr={current:null},Df={transition:null},gD={ReactCurrentDispatcher:gr,ReactCurrentBatchConfig:Df,ReactCurrentOwner:Iv};function QC(){throw Error("act(...) is not supported in production builds of React.")}ft.Children={map:lf,forEach:function(e,t,n){lf(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return lf(e,function(){t++}),t},toArray:function(e){return lf(e,function(t){return t})||[]},only:function(e){if(!Ov(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ft.Component=fc;ft.Fragment=rD;ft.Profiler=iD;ft.PureComponent=Rv;ft.StrictMode=sD;ft.Suspense=cD;ft.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gD;ft.act=QC;ft.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=HC({},e.props),i=e.key,o=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,l=Iv.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var d=e.type.defaultProps;for(u in t)KC.call(t,u)&&!GC.hasOwnProperty(u)&&(s[u]=t[u]===void 0&&d!==void 0?d[u]:t[u])}var u=arguments.length-2;if(u===1)s.children=n;else if(1<u){d=Array(u);for(var h=0;h<u;h++)d[h]=arguments[h+2];s.children=d}return{$$typeof:vu,type:e.type,key:i,ref:o,props:s,_owner:l}};ft.createContext=function(e){return e={$$typeof:oD,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:aD,_context:e},e.Consumer=e};ft.createElement=YC;ft.createFactory=function(e){var t=YC.bind(null,e);return t.type=e,t};ft.createRef=function(){return{current:null}};ft.forwardRef=function(e){return{$$typeof:lD,render:e}};ft.isValidElement=Ov;ft.lazy=function(e){return{$$typeof:uD,_payload:{_status:-1,_result:e},_init:pD}};ft.memo=function(e,t){return{$$typeof:dD,type:e,compare:t===void 0?null:t}};ft.startTransition=function(e){var t=Df.transition;Df.transition={};try{e()}finally{Df.transition=t}};ft.unstable_act=QC;ft.useCallback=function(e,t){return gr.current.useCallback(e,t)};ft.useContext=function(e){return gr.current.useContext(e)};ft.useDebugValue=function(){};ft.useDeferredValue=function(e){return gr.current.useDeferredValue(e)};ft.useEffect=function(e,t){return gr.current.useEffect(e,t)};ft.useId=function(){return gr.current.useId()};ft.useImperativeHandle=function(e,t,n){return gr.current.useImperativeHandle(e,t,n)};ft.useInsertionEffect=function(e,t){return gr.current.useInsertionEffect(e,t)};ft.useLayoutEffect=function(e,t){return gr.current.useLayoutEffect(e,t)};ft.useMemo=function(e,t){return gr.current.useMemo(e,t)};ft.useReducer=function(e,t,n){return gr.current.useReducer(e,t,n)};ft.useRef=function(e){return gr.current.useRef(e)};ft.useState=function(e){return gr.current.useState(e)};ft.useSyncExternalStore=function(e,t,n){return gr.current.useSyncExternalStore(e,t,n)};ft.useTransition=function(){return gr.current.useTransition()};ft.version="18.3.1";UC.exports=ft;var v=UC.exports;const he=dm(v),XC=eD({__proto__:null,default:he},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xD=v,vD=Symbol.for("react.element"),yD=Symbol.for("react.fragment"),wD=Object.prototype.hasOwnProperty,jD=xD.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,_D={key:!0,ref:!0,__self:!0,__source:!0};function JC(e,t,n){var s,i={},o=null,l=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(l=t.ref);for(s in t)wD.call(t,s)&&!_D.hasOwnProperty(s)&&(i[s]=t[s]);if(e&&e.defaultProps)for(s in t=e.defaultProps,t)i[s]===void 0&&(i[s]=t[s]);return{$$typeof:vD,type:e,key:o,ref:l,props:i,_owner:jD.current}}um.Fragment=yD;um.jsx=JC;um.jsxs=JC;VC.exports=um;var r=VC.exports,eP={exports:{}},Hr={},tP={exports:{}},nP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(k,W){var G=k.length;k.push(W);e:for(;0<G;){var le=G-1>>>1,Me=k[le];if(0<i(Me,W))k[le]=W,k[G]=Me,G=le;else break e}}function n(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var W=k[0],G=k.pop();if(G!==W){k[0]=G;e:for(var le=0,Me=k.length,qe=Me>>>1;le<qe;){var Pe=2*(le+1)-1,Oe=k[Pe],ke=Pe+1,E=k[ke];if(0>i(Oe,G))ke<Me&&0>i(E,Oe)?(k[le]=E,k[ke]=G,le=ke):(k[le]=Oe,k[Pe]=G,le=Pe);else if(ke<Me&&0>i(E,G))k[le]=E,k[ke]=G,le=ke;else break e}}return W}function i(k,W){var G=k.sortIndex-W.sortIndex;return G!==0?G:k.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var l=Date,d=l.now();e.unstable_now=function(){return l.now()-d}}var u=[],h=[],m=1,p=null,x=3,j=!1,C=!1,g=!1,S=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(k){for(var W=n(h);W!==null;){if(W.callback===null)s(h);else if(W.startTime<=k)s(h),W.sortIndex=W.expirationTime,t(u,W);else break;W=n(h)}}function P(k){if(g=!1,N(k),!C)if(n(u)!==null)C=!0,ne(M);else{var W=n(h);W!==null&&U(P,W.startTime-k)}}function M(k,W){C=!1,g&&(g=!1,_(F),F=-1),j=!0;var G=x;try{for(N(W),p=n(u);p!==null&&(!(p.expirationTime>W)||k&&!Z());){var le=p.callback;if(typeof le=="function"){p.callback=null,x=p.priorityLevel;var Me=le(p.expirationTime<=W);W=e.unstable_now(),typeof Me=="function"?p.callback=Me:p===n(u)&&s(u),N(W)}else s(u);p=n(u)}if(p!==null)var qe=!0;else{var Pe=n(h);Pe!==null&&U(P,Pe.startTime-W),qe=!1}return qe}finally{p=null,x=G,j=!1}}var A=!1,R=null,F=-1,Y=5,z=-1;function Z(){return!(e.unstable_now()-z<Y)}function V(){if(R!==null){var k=e.unstable_now();z=k;var W=!0;try{W=R(!0,k)}finally{W?te():(A=!1,R=null)}}else A=!1}var te;if(typeof w=="function")te=function(){w(V)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=V,te=function(){J.postMessage(null)}}else te=function(){S(V,0)};function ne(k){R=k,A||(A=!0,te())}function U(k,W){F=S(function(){k(e.unstable_now())},W)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(k){k.callback=null},e.unstable_continueExecution=function(){C||j||(C=!0,ne(M))},e.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<k?Math.floor(1e3/k):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(k){switch(x){case 1:case 2:case 3:var W=3;break;default:W=x}var G=x;x=W;try{return k()}finally{x=G}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(k,W){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var G=x;x=k;try{return W()}finally{x=G}},e.unstable_scheduleCallback=function(k,W,G){var le=e.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?le+G:le):G=le,k){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=G+Me,k={id:m++,callback:W,priorityLevel:k,startTime:G,expirationTime:Me,sortIndex:-1},G>le?(k.sortIndex=G,t(h,k),n(u)===null&&k===n(h)&&(g?(_(F),F=-1):g=!0,U(P,G-le))):(k.sortIndex=Me,t(u,k),C||j||(C=!0,ne(M))),k},e.unstable_shouldYield=Z,e.unstable_wrapCallback=function(k){var W=x;return function(){var G=x;x=W;try{return k.apply(this,arguments)}finally{x=G}}}})(nP);tP.exports=nP;var bD=tP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ND=v,Vr=bD;function de(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var rP=new Set,Td={};function Fo(e,t){Gl(e,t),Gl(e+"Capture",t)}function Gl(e,t){for(Td[e]=t,e=0;e<t.length;e++)rP.add(t[e])}var Ei=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ug=Object.prototype.hasOwnProperty,SD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lj={},cj={};function CD(e){return Ug.call(cj,e)?!0:Ug.call(lj,e)?!1:SD.test(e)?cj[e]=!0:(lj[e]=!0,!1)}function PD(e,t,n,s){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function kD(e,t,n,s){if(t===null||typeof t>"u"||PD(e,t,n,s))return!0;if(s)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function xr(e,t,n,s,i,o,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=l}var qn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){qn[e]=new xr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];qn[t]=new xr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){qn[e]=new xr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){qn[e]=new xr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){qn[e]=new xr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){qn[e]=new xr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){qn[e]=new xr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){qn[e]=new xr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){qn[e]=new xr(e,5,!1,e.toLowerCase(),null,!1,!1)});var Dv=/[\-:]([a-z])/g;function Fv(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Dv,Fv);qn[t]=new xr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Dv,Fv);qn[t]=new xr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Dv,Fv);qn[t]=new xr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){qn[e]=new xr(e,1,!1,e.toLowerCase(),null,!1,!1)});qn.xlinkHref=new xr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){qn[e]=new xr(e,1,!1,e.toLowerCase(),null,!0,!0)});function zv(e,t,n,s){var i=qn.hasOwnProperty(t)?qn[t]:null;(i!==null?i.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(kD(t,n,i,s)&&(n=null),s||i===null?CD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,s=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,s?e.setAttributeNS(s,t,n):e.setAttribute(t,n))))}var zi=ND.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cf=Symbol.for("react.element"),ll=Symbol.for("react.portal"),cl=Symbol.for("react.fragment"),Bv=Symbol.for("react.strict_mode"),Wg=Symbol.for("react.profiler"),sP=Symbol.for("react.provider"),iP=Symbol.for("react.context"),$v=Symbol.for("react.forward_ref"),Hg=Symbol.for("react.suspense"),qg=Symbol.for("react.suspense_list"),Vv=Symbol.for("react.memo"),na=Symbol.for("react.lazy"),aP=Symbol.for("react.offscreen"),dj=Symbol.iterator;function $c(e){return e===null||typeof e!="object"?null:(e=dj&&e[dj]||e["@@iterator"],typeof e=="function"?e:null)}var Gt=Object.assign,$p;function rd(e){if($p===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$p=t&&t[1]||""}return`
`+$p+e}var Vp=!1;function Up(e,t){if(!e||Vp)return"";Vp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(h){var s=h}Reflect.construct(e,[],t)}else{try{t.call()}catch(h){s=h}e.call(t.prototype)}else{try{throw Error()}catch(h){s=h}e()}}catch(h){if(h&&s&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),o=s.stack.split(`
`),l=i.length-1,d=o.length-1;1<=l&&0<=d&&i[l]!==o[d];)d--;for(;1<=l&&0<=d;l--,d--)if(i[l]!==o[d]){if(l!==1||d!==1)do if(l--,d--,0>d||i[l]!==o[d]){var u=`
`+i[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=d);break}}}finally{Vp=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rd(e):""}function TD(e){switch(e.tag){case 5:return rd(e.type);case 16:return rd("Lazy");case 13:return rd("Suspense");case 19:return rd("SuspenseList");case 0:case 2:case 15:return e=Up(e.type,!1),e;case 11:return e=Up(e.type.render,!1),e;case 1:return e=Up(e.type,!0),e;default:return""}}function Zg(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case cl:return"Fragment";case ll:return"Portal";case Wg:return"Profiler";case Bv:return"StrictMode";case Hg:return"Suspense";case qg:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case iP:return(e.displayName||"Context")+".Consumer";case sP:return(e._context.displayName||"Context")+".Provider";case $v:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Vv:return t=e.displayName||null,t!==null?t:Zg(e.type)||"Memo";case na:t=e._payload,e=e._init;try{return Zg(e(t))}catch{}}return null}function ED(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zg(t);case 8:return t===Bv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ea(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function oP(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function MD(e){var t=oP(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),s=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(l){s=""+l,o.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return s},setValue:function(l){s=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function df(e){e._valueTracker||(e._valueTracker=MD(e))}function lP(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),s="";return e&&(s=oP(e)?e.checked?"true":"false":e.value),e=s,e!==n?(t.setValue(e),!0):!1}function rh(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Kg(e,t){var n=t.checked;return Gt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function uj(e,t){var n=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;n=Ea(t.value!=null?t.value:n),e._wrapperState={initialChecked:s,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function cP(e,t){t=t.checked,t!=null&&zv(e,"checked",t,!1)}function Gg(e,t){cP(e,t);var n=Ea(t.value),s=t.type;if(n!=null)s==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(s==="submit"||s==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Yg(e,t.type,n):t.hasOwnProperty("defaultValue")&&Yg(e,t.type,Ea(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function fj(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Yg(e,t,n){(t!=="number"||rh(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var sd=Array.isArray;function jl(e,t,n,s){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&s&&(e[n].defaultSelected=!0)}else{for(n=""+Ea(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,s&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Qg(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(de(91));return Gt({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function hj(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(de(92));if(sd(n)){if(1<n.length)throw Error(de(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ea(n)}}function dP(e,t){var n=Ea(t.value),s=Ea(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),s!=null&&(e.defaultValue=""+s)}function mj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function uP(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Xg(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?uP(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var uf,fP=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,s,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,s,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(uf=uf||document.createElement("div"),uf.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=uf.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ed(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var hd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},AD=["Webkit","ms","Moz","O"];Object.keys(hd).forEach(function(e){AD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),hd[t]=hd[e]})});function hP(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||hd.hasOwnProperty(e)&&hd[e]?(""+t).trim():t+"px"}function mP(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var s=n.indexOf("--")===0,i=hP(n,t[n],s);n==="float"&&(n="cssFloat"),s?e.setProperty(n,i):e[n]=i}}var RD=Gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Jg(e,t){if(t){if(RD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(de(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(de(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(de(61))}if(t.style!=null&&typeof t.style!="object")throw Error(de(62))}}function ex(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tx=null;function Uv(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nx=null,_l=null,bl=null;function pj(e){if(e=ju(e)){if(typeof nx!="function")throw Error(de(280));var t=e.stateNode;t&&(t=gm(t),nx(e.stateNode,e.type,t))}}function pP(e){_l?bl?bl.push(e):bl=[e]:_l=e}function gP(){if(_l){var e=_l,t=bl;if(bl=_l=null,pj(e),t)for(e=0;e<t.length;e++)pj(t[e])}}function xP(e,t){return e(t)}function vP(){}var Wp=!1;function yP(e,t,n){if(Wp)return e(t,n);Wp=!0;try{return xP(e,t,n)}finally{Wp=!1,(_l!==null||bl!==null)&&(vP(),gP())}}function Md(e,t){var n=e.stateNode;if(n===null)return null;var s=gm(n);if(s===null)return null;n=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(de(231,t,typeof n));return n}var rx=!1;if(Ei)try{var Vc={};Object.defineProperty(Vc,"passive",{get:function(){rx=!0}}),window.addEventListener("test",Vc,Vc),window.removeEventListener("test",Vc,Vc)}catch{rx=!1}function LD(e,t,n,s,i,o,l,d,u){var h=Array.prototype.slice.call(arguments,3);try{t.apply(n,h)}catch(m){this.onError(m)}}var md=!1,sh=null,ih=!1,sx=null,ID={onError:function(e){md=!0,sh=e}};function OD(e,t,n,s,i,o,l,d,u){md=!1,sh=null,LD.apply(ID,arguments)}function DD(e,t,n,s,i,o,l,d,u){if(OD.apply(this,arguments),md){if(md){var h=sh;md=!1,sh=null}else throw Error(de(198));ih||(ih=!0,sx=h)}}function zo(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function wP(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function gj(e){if(zo(e)!==e)throw Error(de(188))}function FD(e){var t=e.alternate;if(!t){if(t=zo(e),t===null)throw Error(de(188));return t!==e?null:e}for(var n=e,s=t;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(s=i.return,s!==null){n=s;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return gj(i),e;if(o===s)return gj(i),t;o=o.sibling}throw Error(de(188))}if(n.return!==s.return)n=i,s=o;else{for(var l=!1,d=i.child;d;){if(d===n){l=!0,n=i,s=o;break}if(d===s){l=!0,s=i,n=o;break}d=d.sibling}if(!l){for(d=o.child;d;){if(d===n){l=!0,n=o,s=i;break}if(d===s){l=!0,s=o,n=i;break}d=d.sibling}if(!l)throw Error(de(189))}}if(n.alternate!==s)throw Error(de(190))}if(n.tag!==3)throw Error(de(188));return n.stateNode.current===n?e:t}function jP(e){return e=FD(e),e!==null?_P(e):null}function _P(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=_P(e);if(t!==null)return t;e=e.sibling}return null}var bP=Vr.unstable_scheduleCallback,xj=Vr.unstable_cancelCallback,zD=Vr.unstable_shouldYield,BD=Vr.unstable_requestPaint,tn=Vr.unstable_now,$D=Vr.unstable_getCurrentPriorityLevel,Wv=Vr.unstable_ImmediatePriority,NP=Vr.unstable_UserBlockingPriority,ah=Vr.unstable_NormalPriority,VD=Vr.unstable_LowPriority,SP=Vr.unstable_IdlePriority,fm=null,ti=null;function UD(e){if(ti&&typeof ti.onCommitFiberRoot=="function")try{ti.onCommitFiberRoot(fm,e,void 0,(e.current.flags&128)===128)}catch{}}var Ns=Math.clz32?Math.clz32:qD,WD=Math.log,HD=Math.LN2;function qD(e){return e>>>=0,e===0?32:31-(WD(e)/HD|0)|0}var ff=64,hf=4194304;function id(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function oh(e,t){var n=e.pendingLanes;if(n===0)return 0;var s=0,i=e.suspendedLanes,o=e.pingedLanes,l=n&268435455;if(l!==0){var d=l&~i;d!==0?s=id(d):(o&=l,o!==0&&(s=id(o)))}else l=n&~i,l!==0?s=id(l):o!==0&&(s=id(o));if(s===0)return 0;if(t!==0&&t!==s&&!(t&i)&&(i=s&-s,o=t&-t,i>=o||i===16&&(o&4194240)!==0))return t;if(s&4&&(s|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=s;0<t;)n=31-Ns(t),i=1<<n,s|=e[n],t&=~i;return s}function ZD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KD(e,t){for(var n=e.suspendedLanes,s=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var l=31-Ns(o),d=1<<l,u=i[l];u===-1?(!(d&n)||d&s)&&(i[l]=ZD(d,t)):u<=t&&(e.expiredLanes|=d),o&=~d}}function ix(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function CP(){var e=ff;return ff<<=1,!(ff&4194240)&&(ff=64),e}function Hp(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ns(t),e[t]=n}function GD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var s=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Ns(n),o=1<<i;t[i]=0,s[i]=-1,e[i]=-1,n&=~o}}function Hv(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var s=31-Ns(n),i=1<<s;i&t|e[s]&t&&(e[s]|=t),n&=~i}}var Mt=0;function PP(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kP,qv,TP,EP,MP,ax=!1,mf=[],wa=null,ja=null,_a=null,Ad=new Map,Rd=new Map,sa=[],YD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vj(e,t){switch(e){case"focusin":case"focusout":wa=null;break;case"dragenter":case"dragleave":ja=null;break;case"mouseover":case"mouseout":_a=null;break;case"pointerover":case"pointerout":Ad.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rd.delete(t.pointerId)}}function Uc(e,t,n,s,i,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:s,nativeEvent:o,targetContainers:[i]},t!==null&&(t=ju(t),t!==null&&qv(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function QD(e,t,n,s,i){switch(t){case"focusin":return wa=Uc(wa,e,t,n,s,i),!0;case"dragenter":return ja=Uc(ja,e,t,n,s,i),!0;case"mouseover":return _a=Uc(_a,e,t,n,s,i),!0;case"pointerover":var o=i.pointerId;return Ad.set(o,Uc(Ad.get(o)||null,e,t,n,s,i)),!0;case"gotpointercapture":return o=i.pointerId,Rd.set(o,Uc(Rd.get(o)||null,e,t,n,s,i)),!0}return!1}function AP(e){var t=io(e.target);if(t!==null){var n=zo(t);if(n!==null){if(t=n.tag,t===13){if(t=wP(n),t!==null){e.blockedOn=t,MP(e.priority,function(){TP(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ff(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ox(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var s=new n.constructor(n.type,n);tx=s,n.target.dispatchEvent(s),tx=null}else return t=ju(n),t!==null&&qv(t),e.blockedOn=n,!1;t.shift()}return!0}function yj(e,t,n){Ff(e)&&n.delete(t)}function XD(){ax=!1,wa!==null&&Ff(wa)&&(wa=null),ja!==null&&Ff(ja)&&(ja=null),_a!==null&&Ff(_a)&&(_a=null),Ad.forEach(yj),Rd.forEach(yj)}function Wc(e,t){e.blockedOn===t&&(e.blockedOn=null,ax||(ax=!0,Vr.unstable_scheduleCallback(Vr.unstable_NormalPriority,XD)))}function Ld(e){function t(i){return Wc(i,e)}if(0<mf.length){Wc(mf[0],e);for(var n=1;n<mf.length;n++){var s=mf[n];s.blockedOn===e&&(s.blockedOn=null)}}for(wa!==null&&Wc(wa,e),ja!==null&&Wc(ja,e),_a!==null&&Wc(_a,e),Ad.forEach(t),Rd.forEach(t),n=0;n<sa.length;n++)s=sa[n],s.blockedOn===e&&(s.blockedOn=null);for(;0<sa.length&&(n=sa[0],n.blockedOn===null);)AP(n),n.blockedOn===null&&sa.shift()}var Nl=zi.ReactCurrentBatchConfig,lh=!0;function JD(e,t,n,s){var i=Mt,o=Nl.transition;Nl.transition=null;try{Mt=1,Zv(e,t,n,s)}finally{Mt=i,Nl.transition=o}}function eF(e,t,n,s){var i=Mt,o=Nl.transition;Nl.transition=null;try{Mt=4,Zv(e,t,n,s)}finally{Mt=i,Nl.transition=o}}function Zv(e,t,n,s){if(lh){var i=ox(e,t,n,s);if(i===null)tg(e,t,s,ch,n),vj(e,s);else if(QD(i,e,t,n,s))s.stopPropagation();else if(vj(e,s),t&4&&-1<YD.indexOf(e)){for(;i!==null;){var o=ju(i);if(o!==null&&kP(o),o=ox(e,t,n,s),o===null&&tg(e,t,s,ch,n),o===i)break;i=o}i!==null&&s.stopPropagation()}else tg(e,t,s,null,n)}}var ch=null;function ox(e,t,n,s){if(ch=null,e=Uv(s),e=io(e),e!==null)if(t=zo(e),t===null)e=null;else if(n=t.tag,n===13){if(e=wP(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ch=e,null}function RP(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($D()){case Wv:return 1;case NP:return 4;case ah:case VD:return 16;case SP:return 536870912;default:return 16}default:return 16}}var ga=null,Kv=null,zf=null;function LP(){if(zf)return zf;var e,t=Kv,n=t.length,s,i="value"in ga?ga.value:ga.textContent,o=i.length;for(e=0;e<n&&t[e]===i[e];e++);var l=n-e;for(s=1;s<=l&&t[n-s]===i[o-s];s++);return zf=i.slice(e,1<s?1-s:void 0)}function Bf(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function pf(){return!0}function wj(){return!1}function qr(e){function t(n,s,i,o,l){this._reactName=n,this._targetInst=i,this.type=s,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var d in e)e.hasOwnProperty(d)&&(n=e[d],this[d]=n?n(o):o[d]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?pf:wj,this.isPropagationStopped=wj,this}return Gt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=pf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=pf)},persist:function(){},isPersistent:pf}),t}var hc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Gv=qr(hc),wu=Gt({},hc,{view:0,detail:0}),tF=qr(wu),qp,Zp,Hc,hm=Gt({},wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yv,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hc&&(Hc&&e.type==="mousemove"?(qp=e.screenX-Hc.screenX,Zp=e.screenY-Hc.screenY):Zp=qp=0,Hc=e),qp)},movementY:function(e){return"movementY"in e?e.movementY:Zp}}),jj=qr(hm),nF=Gt({},hm,{dataTransfer:0}),rF=qr(nF),sF=Gt({},wu,{relatedTarget:0}),Kp=qr(sF),iF=Gt({},hc,{animationName:0,elapsedTime:0,pseudoElement:0}),aF=qr(iF),oF=Gt({},hc,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),lF=qr(oF),cF=Gt({},hc,{data:0}),_j=qr(cF),dF={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},uF={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fF={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hF(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=fF[e])?!!t[e]:!1}function Yv(){return hF}var mF=Gt({},wu,{key:function(e){if(e.key){var t=dF[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Bf(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?uF[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yv,charCode:function(e){return e.type==="keypress"?Bf(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Bf(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pF=qr(mF),gF=Gt({},hm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bj=qr(gF),xF=Gt({},wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yv}),vF=qr(xF),yF=Gt({},hc,{propertyName:0,elapsedTime:0,pseudoElement:0}),wF=qr(yF),jF=Gt({},hm,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),_F=qr(jF),bF=[9,13,27,32],Qv=Ei&&"CompositionEvent"in window,pd=null;Ei&&"documentMode"in document&&(pd=document.documentMode);var NF=Ei&&"TextEvent"in window&&!pd,IP=Ei&&(!Qv||pd&&8<pd&&11>=pd),Nj=" ",Sj=!1;function OP(e,t){switch(e){case"keyup":return bF.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DP(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var dl=!1;function SF(e,t){switch(e){case"compositionend":return DP(t);case"keypress":return t.which!==32?null:(Sj=!0,Nj);case"textInput":return e=t.data,e===Nj&&Sj?null:e;default:return null}}function CF(e,t){if(dl)return e==="compositionend"||!Qv&&OP(e,t)?(e=LP(),zf=Kv=ga=null,dl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return IP&&t.locale!=="ko"?null:t.data;default:return null}}var PF={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cj(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!PF[e.type]:t==="textarea"}function FP(e,t,n,s){pP(s),t=dh(t,"onChange"),0<t.length&&(n=new Gv("onChange","change",null,n,s),e.push({event:n,listeners:t}))}var gd=null,Id=null;function kF(e){GP(e,0)}function mm(e){var t=hl(e);if(lP(t))return e}function TF(e,t){if(e==="change")return t}var zP=!1;if(Ei){var Gp;if(Ei){var Yp="oninput"in document;if(!Yp){var Pj=document.createElement("div");Pj.setAttribute("oninput","return;"),Yp=typeof Pj.oninput=="function"}Gp=Yp}else Gp=!1;zP=Gp&&(!document.documentMode||9<document.documentMode)}function kj(){gd&&(gd.detachEvent("onpropertychange",BP),Id=gd=null)}function BP(e){if(e.propertyName==="value"&&mm(Id)){var t=[];FP(t,Id,e,Uv(e)),yP(kF,t)}}function EF(e,t,n){e==="focusin"?(kj(),gd=t,Id=n,gd.attachEvent("onpropertychange",BP)):e==="focusout"&&kj()}function MF(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return mm(Id)}function AF(e,t){if(e==="click")return mm(t)}function RF(e,t){if(e==="input"||e==="change")return mm(t)}function LF(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Es=typeof Object.is=="function"?Object.is:LF;function Od(e,t){if(Es(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(s=0;s<n.length;s++){var i=n[s];if(!Ug.call(t,i)||!Es(e[i],t[i]))return!1}return!0}function Tj(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ej(e,t){var n=Tj(e);e=0;for(var s;n;){if(n.nodeType===3){if(s=e+n.textContent.length,e<=t&&s>=t)return{node:n,offset:t-e};e=s}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Tj(n)}}function $P(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$P(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function VP(){for(var e=window,t=rh();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=rh(e.document)}return t}function Xv(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IF(e){var t=VP(),n=e.focusedElem,s=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$P(n.ownerDocument.documentElement,n)){if(s!==null&&Xv(n)){if(t=s.start,e=s.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,o=Math.min(s.start,i);s=s.end===void 0?o:Math.min(s.end,i),!e.extend&&o>s&&(i=s,s=o,o=i),i=Ej(n,o);var l=Ej(n,s);i&&l&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),o>s?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var OF=Ei&&"documentMode"in document&&11>=document.documentMode,ul=null,lx=null,xd=null,cx=!1;function Mj(e,t,n){var s=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;cx||ul==null||ul!==rh(s)||(s=ul,"selectionStart"in s&&Xv(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),xd&&Od(xd,s)||(xd=s,s=dh(lx,"onSelect"),0<s.length&&(t=new Gv("onSelect","select",null,t,n),e.push({event:t,listeners:s}),t.target=ul)))}function gf(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var fl={animationend:gf("Animation","AnimationEnd"),animationiteration:gf("Animation","AnimationIteration"),animationstart:gf("Animation","AnimationStart"),transitionend:gf("Transition","TransitionEnd")},Qp={},UP={};Ei&&(UP=document.createElement("div").style,"AnimationEvent"in window||(delete fl.animationend.animation,delete fl.animationiteration.animation,delete fl.animationstart.animation),"TransitionEvent"in window||delete fl.transitionend.transition);function pm(e){if(Qp[e])return Qp[e];if(!fl[e])return e;var t=fl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in UP)return Qp[e]=t[n];return e}var WP=pm("animationend"),HP=pm("animationiteration"),qP=pm("animationstart"),ZP=pm("transitionend"),KP=new Map,Aj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function za(e,t){KP.set(e,t),Fo(t,[e])}for(var Xp=0;Xp<Aj.length;Xp++){var Jp=Aj[Xp],DF=Jp.toLowerCase(),FF=Jp[0].toUpperCase()+Jp.slice(1);za(DF,"on"+FF)}za(WP,"onAnimationEnd");za(HP,"onAnimationIteration");za(qP,"onAnimationStart");za("dblclick","onDoubleClick");za("focusin","onFocus");za("focusout","onBlur");za(ZP,"onTransitionEnd");Gl("onMouseEnter",["mouseout","mouseover"]);Gl("onMouseLeave",["mouseout","mouseover"]);Gl("onPointerEnter",["pointerout","pointerover"]);Gl("onPointerLeave",["pointerout","pointerover"]);Fo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ad="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zF=new Set("cancel close invalid load scroll toggle".split(" ").concat(ad));function Rj(e,t,n){var s=e.type||"unknown-event";e.currentTarget=n,DD(s,t,void 0,e),e.currentTarget=null}function GP(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var s=e[n],i=s.event;s=s.listeners;e:{var o=void 0;if(t)for(var l=s.length-1;0<=l;l--){var d=s[l],u=d.instance,h=d.currentTarget;if(d=d.listener,u!==o&&i.isPropagationStopped())break e;Rj(i,d,h),o=u}else for(l=0;l<s.length;l++){if(d=s[l],u=d.instance,h=d.currentTarget,d=d.listener,u!==o&&i.isPropagationStopped())break e;Rj(i,d,h),o=u}}}if(ih)throw e=sx,ih=!1,sx=null,e}function Dt(e,t){var n=t[mx];n===void 0&&(n=t[mx]=new Set);var s=e+"__bubble";n.has(s)||(YP(t,e,2,!1),n.add(s))}function eg(e,t,n){var s=0;t&&(s|=4),YP(n,e,s,t)}var xf="_reactListening"+Math.random().toString(36).slice(2);function Dd(e){if(!e[xf]){e[xf]=!0,rP.forEach(function(n){n!=="selectionchange"&&(zF.has(n)||eg(n,!1,e),eg(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[xf]||(t[xf]=!0,eg("selectionchange",!1,t))}}function YP(e,t,n,s){switch(RP(t)){case 1:var i=JD;break;case 4:i=eF;break;default:i=Zv}n=i.bind(null,t,n,e),i=void 0,!rx||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),s?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function tg(e,t,n,s,i){var o=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var l=s.tag;if(l===3||l===4){var d=s.stateNode.containerInfo;if(d===i||d.nodeType===8&&d.parentNode===i)break;if(l===4)for(l=s.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;l=l.return}for(;d!==null;){if(l=io(d),l===null)return;if(u=l.tag,u===5||u===6){s=o=l;continue e}d=d.parentNode}}s=s.return}yP(function(){var h=o,m=Uv(n),p=[];e:{var x=KP.get(e);if(x!==void 0){var j=Gv,C=e;switch(e){case"keypress":if(Bf(n)===0)break e;case"keydown":case"keyup":j=pF;break;case"focusin":C="focus",j=Kp;break;case"focusout":C="blur",j=Kp;break;case"beforeblur":case"afterblur":j=Kp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":j=jj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":j=rF;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":j=vF;break;case WP:case HP:case qP:j=aF;break;case ZP:j=wF;break;case"scroll":j=tF;break;case"wheel":j=_F;break;case"copy":case"cut":case"paste":j=lF;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":j=bj}var g=(t&4)!==0,S=!g&&e==="scroll",_=g?x!==null?x+"Capture":null:x;g=[];for(var w=h,N;w!==null;){N=w;var P=N.stateNode;if(N.tag===5&&P!==null&&(N=P,_!==null&&(P=Md(w,_),P!=null&&g.push(Fd(w,P,N)))),S)break;w=w.return}0<g.length&&(x=new j(x,C,null,n,m),p.push({event:x,listeners:g}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",j=e==="mouseout"||e==="pointerout",x&&n!==tx&&(C=n.relatedTarget||n.fromElement)&&(io(C)||C[Mi]))break e;if((j||x)&&(x=m.window===m?m:(x=m.ownerDocument)?x.defaultView||x.parentWindow:window,j?(C=n.relatedTarget||n.toElement,j=h,C=C?io(C):null,C!==null&&(S=zo(C),C!==S||C.tag!==5&&C.tag!==6)&&(C=null)):(j=null,C=h),j!==C)){if(g=jj,P="onMouseLeave",_="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(g=bj,P="onPointerLeave",_="onPointerEnter",w="pointer"),S=j==null?x:hl(j),N=C==null?x:hl(C),x=new g(P,w+"leave",j,n,m),x.target=S,x.relatedTarget=N,P=null,io(m)===h&&(g=new g(_,w+"enter",C,n,m),g.target=N,g.relatedTarget=S,P=g),S=P,j&&C)t:{for(g=j,_=C,w=0,N=g;N;N=el(N))w++;for(N=0,P=_;P;P=el(P))N++;for(;0<w-N;)g=el(g),w--;for(;0<N-w;)_=el(_),N--;for(;w--;){if(g===_||_!==null&&g===_.alternate)break t;g=el(g),_=el(_)}g=null}else g=null;j!==null&&Lj(p,x,j,g,!1),C!==null&&S!==null&&Lj(p,S,C,g,!0)}}e:{if(x=h?hl(h):window,j=x.nodeName&&x.nodeName.toLowerCase(),j==="select"||j==="input"&&x.type==="file")var M=TF;else if(Cj(x))if(zP)M=RF;else{M=MF;var A=EF}else(j=x.nodeName)&&j.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(M=AF);if(M&&(M=M(e,h))){FP(p,M,n,m);break e}A&&A(e,x,h),e==="focusout"&&(A=x._wrapperState)&&A.controlled&&x.type==="number"&&Yg(x,"number",x.value)}switch(A=h?hl(h):window,e){case"focusin":(Cj(A)||A.contentEditable==="true")&&(ul=A,lx=h,xd=null);break;case"focusout":xd=lx=ul=null;break;case"mousedown":cx=!0;break;case"contextmenu":case"mouseup":case"dragend":cx=!1,Mj(p,n,m);break;case"selectionchange":if(OF)break;case"keydown":case"keyup":Mj(p,n,m)}var R;if(Qv)e:{switch(e){case"compositionstart":var F="onCompositionStart";break e;case"compositionend":F="onCompositionEnd";break e;case"compositionupdate":F="onCompositionUpdate";break e}F=void 0}else dl?OP(e,n)&&(F="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(F="onCompositionStart");F&&(IP&&n.locale!=="ko"&&(dl||F!=="onCompositionStart"?F==="onCompositionEnd"&&dl&&(R=LP()):(ga=m,Kv="value"in ga?ga.value:ga.textContent,dl=!0)),A=dh(h,F),0<A.length&&(F=new _j(F,e,null,n,m),p.push({event:F,listeners:A}),R?F.data=R:(R=DP(n),R!==null&&(F.data=R)))),(R=NF?SF(e,n):CF(e,n))&&(h=dh(h,"onBeforeInput"),0<h.length&&(m=new _j("onBeforeInput","beforeinput",null,n,m),p.push({event:m,listeners:h}),m.data=R))}GP(p,t)})}function Fd(e,t,n){return{instance:e,listener:t,currentTarget:n}}function dh(e,t){for(var n=t+"Capture",s=[];e!==null;){var i=e,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Md(e,n),o!=null&&s.unshift(Fd(e,o,i)),o=Md(e,t),o!=null&&s.push(Fd(e,o,i))),e=e.return}return s}function el(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Lj(e,t,n,s,i){for(var o=t._reactName,l=[];n!==null&&n!==s;){var d=n,u=d.alternate,h=d.stateNode;if(u!==null&&u===s)break;d.tag===5&&h!==null&&(d=h,i?(u=Md(n,o),u!=null&&l.unshift(Fd(n,u,d))):i||(u=Md(n,o),u!=null&&l.push(Fd(n,u,d)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var BF=/\r\n?/g,$F=/\u0000|\uFFFD/g;function Ij(e){return(typeof e=="string"?e:""+e).replace(BF,`
`).replace($F,"")}function vf(e,t,n){if(t=Ij(t),Ij(e)!==t&&n)throw Error(de(425))}function uh(){}var dx=null,ux=null;function fx(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hx=typeof setTimeout=="function"?setTimeout:void 0,VF=typeof clearTimeout=="function"?clearTimeout:void 0,Oj=typeof Promise=="function"?Promise:void 0,UF=typeof queueMicrotask=="function"?queueMicrotask:typeof Oj<"u"?function(e){return Oj.resolve(null).then(e).catch(WF)}:hx;function WF(e){setTimeout(function(){throw e})}function ng(e,t){var n=t,s=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(s===0){e.removeChild(i),Ld(t);return}s--}else n!=="$"&&n!=="$?"&&n!=="$!"||s++;n=i}while(n);Ld(t)}function ba(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Dj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var mc=Math.random().toString(36).slice(2),Ys="__reactFiber$"+mc,zd="__reactProps$"+mc,Mi="__reactContainer$"+mc,mx="__reactEvents$"+mc,HF="__reactListeners$"+mc,qF="__reactHandles$"+mc;function io(e){var t=e[Ys];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Mi]||n[Ys]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Dj(e);e!==null;){if(n=e[Ys])return n;e=Dj(e)}return t}e=n,n=e.parentNode}return null}function ju(e){return e=e[Ys]||e[Mi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function hl(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(de(33))}function gm(e){return e[zd]||null}var px=[],ml=-1;function Ba(e){return{current:e}}function zt(e){0>ml||(e.current=px[ml],px[ml]=null,ml--)}function Rt(e,t){ml++,px[ml]=e.current,e.current=t}var Ma={},er=Ba(Ma),Cr=Ba(!1),jo=Ma;function Yl(e,t){var n=e.type.contextTypes;if(!n)return Ma;var s=e.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=t[o];return s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Pr(e){return e=e.childContextTypes,e!=null}function fh(){zt(Cr),zt(er)}function Fj(e,t,n){if(er.current!==Ma)throw Error(de(168));Rt(er,t),Rt(Cr,n)}function QP(e,t,n){var s=e.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return n;s=s.getChildContext();for(var i in s)if(!(i in t))throw Error(de(108,ED(e)||"Unknown",i));return Gt({},n,s)}function hh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ma,jo=er.current,Rt(er,e),Rt(Cr,Cr.current),!0}function zj(e,t,n){var s=e.stateNode;if(!s)throw Error(de(169));n?(e=QP(e,t,jo),s.__reactInternalMemoizedMergedChildContext=e,zt(Cr),zt(er),Rt(er,e)):zt(Cr),Rt(Cr,n)}var ji=null,xm=!1,rg=!1;function XP(e){ji===null?ji=[e]:ji.push(e)}function ZF(e){xm=!0,XP(e)}function $a(){if(!rg&&ji!==null){rg=!0;var e=0,t=Mt;try{var n=ji;for(Mt=1;e<n.length;e++){var s=n[e];do s=s(!0);while(s!==null)}ji=null,xm=!1}catch(i){throw ji!==null&&(ji=ji.slice(e+1)),bP(Wv,$a),i}finally{Mt=t,rg=!1}}return null}var pl=[],gl=0,mh=null,ph=0,ts=[],ns=0,_o=null,Si=1,Ci="";function to(e,t){pl[gl++]=ph,pl[gl++]=mh,mh=e,ph=t}function JP(e,t,n){ts[ns++]=Si,ts[ns++]=Ci,ts[ns++]=_o,_o=e;var s=Si;e=Ci;var i=32-Ns(s)-1;s&=~(1<<i),n+=1;var o=32-Ns(t)+i;if(30<o){var l=i-i%5;o=(s&(1<<l)-1).toString(32),s>>=l,i-=l,Si=1<<32-Ns(t)+i|n<<i|s,Ci=o+e}else Si=1<<o|n<<i|s,Ci=e}function Jv(e){e.return!==null&&(to(e,1),JP(e,1,0))}function ey(e){for(;e===mh;)mh=pl[--gl],pl[gl]=null,ph=pl[--gl],pl[gl]=null;for(;e===_o;)_o=ts[--ns],ts[ns]=null,Ci=ts[--ns],ts[ns]=null,Si=ts[--ns],ts[ns]=null}var Dr=null,Ir=null,Vt=!1,ys=null;function ek(e,t){var n=ss(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Bj(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Dr=e,Ir=ba(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Dr=e,Ir=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_o!==null?{id:Si,overflow:Ci}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ss(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Dr=e,Ir=null,!0):!1;default:return!1}}function gx(e){return(e.mode&1)!==0&&(e.flags&128)===0}function xx(e){if(Vt){var t=Ir;if(t){var n=t;if(!Bj(e,t)){if(gx(e))throw Error(de(418));t=ba(n.nextSibling);var s=Dr;t&&Bj(e,t)?ek(s,n):(e.flags=e.flags&-4097|2,Vt=!1,Dr=e)}}else{if(gx(e))throw Error(de(418));e.flags=e.flags&-4097|2,Vt=!1,Dr=e}}}function $j(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Dr=e}function yf(e){if(e!==Dr)return!1;if(!Vt)return $j(e),Vt=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fx(e.type,e.memoizedProps)),t&&(t=Ir)){if(gx(e))throw tk(),Error(de(418));for(;t;)ek(e,t),t=ba(t.nextSibling)}if($j(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(de(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ir=ba(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ir=null}}else Ir=Dr?ba(e.stateNode.nextSibling):null;return!0}function tk(){for(var e=Ir;e;)e=ba(e.nextSibling)}function Ql(){Ir=Dr=null,Vt=!1}function ty(e){ys===null?ys=[e]:ys.push(e)}var KF=zi.ReactCurrentBatchConfig;function qc(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(de(309));var s=n.stateNode}if(!s)throw Error(de(147,e));var i=s,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(l){var d=i.refs;l===null?delete d[o]:d[o]=l},t._stringRef=o,t)}if(typeof e!="string")throw Error(de(284));if(!n._owner)throw Error(de(290,e))}return e}function wf(e,t){throw e=Object.prototype.toString.call(t),Error(de(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Vj(e){var t=e._init;return t(e._payload)}function nk(e){function t(_,w){if(e){var N=_.deletions;N===null?(_.deletions=[w],_.flags|=16):N.push(w)}}function n(_,w){if(!e)return null;for(;w!==null;)t(_,w),w=w.sibling;return null}function s(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function i(_,w){return _=Pa(_,w),_.index=0,_.sibling=null,_}function o(_,w,N){return _.index=N,e?(N=_.alternate,N!==null?(N=N.index,N<w?(_.flags|=2,w):N):(_.flags|=2,w)):(_.flags|=1048576,w)}function l(_){return e&&_.alternate===null&&(_.flags|=2),_}function d(_,w,N,P){return w===null||w.tag!==6?(w=dg(N,_.mode,P),w.return=_,w):(w=i(w,N),w.return=_,w)}function u(_,w,N,P){var M=N.type;return M===cl?m(_,w,N.props.children,P,N.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===na&&Vj(M)===w.type)?(P=i(w,N.props),P.ref=qc(_,w,N),P.return=_,P):(P=Zf(N.type,N.key,N.props,null,_.mode,P),P.ref=qc(_,w,N),P.return=_,P)}function h(_,w,N,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=ug(N,_.mode,P),w.return=_,w):(w=i(w,N.children||[]),w.return=_,w)}function m(_,w,N,P,M){return w===null||w.tag!==7?(w=yo(N,_.mode,P,M),w.return=_,w):(w=i(w,N),w.return=_,w)}function p(_,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=dg(""+w,_.mode,N),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case cf:return N=Zf(w.type,w.key,w.props,null,_.mode,N),N.ref=qc(_,null,w),N.return=_,N;case ll:return w=ug(w,_.mode,N),w.return=_,w;case na:var P=w._init;return p(_,P(w._payload),N)}if(sd(w)||$c(w))return w=yo(w,_.mode,N,null),w.return=_,w;wf(_,w)}return null}function x(_,w,N,P){var M=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return M!==null?null:d(_,w,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case cf:return N.key===M?u(_,w,N,P):null;case ll:return N.key===M?h(_,w,N,P):null;case na:return M=N._init,x(_,w,M(N._payload),P)}if(sd(N)||$c(N))return M!==null?null:m(_,w,N,P,null);wf(_,N)}return null}function j(_,w,N,P,M){if(typeof P=="string"&&P!==""||typeof P=="number")return _=_.get(N)||null,d(w,_,""+P,M);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case cf:return _=_.get(P.key===null?N:P.key)||null,u(w,_,P,M);case ll:return _=_.get(P.key===null?N:P.key)||null,h(w,_,P,M);case na:var A=P._init;return j(_,w,N,A(P._payload),M)}if(sd(P)||$c(P))return _=_.get(N)||null,m(w,_,P,M,null);wf(w,P)}return null}function C(_,w,N,P){for(var M=null,A=null,R=w,F=w=0,Y=null;R!==null&&F<N.length;F++){R.index>F?(Y=R,R=null):Y=R.sibling;var z=x(_,R,N[F],P);if(z===null){R===null&&(R=Y);break}e&&R&&z.alternate===null&&t(_,R),w=o(z,w,F),A===null?M=z:A.sibling=z,A=z,R=Y}if(F===N.length)return n(_,R),Vt&&to(_,F),M;if(R===null){for(;F<N.length;F++)R=p(_,N[F],P),R!==null&&(w=o(R,w,F),A===null?M=R:A.sibling=R,A=R);return Vt&&to(_,F),M}for(R=s(_,R);F<N.length;F++)Y=j(R,_,F,N[F],P),Y!==null&&(e&&Y.alternate!==null&&R.delete(Y.key===null?F:Y.key),w=o(Y,w,F),A===null?M=Y:A.sibling=Y,A=Y);return e&&R.forEach(function(Z){return t(_,Z)}),Vt&&to(_,F),M}function g(_,w,N,P){var M=$c(N);if(typeof M!="function")throw Error(de(150));if(N=M.call(N),N==null)throw Error(de(151));for(var A=M=null,R=w,F=w=0,Y=null,z=N.next();R!==null&&!z.done;F++,z=N.next()){R.index>F?(Y=R,R=null):Y=R.sibling;var Z=x(_,R,z.value,P);if(Z===null){R===null&&(R=Y);break}e&&R&&Z.alternate===null&&t(_,R),w=o(Z,w,F),A===null?M=Z:A.sibling=Z,A=Z,R=Y}if(z.done)return n(_,R),Vt&&to(_,F),M;if(R===null){for(;!z.done;F++,z=N.next())z=p(_,z.value,P),z!==null&&(w=o(z,w,F),A===null?M=z:A.sibling=z,A=z);return Vt&&to(_,F),M}for(R=s(_,R);!z.done;F++,z=N.next())z=j(R,_,F,z.value,P),z!==null&&(e&&z.alternate!==null&&R.delete(z.key===null?F:z.key),w=o(z,w,F),A===null?M=z:A.sibling=z,A=z);return e&&R.forEach(function(V){return t(_,V)}),Vt&&to(_,F),M}function S(_,w,N,P){if(typeof N=="object"&&N!==null&&N.type===cl&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case cf:e:{for(var M=N.key,A=w;A!==null;){if(A.key===M){if(M=N.type,M===cl){if(A.tag===7){n(_,A.sibling),w=i(A,N.props.children),w.return=_,_=w;break e}}else if(A.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===na&&Vj(M)===A.type){n(_,A.sibling),w=i(A,N.props),w.ref=qc(_,A,N),w.return=_,_=w;break e}n(_,A);break}else t(_,A);A=A.sibling}N.type===cl?(w=yo(N.props.children,_.mode,P,N.key),w.return=_,_=w):(P=Zf(N.type,N.key,N.props,null,_.mode,P),P.ref=qc(_,w,N),P.return=_,_=P)}return l(_);case ll:e:{for(A=N.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){n(_,w.sibling),w=i(w,N.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else t(_,w);w=w.sibling}w=ug(N,_.mode,P),w.return=_,_=w}return l(_);case na:return A=N._init,S(_,w,A(N._payload),P)}if(sd(N))return C(_,w,N,P);if($c(N))return g(_,w,N,P);wf(_,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(n(_,w.sibling),w=i(w,N),w.return=_,_=w):(n(_,w),w=dg(N,_.mode,P),w.return=_,_=w),l(_)):n(_,w)}return S}var Xl=nk(!0),rk=nk(!1),gh=Ba(null),xh=null,xl=null,ny=null;function ry(){ny=xl=xh=null}function sy(e){var t=gh.current;zt(gh),e._currentValue=t}function vx(e,t,n){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===n)break;e=e.return}}function Sl(e,t){xh=e,ny=xl=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Nr=!0),e.firstContext=null)}function cs(e){var t=e._currentValue;if(ny!==e)if(e={context:e,memoizedValue:t,next:null},xl===null){if(xh===null)throw Error(de(308));xl=e,xh.dependencies={lanes:0,firstContext:e}}else xl=xl.next=e;return t}var ao=null;function iy(e){ao===null?ao=[e]:ao.push(e)}function sk(e,t,n,s){var i=t.interleaved;return i===null?(n.next=n,iy(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ai(e,s)}function Ai(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ra=!1;function ay(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ik(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Na(e,t,n){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,yt&2){var i=s.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),s.pending=t,Ai(e,n)}return i=s.interleaved,i===null?(t.next=t,iy(s)):(t.next=i.next,i.next=t),s.interleaved=t,Ai(e,n)}function $f(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Hv(e,n)}}function Uj(e,t){var n=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,n===s)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?i=o=t:o=o.next=t}else i=o=t;n={baseState:s.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:s.shared,effects:s.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function vh(e,t,n,s){var i=e.updateQueue;ra=!1;var o=i.firstBaseUpdate,l=i.lastBaseUpdate,d=i.shared.pending;if(d!==null){i.shared.pending=null;var u=d,h=u.next;u.next=null,l===null?o=h:l.next=h,l=u;var m=e.alternate;m!==null&&(m=m.updateQueue,d=m.lastBaseUpdate,d!==l&&(d===null?m.firstBaseUpdate=h:d.next=h,m.lastBaseUpdate=u))}if(o!==null){var p=i.baseState;l=0,m=h=u=null,d=o;do{var x=d.lane,j=d.eventTime;if((s&x)===x){m!==null&&(m=m.next={eventTime:j,lane:0,tag:d.tag,payload:d.payload,callback:d.callback,next:null});e:{var C=e,g=d;switch(x=t,j=n,g.tag){case 1:if(C=g.payload,typeof C=="function"){p=C.call(j,p,x);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=g.payload,x=typeof C=="function"?C.call(j,p,x):C,x==null)break e;p=Gt({},p,x);break e;case 2:ra=!0}}d.callback!==null&&d.lane!==0&&(e.flags|=64,x=i.effects,x===null?i.effects=[d]:x.push(d))}else j={eventTime:j,lane:x,tag:d.tag,payload:d.payload,callback:d.callback,next:null},m===null?(h=m=j,u=p):m=m.next=j,l|=x;if(d=d.next,d===null){if(d=i.shared.pending,d===null)break;x=d,d=x.next,x.next=null,i.lastBaseUpdate=x,i.shared.pending=null}}while(!0);if(m===null&&(u=p),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=m,t=i.shared.interleaved,t!==null){i=t;do l|=i.lane,i=i.next;while(i!==t)}else o===null&&(i.shared.lanes=0);No|=l,e.lanes=l,e.memoizedState=p}}function Wj(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var s=e[t],i=s.callback;if(i!==null){if(s.callback=null,s=n,typeof i!="function")throw Error(de(191,i));i.call(s)}}}var _u={},ni=Ba(_u),Bd=Ba(_u),$d=Ba(_u);function oo(e){if(e===_u)throw Error(de(174));return e}function oy(e,t){switch(Rt($d,t),Rt(Bd,e),Rt(ni,_u),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Xg(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Xg(t,e)}zt(ni),Rt(ni,t)}function Jl(){zt(ni),zt(Bd),zt($d)}function ak(e){oo($d.current);var t=oo(ni.current),n=Xg(t,e.type);t!==n&&(Rt(Bd,e),Rt(ni,n))}function ly(e){Bd.current===e&&(zt(ni),zt(Bd))}var Zt=Ba(0);function yh(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sg=[];function cy(){for(var e=0;e<sg.length;e++)sg[e]._workInProgressVersionPrimary=null;sg.length=0}var Vf=zi.ReactCurrentDispatcher,ig=zi.ReactCurrentBatchConfig,bo=0,Kt=null,wn=null,kn=null,wh=!1,vd=!1,Vd=0,GF=0;function Gn(){throw Error(de(321))}function dy(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Es(e[n],t[n]))return!1;return!0}function uy(e,t,n,s,i,o){if(bo=o,Kt=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vf.current=e===null||e.memoizedState===null?JF:e3,e=n(s,i),vd){o=0;do{if(vd=!1,Vd=0,25<=o)throw Error(de(301));o+=1,kn=wn=null,t.updateQueue=null,Vf.current=t3,e=n(s,i)}while(vd)}if(Vf.current=jh,t=wn!==null&&wn.next!==null,bo=0,kn=wn=Kt=null,wh=!1,t)throw Error(de(300));return e}function fy(){var e=Vd!==0;return Vd=0,e}function Hs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kn===null?Kt.memoizedState=kn=e:kn=kn.next=e,kn}function ds(){if(wn===null){var e=Kt.alternate;e=e!==null?e.memoizedState:null}else e=wn.next;var t=kn===null?Kt.memoizedState:kn.next;if(t!==null)kn=t,wn=e;else{if(e===null)throw Error(de(310));wn=e,e={memoizedState:wn.memoizedState,baseState:wn.baseState,baseQueue:wn.baseQueue,queue:wn.queue,next:null},kn===null?Kt.memoizedState=kn=e:kn=kn.next=e}return kn}function Ud(e,t){return typeof t=="function"?t(e):t}function ag(e){var t=ds(),n=t.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=e;var s=wn,i=s.baseQueue,o=n.pending;if(o!==null){if(i!==null){var l=i.next;i.next=o.next,o.next=l}s.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,s=s.baseState;var d=l=null,u=null,h=o;do{var m=h.lane;if((bo&m)===m)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),s=h.hasEagerState?h.eagerState:e(s,h.action);else{var p={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(d=u=p,l=s):u=u.next=p,Kt.lanes|=m,No|=m}h=h.next}while(h!==null&&h!==o);u===null?l=s:u.next=d,Es(s,t.memoizedState)||(Nr=!0),t.memoizedState=s,t.baseState=l,t.baseQueue=u,n.lastRenderedState=s}if(e=n.interleaved,e!==null){i=e;do o=i.lane,Kt.lanes|=o,No|=o,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function og(e){var t=ds(),n=t.queue;if(n===null)throw Error(de(311));n.lastRenderedReducer=e;var s=n.dispatch,i=n.pending,o=t.memoizedState;if(i!==null){n.pending=null;var l=i=i.next;do o=e(o,l.action),l=l.next;while(l!==i);Es(o,t.memoizedState)||(Nr=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,s]}function ok(){}function lk(e,t){var n=Kt,s=ds(),i=t(),o=!Es(s.memoizedState,i);if(o&&(s.memoizedState=i,Nr=!0),s=s.queue,hy(uk.bind(null,n,s,e),[e]),s.getSnapshot!==t||o||kn!==null&&kn.memoizedState.tag&1){if(n.flags|=2048,Wd(9,dk.bind(null,n,s,i,t),void 0,null),Rn===null)throw Error(de(349));bo&30||ck(n,t,i)}return i}function ck(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function dk(e,t,n,s){t.value=n,t.getSnapshot=s,fk(t)&&hk(e)}function uk(e,t,n){return n(function(){fk(t)&&hk(e)})}function fk(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Es(e,n)}catch{return!0}}function hk(e){var t=Ai(e,1);t!==null&&Ss(t,e,1,-1)}function Hj(e){var t=Hs();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ud,lastRenderedState:e},t.queue=e,e=e.dispatch=XF.bind(null,Kt,e),[t.memoizedState,e]}function Wd(e,t,n,s){return e={tag:e,create:t,destroy:n,deps:s,next:null},t=Kt.updateQueue,t===null?(t={lastEffect:null,stores:null},Kt.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(s=n.next,n.next=e,e.next=s,t.lastEffect=e)),e}function mk(){return ds().memoizedState}function Uf(e,t,n,s){var i=Hs();Kt.flags|=e,i.memoizedState=Wd(1|t,n,void 0,s===void 0?null:s)}function vm(e,t,n,s){var i=ds();s=s===void 0?null:s;var o=void 0;if(wn!==null){var l=wn.memoizedState;if(o=l.destroy,s!==null&&dy(s,l.deps)){i.memoizedState=Wd(t,n,o,s);return}}Kt.flags|=e,i.memoizedState=Wd(1|t,n,o,s)}function qj(e,t){return Uf(8390656,8,e,t)}function hy(e,t){return vm(2048,8,e,t)}function pk(e,t){return vm(4,2,e,t)}function gk(e,t){return vm(4,4,e,t)}function xk(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function vk(e,t,n){return n=n!=null?n.concat([e]):null,vm(4,4,xk.bind(null,t,e),n)}function my(){}function yk(e,t){var n=ds();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&dy(t,s[1])?s[0]:(n.memoizedState=[e,t],e)}function wk(e,t){var n=ds();t=t===void 0?null:t;var s=n.memoizedState;return s!==null&&t!==null&&dy(t,s[1])?s[0]:(e=e(),n.memoizedState=[e,t],e)}function jk(e,t,n){return bo&21?(Es(n,t)||(n=CP(),Kt.lanes|=n,No|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Nr=!0),e.memoizedState=n)}function YF(e,t){var n=Mt;Mt=n!==0&&4>n?n:4,e(!0);var s=ig.transition;ig.transition={};try{e(!1),t()}finally{Mt=n,ig.transition=s}}function _k(){return ds().memoizedState}function QF(e,t,n){var s=Ca(e);if(n={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null},bk(e))Nk(t,n);else if(n=sk(e,t,n,s),n!==null){var i=mr();Ss(n,e,s,i),Sk(n,t,s)}}function XF(e,t,n){var s=Ca(e),i={lane:s,action:n,hasEagerState:!1,eagerState:null,next:null};if(bk(e))Nk(t,i);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var l=t.lastRenderedState,d=o(l,n);if(i.hasEagerState=!0,i.eagerState=d,Es(d,l)){var u=t.interleaved;u===null?(i.next=i,iy(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=sk(e,t,i,s),n!==null&&(i=mr(),Ss(n,e,s,i),Sk(n,t,s))}}function bk(e){var t=e.alternate;return e===Kt||t!==null&&t===Kt}function Nk(e,t){vd=wh=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Sk(e,t,n){if(n&4194240){var s=t.lanes;s&=e.pendingLanes,n|=s,t.lanes=n,Hv(e,n)}}var jh={readContext:cs,useCallback:Gn,useContext:Gn,useEffect:Gn,useImperativeHandle:Gn,useInsertionEffect:Gn,useLayoutEffect:Gn,useMemo:Gn,useReducer:Gn,useRef:Gn,useState:Gn,useDebugValue:Gn,useDeferredValue:Gn,useTransition:Gn,useMutableSource:Gn,useSyncExternalStore:Gn,useId:Gn,unstable_isNewReconciler:!1},JF={readContext:cs,useCallback:function(e,t){return Hs().memoizedState=[e,t===void 0?null:t],e},useContext:cs,useEffect:qj,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Uf(4194308,4,xk.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Uf(4194308,4,e,t)},useInsertionEffect:function(e,t){return Uf(4,2,e,t)},useMemo:function(e,t){var n=Hs();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var s=Hs();return t=n!==void 0?n(t):t,s.memoizedState=s.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},s.queue=e,e=e.dispatch=QF.bind(null,Kt,e),[s.memoizedState,e]},useRef:function(e){var t=Hs();return e={current:e},t.memoizedState=e},useState:Hj,useDebugValue:my,useDeferredValue:function(e){return Hs().memoizedState=e},useTransition:function(){var e=Hj(!1),t=e[0];return e=YF.bind(null,e[1]),Hs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var s=Kt,i=Hs();if(Vt){if(n===void 0)throw Error(de(407));n=n()}else{if(n=t(),Rn===null)throw Error(de(349));bo&30||ck(s,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qj(uk.bind(null,s,o,e),[e]),s.flags|=2048,Wd(9,dk.bind(null,s,o,n,t),void 0,null),n},useId:function(){var e=Hs(),t=Rn.identifierPrefix;if(Vt){var n=Ci,s=Si;n=(s&~(1<<32-Ns(s)-1)).toString(32)+n,t=":"+t+"R"+n,n=Vd++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=GF++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},e3={readContext:cs,useCallback:yk,useContext:cs,useEffect:hy,useImperativeHandle:vk,useInsertionEffect:pk,useLayoutEffect:gk,useMemo:wk,useReducer:ag,useRef:mk,useState:function(){return ag(Ud)},useDebugValue:my,useDeferredValue:function(e){var t=ds();return jk(t,wn.memoizedState,e)},useTransition:function(){var e=ag(Ud)[0],t=ds().memoizedState;return[e,t]},useMutableSource:ok,useSyncExternalStore:lk,useId:_k,unstable_isNewReconciler:!1},t3={readContext:cs,useCallback:yk,useContext:cs,useEffect:hy,useImperativeHandle:vk,useInsertionEffect:pk,useLayoutEffect:gk,useMemo:wk,useReducer:og,useRef:mk,useState:function(){return og(Ud)},useDebugValue:my,useDeferredValue:function(e){var t=ds();return wn===null?t.memoizedState=e:jk(t,wn.memoizedState,e)},useTransition:function(){var e=og(Ud)[0],t=ds().memoizedState;return[e,t]},useMutableSource:ok,useSyncExternalStore:lk,useId:_k,unstable_isNewReconciler:!1};function gs(e,t){if(e&&e.defaultProps){t=Gt({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function yx(e,t,n,s){t=e.memoizedState,n=n(s,t),n=n==null?t:Gt({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ym={isMounted:function(e){return(e=e._reactInternals)?zo(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var s=mr(),i=Ca(e),o=Pi(s,i);o.payload=t,n!=null&&(o.callback=n),t=Na(e,o,i),t!==null&&(Ss(t,e,i,s),$f(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var s=mr(),i=Ca(e),o=Pi(s,i);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Na(e,o,i),t!==null&&(Ss(t,e,i,s),$f(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=mr(),s=Ca(e),i=Pi(n,s);i.tag=2,t!=null&&(i.callback=t),t=Na(e,i,s),t!==null&&(Ss(t,e,s,n),$f(t,e,s))}};function Zj(e,t,n,s,i,o,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,o,l):t.prototype&&t.prototype.isPureReactComponent?!Od(n,s)||!Od(i,o):!0}function Ck(e,t,n){var s=!1,i=Ma,o=t.contextType;return typeof o=="object"&&o!==null?o=cs(o):(i=Pr(t)?jo:er.current,s=t.contextTypes,o=(s=s!=null)?Yl(e,i):Ma),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ym,e.stateNode=t,t._reactInternals=e,s&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function Kj(e,t,n,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,s),t.state!==e&&ym.enqueueReplaceState(t,t.state,null)}function wx(e,t,n,s){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},ay(e);var o=t.contextType;typeof o=="object"&&o!==null?i.context=cs(o):(o=Pr(t)?jo:er.current,i.context=Yl(e,o)),i.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(yx(e,t,o,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&ym.enqueueReplaceState(i,i.state,null),vh(e,n,i,s),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ec(e,t){try{var n="",s=t;do n+=TD(s),s=s.return;while(s);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:i,digest:null}}function lg(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function jx(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var n3=typeof WeakMap=="function"?WeakMap:Map;function Pk(e,t,n){n=Pi(-1,n),n.tag=3,n.payload={element:null};var s=t.value;return n.callback=function(){bh||(bh=!0,Mx=s),jx(e,t)},n}function kk(e,t,n){n=Pi(-1,n),n.tag=3;var s=e.type.getDerivedStateFromError;if(typeof s=="function"){var i=t.value;n.payload=function(){return s(i)},n.callback=function(){jx(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){jx(e,t),typeof s!="function"&&(Sa===null?Sa=new Set([this]):Sa.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function Gj(e,t,n){var s=e.pingCache;if(s===null){s=e.pingCache=new n3;var i=new Set;s.set(t,i)}else i=s.get(t),i===void 0&&(i=new Set,s.set(t,i));i.has(n)||(i.add(n),e=g3.bind(null,e,t,n),t.then(e,e))}function Yj(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Qj(e,t,n,s,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Pi(-1,1),t.tag=2,Na(n,t,1))),n.lanes|=1),e)}var r3=zi.ReactCurrentOwner,Nr=!1;function cr(e,t,n,s){t.child=e===null?rk(t,null,n,s):Xl(t,e.child,n,s)}function Xj(e,t,n,s,i){n=n.render;var o=t.ref;return Sl(t,i),s=uy(e,t,n,s,o,i),n=fy(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ri(e,t,i)):(Vt&&n&&Jv(t),t.flags|=1,cr(e,t,s,i),t.child)}function Jj(e,t,n,s,i){if(e===null){var o=n.type;return typeof o=="function"&&!_y(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Tk(e,t,o,s,i)):(e=Zf(n.type,null,s,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&i)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:Od,n(l,s)&&e.ref===t.ref)return Ri(e,t,i)}return t.flags|=1,e=Pa(o,s),e.ref=t.ref,e.return=t,t.child=e}function Tk(e,t,n,s,i){if(e!==null){var o=e.memoizedProps;if(Od(o,s)&&e.ref===t.ref)if(Nr=!1,t.pendingProps=s=o,(e.lanes&i)!==0)e.flags&131072&&(Nr=!0);else return t.lanes=e.lanes,Ri(e,t,i)}return _x(e,t,n,s,i)}function Ek(e,t,n){var s=t.pendingProps,i=s.children,o=e!==null?e.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rt(yl,Ar),Ar|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Rt(yl,Ar),Ar|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=o!==null?o.baseLanes:n,Rt(yl,Ar),Ar|=s}else o!==null?(s=o.baseLanes|n,t.memoizedState=null):s=n,Rt(yl,Ar),Ar|=s;return cr(e,t,i,n),t.child}function Mk(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function _x(e,t,n,s,i){var o=Pr(n)?jo:er.current;return o=Yl(t,o),Sl(t,i),n=uy(e,t,n,s,o,i),s=fy(),e!==null&&!Nr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ri(e,t,i)):(Vt&&s&&Jv(t),t.flags|=1,cr(e,t,n,i),t.child)}function e_(e,t,n,s,i){if(Pr(n)){var o=!0;hh(t)}else o=!1;if(Sl(t,i),t.stateNode===null)Wf(e,t),Ck(t,n,s),wx(t,n,s,i),s=!0;else if(e===null){var l=t.stateNode,d=t.memoizedProps;l.props=d;var u=l.context,h=n.contextType;typeof h=="object"&&h!==null?h=cs(h):(h=Pr(n)?jo:er.current,h=Yl(t,h));var m=n.getDerivedStateFromProps,p=typeof m=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==s||u!==h)&&Kj(t,l,s,h),ra=!1;var x=t.memoizedState;l.state=x,vh(t,s,l,i),u=t.memoizedState,d!==s||x!==u||Cr.current||ra?(typeof m=="function"&&(yx(t,n,m,s),u=t.memoizedState),(d=ra||Zj(t,n,d,s,x,u,h))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=u),l.props=s,l.state=u,l.context=h,s=d):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{l=t.stateNode,ik(e,t),d=t.memoizedProps,h=t.type===t.elementType?d:gs(t.type,d),l.props=h,p=t.pendingProps,x=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=cs(u):(u=Pr(n)?jo:er.current,u=Yl(t,u));var j=n.getDerivedStateFromProps;(m=typeof j=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(d!==p||x!==u)&&Kj(t,l,s,u),ra=!1,x=t.memoizedState,l.state=x,vh(t,s,l,i);var C=t.memoizedState;d!==p||x!==C||Cr.current||ra?(typeof j=="function"&&(yx(t,n,j,s),C=t.memoizedState),(h=ra||Zj(t,n,h,s,x,C,u)||!1)?(m||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(s,C,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(s,C,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=C),l.props=s,l.state=C,l.context=u,s=h):(typeof l.componentDidUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),s=!1)}return bx(e,t,n,s,o,i)}function bx(e,t,n,s,i,o){Mk(e,t);var l=(t.flags&128)!==0;if(!s&&!l)return i&&zj(t,n,!1),Ri(e,t,o);s=t.stateNode,r3.current=t;var d=l&&typeof n.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,e!==null&&l?(t.child=Xl(t,e.child,null,o),t.child=Xl(t,null,d,o)):cr(e,t,d,o),t.memoizedState=s.state,i&&zj(t,n,!0),t.child}function Ak(e){var t=e.stateNode;t.pendingContext?Fj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Fj(e,t.context,!1),oy(e,t.containerInfo)}function t_(e,t,n,s,i){return Ql(),ty(i),t.flags|=256,cr(e,t,n,s),t.child}var Nx={dehydrated:null,treeContext:null,retryLane:0};function Sx(e){return{baseLanes:e,cachePool:null,transitions:null}}function Rk(e,t,n){var s=t.pendingProps,i=Zt.current,o=!1,l=(t.flags&128)!==0,d;if((d=l)||(d=e!==null&&e.memoizedState===null?!1:(i&2)!==0),d?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Rt(Zt,i&1),e===null)return xx(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},!(s&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=_m(l,s,0,null),e=yo(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Sx(n),t.memoizedState=Nx,e):py(t,l));if(i=e.memoizedState,i!==null&&(d=i.dehydrated,d!==null))return s3(e,t,l,s,d,i,n);if(o){o=s.fallback,l=t.mode,i=e.child,d=i.sibling;var u={mode:"hidden",children:s.children};return!(l&1)&&t.child!==i?(s=t.child,s.childLanes=0,s.pendingProps=u,t.deletions=null):(s=Pa(i,u),s.subtreeFlags=i.subtreeFlags&14680064),d!==null?o=Pa(d,o):(o=yo(o,l,n,null),o.flags|=2),o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=e.child.memoizedState,l=l===null?Sx(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Nx,s}return o=e.child,e=o.sibling,s=Pa(o,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=n),s.return=t,s.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function py(e,t){return t=_m({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jf(e,t,n,s){return s!==null&&ty(s),Xl(t,e.child,null,n),e=py(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s3(e,t,n,s,i,o,l){if(n)return t.flags&256?(t.flags&=-257,s=lg(Error(de(422))),jf(e,t,l,s)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=s.fallback,i=t.mode,s=_m({mode:"visible",children:s.children},i,0,null),o=yo(o,i,l,null),o.flags|=2,s.return=t,o.return=t,s.sibling=o,t.child=s,t.mode&1&&Xl(t,e.child,null,l),t.child.memoizedState=Sx(l),t.memoizedState=Nx,o);if(!(t.mode&1))return jf(e,t,l,null);if(i.data==="$!"){if(s=i.nextSibling&&i.nextSibling.dataset,s)var d=s.dgst;return s=d,o=Error(de(419)),s=lg(o,s,void 0),jf(e,t,l,s)}if(d=(l&e.childLanes)!==0,Nr||d){if(s=Rn,s!==null){switch(l&-l){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(s.suspendedLanes|l)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Ai(e,i),Ss(s,e,i,-1))}return jy(),s=lg(Error(de(421))),jf(e,t,l,s)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=x3.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,Ir=ba(i.nextSibling),Dr=t,Vt=!0,ys=null,e!==null&&(ts[ns++]=Si,ts[ns++]=Ci,ts[ns++]=_o,Si=e.id,Ci=e.overflow,_o=t),t=py(t,s.children),t.flags|=4096,t)}function n_(e,t,n){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),vx(e.return,t,n)}function cg(e,t,n,s,i){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=s,o.tail=n,o.tailMode=i)}function Lk(e,t,n){var s=t.pendingProps,i=s.revealOrder,o=s.tail;if(cr(e,t,s.children,n),s=Zt.current,s&2)s=s&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&n_(e,n,t);else if(e.tag===19)n_(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}s&=1}if(Rt(Zt,s),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&yh(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),cg(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&yh(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}cg(t,!0,n,null,o);break;case"together":cg(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wf(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ri(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),No|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(de(153));if(t.child!==null){for(e=t.child,n=Pa(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Pa(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function i3(e,t,n){switch(t.tag){case 3:Ak(t),Ql();break;case 5:ak(t);break;case 1:Pr(t.type)&&hh(t);break;case 4:oy(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,i=t.memoizedProps.value;Rt(gh,s._currentValue),s._currentValue=i;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(Rt(Zt,Zt.current&1),t.flags|=128,null):n&t.child.childLanes?Rk(e,t,n):(Rt(Zt,Zt.current&1),e=Ri(e,t,n),e!==null?e.sibling:null);Rt(Zt,Zt.current&1);break;case 19:if(s=(n&t.childLanes)!==0,e.flags&128){if(s)return Lk(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rt(Zt,Zt.current),s)break;return null;case 22:case 23:return t.lanes=0,Ek(e,t,n)}return Ri(e,t,n)}var Ik,Cx,Ok,Dk;Ik=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Cx=function(){};Ok=function(e,t,n,s){var i=e.memoizedProps;if(i!==s){e=t.stateNode,oo(ni.current);var o=null;switch(n){case"input":i=Kg(e,i),s=Kg(e,s),o=[];break;case"select":i=Gt({},i,{value:void 0}),s=Gt({},s,{value:void 0}),o=[];break;case"textarea":i=Qg(e,i),s=Qg(e,s),o=[];break;default:typeof i.onClick!="function"&&typeof s.onClick=="function"&&(e.onclick=uh)}Jg(n,s);var l;n=null;for(h in i)if(!s.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var d=i[h];for(l in d)d.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Td.hasOwnProperty(h)?o||(o=[]):(o=o||[]).push(h,null));for(h in s){var u=s[h];if(d=i!=null?i[h]:void 0,s.hasOwnProperty(h)&&u!==d&&(u!=null||d!=null))if(h==="style")if(d){for(l in d)!d.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&d[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(o||(o=[]),o.push(h,n)),n=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,d=d?d.__html:void 0,u!=null&&d!==u&&(o=o||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Td.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&Dt("scroll",e),o||d===u||(o=[])):(o=o||[]).push(h,u))}n&&(o=o||[]).push("style",n);var h=o;(t.updateQueue=h)&&(t.flags|=4)}};Dk=function(e,t,n,s){n!==s&&(t.flags|=4)};function Zc(e,t){if(!Vt)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function Yn(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,s=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags&14680064,s|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,s|=i.subtreeFlags,s|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=s,e.childLanes=n,t}function a3(e,t,n){var s=t.pendingProps;switch(ey(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Yn(t),null;case 1:return Pr(t.type)&&fh(),Yn(t),null;case 3:return s=t.stateNode,Jl(),zt(Cr),zt(er),cy(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(yf(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,ys!==null&&(Lx(ys),ys=null))),Cx(e,t),Yn(t),null;case 5:ly(t);var i=oo($d.current);if(n=t.type,e!==null&&t.stateNode!=null)Ok(e,t,n,s,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(de(166));return Yn(t),null}if(e=oo(ni.current),yf(t)){s=t.stateNode,n=t.type;var o=t.memoizedProps;switch(s[Ys]=t,s[zd]=o,e=(t.mode&1)!==0,n){case"dialog":Dt("cancel",s),Dt("close",s);break;case"iframe":case"object":case"embed":Dt("load",s);break;case"video":case"audio":for(i=0;i<ad.length;i++)Dt(ad[i],s);break;case"source":Dt("error",s);break;case"img":case"image":case"link":Dt("error",s),Dt("load",s);break;case"details":Dt("toggle",s);break;case"input":uj(s,o),Dt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!o.multiple},Dt("invalid",s);break;case"textarea":hj(s,o),Dt("invalid",s)}Jg(n,o),i=null;for(var l in o)if(o.hasOwnProperty(l)){var d=o[l];l==="children"?typeof d=="string"?s.textContent!==d&&(o.suppressHydrationWarning!==!0&&vf(s.textContent,d,e),i=["children",d]):typeof d=="number"&&s.textContent!==""+d&&(o.suppressHydrationWarning!==!0&&vf(s.textContent,d,e),i=["children",""+d]):Td.hasOwnProperty(l)&&d!=null&&l==="onScroll"&&Dt("scroll",s)}switch(n){case"input":df(s),fj(s,o,!0);break;case"textarea":df(s),mj(s);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(s.onclick=uh)}s=i,t.updateQueue=s,s!==null&&(t.flags|=4)}else{l=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=uP(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof s.is=="string"?e=l.createElement(n,{is:s.is}):(e=l.createElement(n),n==="select"&&(l=e,s.multiple?l.multiple=!0:s.size&&(l.size=s.size))):e=l.createElementNS(e,n),e[Ys]=t,e[zd]=s,Ik(e,t,!1,!1),t.stateNode=e;e:{switch(l=ex(n,s),n){case"dialog":Dt("cancel",e),Dt("close",e),i=s;break;case"iframe":case"object":case"embed":Dt("load",e),i=s;break;case"video":case"audio":for(i=0;i<ad.length;i++)Dt(ad[i],e);i=s;break;case"source":Dt("error",e),i=s;break;case"img":case"image":case"link":Dt("error",e),Dt("load",e),i=s;break;case"details":Dt("toggle",e),i=s;break;case"input":uj(e,s),i=Kg(e,s),Dt("invalid",e);break;case"option":i=s;break;case"select":e._wrapperState={wasMultiple:!!s.multiple},i=Gt({},s,{value:void 0}),Dt("invalid",e);break;case"textarea":hj(e,s),i=Qg(e,s),Dt("invalid",e);break;default:i=s}Jg(n,i),d=i;for(o in d)if(d.hasOwnProperty(o)){var u=d[o];o==="style"?mP(e,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&fP(e,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ed(e,u):typeof u=="number"&&Ed(e,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Td.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Dt("scroll",e):u!=null&&zv(e,o,u,l))}switch(n){case"input":df(e),fj(e,s,!1);break;case"textarea":df(e),mj(e);break;case"option":s.value!=null&&e.setAttribute("value",""+Ea(s.value));break;case"select":e.multiple=!!s.multiple,o=s.value,o!=null?jl(e,!!s.multiple,o,!1):s.defaultValue!=null&&jl(e,!!s.multiple,s.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=uh)}switch(n){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Yn(t),null;case 6:if(e&&t.stateNode!=null)Dk(e,t,e.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(de(166));if(n=oo($d.current),oo(ni.current),yf(t)){if(s=t.stateNode,n=t.memoizedProps,s[Ys]=t,(o=s.nodeValue!==n)&&(e=Dr,e!==null))switch(e.tag){case 3:vf(s.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&vf(s.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else s=(n.nodeType===9?n:n.ownerDocument).createTextNode(s),s[Ys]=t,t.stateNode=s}return Yn(t),null;case 13:if(zt(Zt),s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Vt&&Ir!==null&&t.mode&1&&!(t.flags&128))tk(),Ql(),t.flags|=98560,o=!1;else if(o=yf(t),s!==null&&s.dehydrated!==null){if(e===null){if(!o)throw Error(de(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(de(317));o[Ys]=t}else Ql(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Yn(t),o=!1}else ys!==null&&(Lx(ys),ys=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(s=s!==null,s!==(e!==null&&e.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(e===null||Zt.current&1?_n===0&&(_n=3):jy())),t.updateQueue!==null&&(t.flags|=4),Yn(t),null);case 4:return Jl(),Cx(e,t),e===null&&Dd(t.stateNode.containerInfo),Yn(t),null;case 10:return sy(t.type._context),Yn(t),null;case 17:return Pr(t.type)&&fh(),Yn(t),null;case 19:if(zt(Zt),o=t.memoizedState,o===null)return Yn(t),null;if(s=(t.flags&128)!==0,l=o.rendering,l===null)if(s)Zc(o,!1);else{if(_n!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=yh(e),l!==null){for(t.flags|=128,Zc(o,!1),s=l.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=n,n=t.child;n!==null;)o=n,e=s,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Rt(Zt,Zt.current&1|2),t.child}e=e.sibling}o.tail!==null&&tn()>tc&&(t.flags|=128,s=!0,Zc(o,!1),t.lanes=4194304)}else{if(!s)if(e=yh(l),e!==null){if(t.flags|=128,s=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Zc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Vt)return Yn(t),null}else 2*tn()-o.renderingStartTime>tc&&n!==1073741824&&(t.flags|=128,s=!0,Zc(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(n=o.last,n!==null?n.sibling=l:t.child=l,o.last=l)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=tn(),t.sibling=null,n=Zt.current,Rt(Zt,s?n&1|2:n&1),t):(Yn(t),null);case 22:case 23:return wy(),s=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?Ar&1073741824&&(Yn(t),t.subtreeFlags&6&&(t.flags|=8192)):Yn(t),null;case 24:return null;case 25:return null}throw Error(de(156,t.tag))}function o3(e,t){switch(ey(t),t.tag){case 1:return Pr(t.type)&&fh(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Jl(),zt(Cr),zt(er),cy(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return ly(t),null;case 13:if(zt(Zt),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(de(340));Ql()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return zt(Zt),null;case 4:return Jl(),null;case 10:return sy(t.type._context),null;case 22:case 23:return wy(),null;case 24:return null;default:return null}}var _f=!1,Xn=!1,l3=typeof WeakSet=="function"?WeakSet:Set,Te=null;function vl(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(s){Qt(e,t,s)}else n.current=null}function Px(e,t,n){try{n()}catch(s){Qt(e,t,s)}}var r_=!1;function c3(e,t){if(dx=lh,e=VP(),Xv(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var s=n.getSelection&&n.getSelection();if(s&&s.rangeCount!==0){n=s.anchorNode;var i=s.anchorOffset,o=s.focusNode;s=s.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,d=-1,u=-1,h=0,m=0,p=e,x=null;t:for(;;){for(var j;p!==n||i!==0&&p.nodeType!==3||(d=l+i),p!==o||s!==0&&p.nodeType!==3||(u=l+s),p.nodeType===3&&(l+=p.nodeValue.length),(j=p.firstChild)!==null;)x=p,p=j;for(;;){if(p===e)break t;if(x===n&&++h===i&&(d=l),x===o&&++m===s&&(u=l),(j=p.nextSibling)!==null)break;p=x,x=p.parentNode}p=j}n=d===-1||u===-1?null:{start:d,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(ux={focusedElem:e,selectionRange:n},lh=!1,Te=t;Te!==null;)if(t=Te,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Te=e;else for(;Te!==null;){t=Te;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var g=C.memoizedProps,S=C.memoizedState,_=t.stateNode,w=_.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),S);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(de(163))}}catch(P){Qt(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,Te=e;break}Te=t.return}return C=r_,r_=!1,C}function yd(e,t,n){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var i=s=s.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,o!==void 0&&Px(t,n,o)}i=i.next}while(i!==s)}}function wm(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var s=n.create;n.destroy=s()}n=n.next}while(n!==t)}}function kx(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Fk(e){var t=e.alternate;t!==null&&(e.alternate=null,Fk(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ys],delete t[zd],delete t[mx],delete t[HF],delete t[qF])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zk(e){return e.tag===5||e.tag===3||e.tag===4}function s_(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zk(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Tx(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=uh));else if(s!==4&&(e=e.child,e!==null))for(Tx(e,t,n),e=e.sibling;e!==null;)Tx(e,t,n),e=e.sibling}function Ex(e,t,n){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(s!==4&&(e=e.child,e!==null))for(Ex(e,t,n),e=e.sibling;e!==null;)Ex(e,t,n),e=e.sibling}var Fn=null,vs=!1;function qi(e,t,n){for(n=n.child;n!==null;)Bk(e,t,n),n=n.sibling}function Bk(e,t,n){if(ti&&typeof ti.onCommitFiberUnmount=="function")try{ti.onCommitFiberUnmount(fm,n)}catch{}switch(n.tag){case 5:Xn||vl(n,t);case 6:var s=Fn,i=vs;Fn=null,qi(e,t,n),Fn=s,vs=i,Fn!==null&&(vs?(e=Fn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Fn.removeChild(n.stateNode));break;case 18:Fn!==null&&(vs?(e=Fn,n=n.stateNode,e.nodeType===8?ng(e.parentNode,n):e.nodeType===1&&ng(e,n),Ld(e)):ng(Fn,n.stateNode));break;case 4:s=Fn,i=vs,Fn=n.stateNode.containerInfo,vs=!0,qi(e,t,n),Fn=s,vs=i;break;case 0:case 11:case 14:case 15:if(!Xn&&(s=n.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){i=s=s.next;do{var o=i,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Px(n,t,l),i=i.next}while(i!==s)}qi(e,t,n);break;case 1:if(!Xn&&(vl(n,t),s=n.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=n.memoizedProps,s.state=n.memoizedState,s.componentWillUnmount()}catch(d){Qt(n,t,d)}qi(e,t,n);break;case 21:qi(e,t,n);break;case 22:n.mode&1?(Xn=(s=Xn)||n.memoizedState!==null,qi(e,t,n),Xn=s):qi(e,t,n);break;default:qi(e,t,n)}}function i_(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new l3),t.forEach(function(s){var i=v3.bind(null,e,s);n.has(s)||(n.add(s),s.then(i,i))})}}function ms(e,t){var n=t.deletions;if(n!==null)for(var s=0;s<n.length;s++){var i=n[s];try{var o=e,l=t,d=l;e:for(;d!==null;){switch(d.tag){case 5:Fn=d.stateNode,vs=!1;break e;case 3:Fn=d.stateNode.containerInfo,vs=!0;break e;case 4:Fn=d.stateNode.containerInfo,vs=!0;break e}d=d.return}if(Fn===null)throw Error(de(160));Bk(o,l,i),Fn=null,vs=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){Qt(i,t,h)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)$k(t,e),t=t.sibling}function $k(e,t){var n=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ms(t,e),Us(e),s&4){try{yd(3,e,e.return),wm(3,e)}catch(g){Qt(e,e.return,g)}try{yd(5,e,e.return)}catch(g){Qt(e,e.return,g)}}break;case 1:ms(t,e),Us(e),s&512&&n!==null&&vl(n,n.return);break;case 5:if(ms(t,e),Us(e),s&512&&n!==null&&vl(n,n.return),e.flags&32){var i=e.stateNode;try{Ed(i,"")}catch(g){Qt(e,e.return,g)}}if(s&4&&(i=e.stateNode,i!=null)){var o=e.memoizedProps,l=n!==null?n.memoizedProps:o,d=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{d==="input"&&o.type==="radio"&&o.name!=null&&cP(i,o),ex(d,l);var h=ex(d,o);for(l=0;l<u.length;l+=2){var m=u[l],p=u[l+1];m==="style"?mP(i,p):m==="dangerouslySetInnerHTML"?fP(i,p):m==="children"?Ed(i,p):zv(i,m,p,h)}switch(d){case"input":Gg(i,o);break;case"textarea":dP(i,o);break;case"select":var x=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var j=o.value;j!=null?jl(i,!!o.multiple,j,!1):x!==!!o.multiple&&(o.defaultValue!=null?jl(i,!!o.multiple,o.defaultValue,!0):jl(i,!!o.multiple,o.multiple?[]:"",!1))}i[zd]=o}catch(g){Qt(e,e.return,g)}}break;case 6:if(ms(t,e),Us(e),s&4){if(e.stateNode===null)throw Error(de(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){Qt(e,e.return,g)}}break;case 3:if(ms(t,e),Us(e),s&4&&n!==null&&n.memoizedState.isDehydrated)try{Ld(t.containerInfo)}catch(g){Qt(e,e.return,g)}break;case 4:ms(t,e),Us(e);break;case 13:ms(t,e),Us(e),i=e.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(vy=tn())),s&4&&i_(e);break;case 22:if(m=n!==null&&n.memoizedState!==null,e.mode&1?(Xn=(h=Xn)||m,ms(t,e),Xn=h):ms(t,e),Us(e),s&8192){if(h=e.memoizedState!==null,(e.stateNode.isHidden=h)&&!m&&e.mode&1)for(Te=e,m=e.child;m!==null;){for(p=Te=m;Te!==null;){switch(x=Te,j=x.child,x.tag){case 0:case 11:case 14:case 15:yd(4,x,x.return);break;case 1:vl(x,x.return);var C=x.stateNode;if(typeof C.componentWillUnmount=="function"){s=x,n=x.return;try{t=s,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(g){Qt(s,n,g)}}break;case 5:vl(x,x.return);break;case 22:if(x.memoizedState!==null){o_(p);continue}}j!==null?(j.return=x,Te=j):o_(p)}m=m.sibling}e:for(m=null,p=e;;){if(p.tag===5){if(m===null){m=p;try{i=p.stateNode,h?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(d=p.stateNode,u=p.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,d.style.display=hP("display",l))}catch(g){Qt(e,e.return,g)}}}else if(p.tag===6){if(m===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(g){Qt(e,e.return,g)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;m===p&&(m=null),p=p.return}m===p&&(m=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ms(t,e),Us(e),s&4&&i_(e);break;case 21:break;default:ms(t,e),Us(e)}}function Us(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(zk(n)){var s=n;break e}n=n.return}throw Error(de(160))}switch(s.tag){case 5:var i=s.stateNode;s.flags&32&&(Ed(i,""),s.flags&=-33);var o=s_(e);Ex(e,o,i);break;case 3:case 4:var l=s.stateNode.containerInfo,d=s_(e);Tx(e,d,l);break;default:throw Error(de(161))}}catch(u){Qt(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function d3(e,t,n){Te=e,Vk(e)}function Vk(e,t,n){for(var s=(e.mode&1)!==0;Te!==null;){var i=Te,o=i.child;if(i.tag===22&&s){var l=i.memoizedState!==null||_f;if(!l){var d=i.alternate,u=d!==null&&d.memoizedState!==null||Xn;d=_f;var h=Xn;if(_f=l,(Xn=u)&&!h)for(Te=i;Te!==null;)l=Te,u=l.child,l.tag===22&&l.memoizedState!==null?l_(i):u!==null?(u.return=l,Te=u):l_(i);for(;o!==null;)Te=o,Vk(o),o=o.sibling;Te=i,_f=d,Xn=h}a_(e)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Te=o):a_(e)}}function a_(e){for(;Te!==null;){var t=Te;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Xn||wm(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Xn)if(n===null)s.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);s.componentDidUpdate(i,n.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Wj(t,o,s);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Wj(t,l,n)}break;case 5:var d=t.stateNode;if(n===null&&t.flags&4){n=d;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var h=t.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var p=m.dehydrated;p!==null&&Ld(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(de(163))}Xn||t.flags&512&&kx(t)}catch(x){Qt(t,t.return,x)}}if(t===e){Te=null;break}if(n=t.sibling,n!==null){n.return=t.return,Te=n;break}Te=t.return}}function o_(e){for(;Te!==null;){var t=Te;if(t===e){Te=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Te=n;break}Te=t.return}}function l_(e){for(;Te!==null;){var t=Te;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{wm(4,t)}catch(u){Qt(t,n,u)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var i=t.return;try{s.componentDidMount()}catch(u){Qt(t,i,u)}}var o=t.return;try{kx(t)}catch(u){Qt(t,o,u)}break;case 5:var l=t.return;try{kx(t)}catch(u){Qt(t,l,u)}}}catch(u){Qt(t,t.return,u)}if(t===e){Te=null;break}var d=t.sibling;if(d!==null){d.return=t.return,Te=d;break}Te=t.return}}var u3=Math.ceil,_h=zi.ReactCurrentDispatcher,gy=zi.ReactCurrentOwner,as=zi.ReactCurrentBatchConfig,yt=0,Rn=null,on=null,Un=0,Ar=0,yl=Ba(0),_n=0,Hd=null,No=0,jm=0,xy=0,wd=null,_r=null,vy=0,tc=1/0,wi=null,bh=!1,Mx=null,Sa=null,bf=!1,xa=null,Nh=0,jd=0,Ax=null,Hf=-1,qf=0;function mr(){return yt&6?tn():Hf!==-1?Hf:Hf=tn()}function Ca(e){return e.mode&1?yt&2&&Un!==0?Un&-Un:KF.transition!==null?(qf===0&&(qf=CP()),qf):(e=Mt,e!==0||(e=window.event,e=e===void 0?16:RP(e.type)),e):1}function Ss(e,t,n,s){if(50<jd)throw jd=0,Ax=null,Error(de(185));yu(e,n,s),(!(yt&2)||e!==Rn)&&(e===Rn&&(!(yt&2)&&(jm|=n),_n===4&&ia(e,Un)),kr(e,s),n===1&&yt===0&&!(t.mode&1)&&(tc=tn()+500,xm&&$a()))}function kr(e,t){var n=e.callbackNode;KD(e,t);var s=oh(e,e===Rn?Un:0);if(s===0)n!==null&&xj(n),e.callbackNode=null,e.callbackPriority=0;else if(t=s&-s,e.callbackPriority!==t){if(n!=null&&xj(n),t===1)e.tag===0?ZF(c_.bind(null,e)):XP(c_.bind(null,e)),UF(function(){!(yt&6)&&$a()}),n=null;else{switch(PP(s)){case 1:n=Wv;break;case 4:n=NP;break;case 16:n=ah;break;case 536870912:n=SP;break;default:n=ah}n=Yk(n,Uk.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Uk(e,t){if(Hf=-1,qf=0,yt&6)throw Error(de(327));var n=e.callbackNode;if(Cl()&&e.callbackNode!==n)return null;var s=oh(e,e===Rn?Un:0);if(s===0)return null;if(s&30||s&e.expiredLanes||t)t=Sh(e,s);else{t=s;var i=yt;yt|=2;var o=Hk();(Rn!==e||Un!==t)&&(wi=null,tc=tn()+500,vo(e,t));do try{m3();break}catch(d){Wk(e,d)}while(!0);ry(),_h.current=o,yt=i,on!==null?t=0:(Rn=null,Un=0,t=_n)}if(t!==0){if(t===2&&(i=ix(e),i!==0&&(s=i,t=Rx(e,i))),t===1)throw n=Hd,vo(e,0),ia(e,s),kr(e,tn()),n;if(t===6)ia(e,s);else{if(i=e.current.alternate,!(s&30)&&!f3(i)&&(t=Sh(e,s),t===2&&(o=ix(e),o!==0&&(s=o,t=Rx(e,o))),t===1))throw n=Hd,vo(e,0),ia(e,s),kr(e,tn()),n;switch(e.finishedWork=i,e.finishedLanes=s,t){case 0:case 1:throw Error(de(345));case 2:no(e,_r,wi);break;case 3:if(ia(e,s),(s&130023424)===s&&(t=vy+500-tn(),10<t)){if(oh(e,0)!==0)break;if(i=e.suspendedLanes,(i&s)!==s){mr(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hx(no.bind(null,e,_r,wi),t);break}no(e,_r,wi);break;case 4:if(ia(e,s),(s&4194240)===s)break;for(t=e.eventTimes,i=-1;0<s;){var l=31-Ns(s);o=1<<l,l=t[l],l>i&&(i=l),s&=~o}if(s=i,s=tn()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*u3(s/1960))-s,10<s){e.timeoutHandle=hx(no.bind(null,e,_r,wi),s);break}no(e,_r,wi);break;case 5:no(e,_r,wi);break;default:throw Error(de(329))}}}return kr(e,tn()),e.callbackNode===n?Uk.bind(null,e):null}function Rx(e,t){var n=wd;return e.current.memoizedState.isDehydrated&&(vo(e,t).flags|=256),e=Sh(e,t),e!==2&&(t=_r,_r=n,t!==null&&Lx(t)),e}function Lx(e){_r===null?_r=e:_r.push.apply(_r,e)}function f3(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var s=0;s<n.length;s++){var i=n[s],o=i.getSnapshot;i=i.value;try{if(!Es(o(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ia(e,t){for(t&=~xy,t&=~jm,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Ns(t),s=1<<n;e[n]=-1,t&=~s}}function c_(e){if(yt&6)throw Error(de(327));Cl();var t=oh(e,0);if(!(t&1))return kr(e,tn()),null;var n=Sh(e,t);if(e.tag!==0&&n===2){var s=ix(e);s!==0&&(t=s,n=Rx(e,s))}if(n===1)throw n=Hd,vo(e,0),ia(e,t),kr(e,tn()),n;if(n===6)throw Error(de(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,no(e,_r,wi),kr(e,tn()),null}function yy(e,t){var n=yt;yt|=1;try{return e(t)}finally{yt=n,yt===0&&(tc=tn()+500,xm&&$a())}}function So(e){xa!==null&&xa.tag===0&&!(yt&6)&&Cl();var t=yt;yt|=1;var n=as.transition,s=Mt;try{if(as.transition=null,Mt=1,e)return e()}finally{Mt=s,as.transition=n,yt=t,!(yt&6)&&$a()}}function wy(){Ar=yl.current,zt(yl)}function vo(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,VF(n)),on!==null)for(n=on.return;n!==null;){var s=n;switch(ey(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&fh();break;case 3:Jl(),zt(Cr),zt(er),cy();break;case 5:ly(s);break;case 4:Jl();break;case 13:zt(Zt);break;case 19:zt(Zt);break;case 10:sy(s.type._context);break;case 22:case 23:wy()}n=n.return}if(Rn=e,on=e=Pa(e.current,null),Un=Ar=t,_n=0,Hd=null,xy=jm=No=0,_r=wd=null,ao!==null){for(t=0;t<ao.length;t++)if(n=ao[t],s=n.interleaved,s!==null){n.interleaved=null;var i=s.next,o=n.pending;if(o!==null){var l=o.next;o.next=i,s.next=l}n.pending=s}ao=null}return e}function Wk(e,t){do{var n=on;try{if(ry(),Vf.current=jh,wh){for(var s=Kt.memoizedState;s!==null;){var i=s.queue;i!==null&&(i.pending=null),s=s.next}wh=!1}if(bo=0,kn=wn=Kt=null,vd=!1,Vd=0,gy.current=null,n===null||n.return===null){_n=1,Hd=t,on=null;break}e:{var o=e,l=n.return,d=n,u=t;if(t=Un,d.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,m=d,p=m.tag;if(!(m.mode&1)&&(p===0||p===11||p===15)){var x=m.alternate;x?(m.updateQueue=x.updateQueue,m.memoizedState=x.memoizedState,m.lanes=x.lanes):(m.updateQueue=null,m.memoizedState=null)}var j=Yj(l);if(j!==null){j.flags&=-257,Qj(j,l,d,o,t),j.mode&1&&Gj(o,h,t),t=j,u=h;var C=t.updateQueue;if(C===null){var g=new Set;g.add(u),t.updateQueue=g}else C.add(u);break e}else{if(!(t&1)){Gj(o,h,t),jy();break e}u=Error(de(426))}}else if(Vt&&d.mode&1){var S=Yj(l);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Qj(S,l,d,o,t),ty(ec(u,d));break e}}o=u=ec(u,d),_n!==4&&(_n=2),wd===null?wd=[o]:wd.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var _=Pk(o,u,t);Uj(o,_);break e;case 1:d=u;var w=o.type,N=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Sa===null||!Sa.has(N)))){o.flags|=65536,t&=-t,o.lanes|=t;var P=kk(o,d,t);Uj(o,P);break e}}o=o.return}while(o!==null)}Zk(n)}catch(M){t=M,on===n&&n!==null&&(on=n=n.return);continue}break}while(!0)}function Hk(){var e=_h.current;return _h.current=jh,e===null?jh:e}function jy(){(_n===0||_n===3||_n===2)&&(_n=4),Rn===null||!(No&268435455)&&!(jm&268435455)||ia(Rn,Un)}function Sh(e,t){var n=yt;yt|=2;var s=Hk();(Rn!==e||Un!==t)&&(wi=null,vo(e,t));do try{h3();break}catch(i){Wk(e,i)}while(!0);if(ry(),yt=n,_h.current=s,on!==null)throw Error(de(261));return Rn=null,Un=0,_n}function h3(){for(;on!==null;)qk(on)}function m3(){for(;on!==null&&!zD();)qk(on)}function qk(e){var t=Gk(e.alternate,e,Ar);e.memoizedProps=e.pendingProps,t===null?Zk(e):on=t,gy.current=null}function Zk(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=o3(n,t),n!==null){n.flags&=32767,on=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{_n=6,on=null;return}}else if(n=a3(n,t,Ar),n!==null){on=n;return}if(t=t.sibling,t!==null){on=t;return}on=t=e}while(t!==null);_n===0&&(_n=5)}function no(e,t,n){var s=Mt,i=as.transition;try{as.transition=null,Mt=1,p3(e,t,n,s)}finally{as.transition=i,Mt=s}return null}function p3(e,t,n,s){do Cl();while(xa!==null);if(yt&6)throw Error(de(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(de(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(GD(e,o),e===Rn&&(on=Rn=null,Un=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||bf||(bf=!0,Yk(ah,function(){return Cl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=as.transition,as.transition=null;var l=Mt;Mt=1;var d=yt;yt|=4,gy.current=null,c3(e,n),$k(n,e),IF(ux),lh=!!dx,ux=dx=null,e.current=n,d3(n),BD(),yt=d,Mt=l,as.transition=o}else e.current=n;if(bf&&(bf=!1,xa=e,Nh=i),o=e.pendingLanes,o===0&&(Sa=null),UD(n.stateNode),kr(e,tn()),t!==null)for(s=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],s(i.value,{componentStack:i.stack,digest:i.digest});if(bh)throw bh=!1,e=Mx,Mx=null,e;return Nh&1&&e.tag!==0&&Cl(),o=e.pendingLanes,o&1?e===Ax?jd++:(jd=0,Ax=e):jd=0,$a(),null}function Cl(){if(xa!==null){var e=PP(Nh),t=as.transition,n=Mt;try{if(as.transition=null,Mt=16>e?16:e,xa===null)var s=!1;else{if(e=xa,xa=null,Nh=0,yt&6)throw Error(de(331));var i=yt;for(yt|=4,Te=e.current;Te!==null;){var o=Te,l=o.child;if(Te.flags&16){var d=o.deletions;if(d!==null){for(var u=0;u<d.length;u++){var h=d[u];for(Te=h;Te!==null;){var m=Te;switch(m.tag){case 0:case 11:case 15:yd(8,m,o)}var p=m.child;if(p!==null)p.return=m,Te=p;else for(;Te!==null;){m=Te;var x=m.sibling,j=m.return;if(Fk(m),m===h){Te=null;break}if(x!==null){x.return=j,Te=x;break}Te=j}}}var C=o.alternate;if(C!==null){var g=C.child;if(g!==null){C.child=null;do{var S=g.sibling;g.sibling=null,g=S}while(g!==null)}}Te=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,Te=l;else e:for(;Te!==null;){if(o=Te,o.flags&2048)switch(o.tag){case 0:case 11:case 15:yd(9,o,o.return)}var _=o.sibling;if(_!==null){_.return=o.return,Te=_;break e}Te=o.return}}var w=e.current;for(Te=w;Te!==null;){l=Te;var N=l.child;if(l.subtreeFlags&2064&&N!==null)N.return=l,Te=N;else e:for(l=w;Te!==null;){if(d=Te,d.flags&2048)try{switch(d.tag){case 0:case 11:case 15:wm(9,d)}}catch(M){Qt(d,d.return,M)}if(d===l){Te=null;break e}var P=d.sibling;if(P!==null){P.return=d.return,Te=P;break e}Te=d.return}}if(yt=i,$a(),ti&&typeof ti.onPostCommitFiberRoot=="function")try{ti.onPostCommitFiberRoot(fm,e)}catch{}s=!0}return s}finally{Mt=n,as.transition=t}}return!1}function d_(e,t,n){t=ec(n,t),t=Pk(e,t,1),e=Na(e,t,1),t=mr(),e!==null&&(yu(e,1,t),kr(e,t))}function Qt(e,t,n){if(e.tag===3)d_(e,e,n);else for(;t!==null;){if(t.tag===3){d_(t,e,n);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Sa===null||!Sa.has(s))){e=ec(n,e),e=kk(t,e,1),t=Na(t,e,1),e=mr(),t!==null&&(yu(t,1,e),kr(t,e));break}}t=t.return}}function g3(e,t,n){var s=e.pingCache;s!==null&&s.delete(t),t=mr(),e.pingedLanes|=e.suspendedLanes&n,Rn===e&&(Un&n)===n&&(_n===4||_n===3&&(Un&130023424)===Un&&500>tn()-vy?vo(e,0):xy|=n),kr(e,t)}function Kk(e,t){t===0&&(e.mode&1?(t=hf,hf<<=1,!(hf&130023424)&&(hf=4194304)):t=1);var n=mr();e=Ai(e,t),e!==null&&(yu(e,t,n),kr(e,n))}function x3(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Kk(e,n)}function v3(e,t){var n=0;switch(e.tag){case 13:var s=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:s=e.stateNode;break;default:throw Error(de(314))}s!==null&&s.delete(t),Kk(e,n)}var Gk;Gk=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Cr.current)Nr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Nr=!1,i3(e,t,n);Nr=!!(e.flags&131072)}else Nr=!1,Vt&&t.flags&1048576&&JP(t,ph,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;Wf(e,t),e=t.pendingProps;var i=Yl(t,er.current);Sl(t,n),i=uy(null,t,s,e,i,n);var o=fy();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(s)?(o=!0,hh(t)):o=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ay(t),i.updater=ym,t.stateNode=i,i._reactInternals=t,wx(t,s,e,n),t=bx(null,t,s,!0,o,n)):(t.tag=0,Vt&&o&&Jv(t),cr(null,t,i,n),t=t.child),t;case 16:s=t.elementType;e:{switch(Wf(e,t),e=t.pendingProps,i=s._init,s=i(s._payload),t.type=s,i=t.tag=w3(s),e=gs(s,e),i){case 0:t=_x(null,t,s,e,n);break e;case 1:t=e_(null,t,s,e,n);break e;case 11:t=Xj(null,t,s,e,n);break e;case 14:t=Jj(null,t,s,gs(s.type,e),n);break e}throw Error(de(306,s,""))}return t;case 0:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:gs(s,i),_x(e,t,s,i,n);case 1:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:gs(s,i),e_(e,t,s,i,n);case 3:e:{if(Ak(t),e===null)throw Error(de(387));s=t.pendingProps,o=t.memoizedState,i=o.element,ik(e,t),vh(t,s,null,n);var l=t.memoizedState;if(s=l.element,o.isDehydrated)if(o={element:s,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){i=ec(Error(de(423)),t),t=t_(e,t,s,n,i);break e}else if(s!==i){i=ec(Error(de(424)),t),t=t_(e,t,s,n,i);break e}else for(Ir=ba(t.stateNode.containerInfo.firstChild),Dr=t,Vt=!0,ys=null,n=rk(t,null,s,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ql(),s===i){t=Ri(e,t,n);break e}cr(e,t,s,n)}t=t.child}return t;case 5:return ak(t),e===null&&xx(t),s=t.type,i=t.pendingProps,o=e!==null?e.memoizedProps:null,l=i.children,fx(s,i)?l=null:o!==null&&fx(s,o)&&(t.flags|=32),Mk(e,t),cr(e,t,l,n),t.child;case 6:return e===null&&xx(t),null;case 13:return Rk(e,t,n);case 4:return oy(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=Xl(t,null,s,n):cr(e,t,s,n),t.child;case 11:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:gs(s,i),Xj(e,t,s,i,n);case 7:return cr(e,t,t.pendingProps,n),t.child;case 8:return cr(e,t,t.pendingProps.children,n),t.child;case 12:return cr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(s=t.type._context,i=t.pendingProps,o=t.memoizedProps,l=i.value,Rt(gh,s._currentValue),s._currentValue=l,o!==null)if(Es(o.value,l)){if(o.children===i.children&&!Cr.current){t=Ri(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var d=o.dependencies;if(d!==null){l=o.child;for(var u=d.firstContext;u!==null;){if(u.context===s){if(o.tag===1){u=Pi(-1,n&-n),u.tag=2;var h=o.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?u.next=u:(u.next=m.next,m.next=u),h.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),vx(o.return,n,t),d.lanes|=n;break}u=u.next}}else if(o.tag===10)l=o.type===t.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(de(341));l.lanes|=n,d=l.alternate,d!==null&&(d.lanes|=n),vx(l,n,t),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===t){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}cr(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,s=t.pendingProps.children,Sl(t,n),i=cs(i),s=s(i),t.flags|=1,cr(e,t,s,n),t.child;case 14:return s=t.type,i=gs(s,t.pendingProps),i=gs(s.type,i),Jj(e,t,s,i,n);case 15:return Tk(e,t,t.type,t.pendingProps,n);case 17:return s=t.type,i=t.pendingProps,i=t.elementType===s?i:gs(s,i),Wf(e,t),t.tag=1,Pr(s)?(e=!0,hh(t)):e=!1,Sl(t,n),Ck(t,s,i),wx(t,s,i,n),bx(null,t,s,!0,e,n);case 19:return Lk(e,t,n);case 22:return Ek(e,t,n)}throw Error(de(156,t.tag))};function Yk(e,t){return bP(e,t)}function y3(e,t,n,s){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ss(e,t,n,s){return new y3(e,t,n,s)}function _y(e){return e=e.prototype,!(!e||!e.isReactComponent)}function w3(e){if(typeof e=="function")return _y(e)?1:0;if(e!=null){if(e=e.$$typeof,e===$v)return 11;if(e===Vv)return 14}return 2}function Pa(e,t){var n=e.alternate;return n===null?(n=ss(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zf(e,t,n,s,i,o){var l=2;if(s=e,typeof e=="function")_y(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case cl:return yo(n.children,i,o,t);case Bv:l=8,i|=8;break;case Wg:return e=ss(12,n,t,i|2),e.elementType=Wg,e.lanes=o,e;case Hg:return e=ss(13,n,t,i),e.elementType=Hg,e.lanes=o,e;case qg:return e=ss(19,n,t,i),e.elementType=qg,e.lanes=o,e;case aP:return _m(n,i,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case sP:l=10;break e;case iP:l=9;break e;case $v:l=11;break e;case Vv:l=14;break e;case na:l=16,s=null;break e}throw Error(de(130,e==null?e:typeof e,""))}return t=ss(l,n,t,i),t.elementType=e,t.type=s,t.lanes=o,t}function yo(e,t,n,s){return e=ss(7,e,s,t),e.lanes=n,e}function _m(e,t,n,s){return e=ss(22,e,s,t),e.elementType=aP,e.lanes=n,e.stateNode={isHidden:!1},e}function dg(e,t,n){return e=ss(6,e,null,t),e.lanes=n,e}function ug(e,t,n){return t=ss(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function j3(e,t,n,s,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hp(0),this.expirationTimes=Hp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hp(0),this.identifierPrefix=s,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function by(e,t,n,s,i,o,l,d,u){return e=new j3(e,t,n,d,u),t===1?(t=1,o===!0&&(t|=8)):t=0,o=ss(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:s,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ay(o),e}function _3(e,t,n){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ll,key:s==null?null:""+s,children:e,containerInfo:t,implementation:n}}function Qk(e){if(!e)return Ma;e=e._reactInternals;e:{if(zo(e)!==e||e.tag!==1)throw Error(de(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(de(171))}if(e.tag===1){var n=e.type;if(Pr(n))return QP(e,n,t)}return t}function Xk(e,t,n,s,i,o,l,d,u){return e=by(n,s,!0,e,i,o,l,d,u),e.context=Qk(null),n=e.current,s=mr(),i=Ca(n),o=Pi(s,i),o.callback=t??null,Na(n,o,i),e.current.lanes=i,yu(e,i,s),kr(e,s),e}function bm(e,t,n,s){var i=t.current,o=mr(),l=Ca(i);return n=Qk(n),t.context===null?t.context=n:t.pendingContext=n,t=Pi(o,l),t.payload={element:e},s=s===void 0?null:s,s!==null&&(t.callback=s),e=Na(i,t,l),e!==null&&(Ss(e,i,l,o),$f(e,i,l)),l}function Ch(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function u_(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ny(e,t){u_(e,t),(e=e.alternate)&&u_(e,t)}function b3(){return null}var Jk=typeof reportError=="function"?reportError:function(e){console.error(e)};function Sy(e){this._internalRoot=e}Nm.prototype.render=Sy.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(de(409));bm(e,t,null,null)};Nm.prototype.unmount=Sy.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;So(function(){bm(null,e,null,null)}),t[Mi]=null}};function Nm(e){this._internalRoot=e}Nm.prototype.unstable_scheduleHydration=function(e){if(e){var t=EP();e={blockedOn:null,target:e,priority:t};for(var n=0;n<sa.length&&t!==0&&t<sa[n].priority;n++);sa.splice(n,0,e),n===0&&AP(e)}};function Cy(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Sm(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function f_(){}function N3(e,t,n,s,i){if(i){if(typeof s=="function"){var o=s;s=function(){var h=Ch(l);o.call(h)}}var l=Xk(t,s,e,0,null,!1,!1,"",f_);return e._reactRootContainer=l,e[Mi]=l.current,Dd(e.nodeType===8?e.parentNode:e),So(),l}for(;i=e.lastChild;)e.removeChild(i);if(typeof s=="function"){var d=s;s=function(){var h=Ch(u);d.call(h)}}var u=by(e,0,!1,null,null,!1,!1,"",f_);return e._reactRootContainer=u,e[Mi]=u.current,Dd(e.nodeType===8?e.parentNode:e),So(function(){bm(t,u,n,s)}),u}function Cm(e,t,n,s,i){var o=n._reactRootContainer;if(o){var l=o;if(typeof i=="function"){var d=i;i=function(){var u=Ch(l);d.call(u)}}bm(t,l,e,i)}else l=N3(n,t,e,i,s);return Ch(l)}kP=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=id(t.pendingLanes);n!==0&&(Hv(t,n|1),kr(t,tn()),!(yt&6)&&(tc=tn()+500,$a()))}break;case 13:So(function(){var s=Ai(e,1);if(s!==null){var i=mr();Ss(s,e,1,i)}}),Ny(e,1)}};qv=function(e){if(e.tag===13){var t=Ai(e,134217728);if(t!==null){var n=mr();Ss(t,e,134217728,n)}Ny(e,134217728)}};TP=function(e){if(e.tag===13){var t=Ca(e),n=Ai(e,t);if(n!==null){var s=mr();Ss(n,e,t,s)}Ny(e,t)}};EP=function(){return Mt};MP=function(e,t){var n=Mt;try{return Mt=e,t()}finally{Mt=n}};nx=function(e,t,n){switch(t){case"input":if(Gg(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var s=n[t];if(s!==e&&s.form===e.form){var i=gm(s);if(!i)throw Error(de(90));lP(s),Gg(s,i)}}}break;case"textarea":dP(e,n);break;case"select":t=n.value,t!=null&&jl(e,!!n.multiple,t,!1)}};xP=yy;vP=So;var S3={usingClientEntryPoint:!1,Events:[ju,hl,gm,pP,gP,yy]},Kc={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},C3={bundleType:Kc.bundleType,version:Kc.version,rendererPackageName:Kc.rendererPackageName,rendererConfig:Kc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=jP(e),e===null?null:e.stateNode},findFiberByHostInstance:Kc.findFiberByHostInstance||b3,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nf.isDisabled&&Nf.supportsFiber)try{fm=Nf.inject(C3),ti=Nf}catch{}}Hr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=S3;Hr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cy(t))throw Error(de(200));return _3(e,t,null,n)};Hr.createRoot=function(e,t){if(!Cy(e))throw Error(de(299));var n=!1,s="",i=Jk;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=by(e,1,!1,null,null,n,!1,s,i),e[Mi]=t.current,Dd(e.nodeType===8?e.parentNode:e),new Sy(t)};Hr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(de(188)):(e=Object.keys(e).join(","),Error(de(268,e)));return e=jP(t),e=e===null?null:e.stateNode,e};Hr.flushSync=function(e){return So(e)};Hr.hydrate=function(e,t,n){if(!Sm(t))throw Error(de(200));return Cm(null,e,t,!0,n)};Hr.hydrateRoot=function(e,t,n){if(!Cy(e))throw Error(de(405));var s=n!=null&&n.hydratedSources||null,i=!1,o="",l=Jk;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=Xk(t,null,e,1,n??null,i,!1,o,l),e[Mi]=t.current,Dd(e),s)for(e=0;e<s.length;e++)n=s[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Nm(t)};Hr.render=function(e,t,n){if(!Sm(t))throw Error(de(200));return Cm(null,e,t,!1,n)};Hr.unmountComponentAtNode=function(e){if(!Sm(e))throw Error(de(40));return e._reactRootContainer?(So(function(){Cm(null,null,e,!1,function(){e._reactRootContainer=null,e[Mi]=null})}),!0):!1};Hr.unstable_batchedUpdates=yy;Hr.unstable_renderSubtreeIntoContainer=function(e,t,n,s){if(!Sm(n))throw Error(de(200));if(e==null||e._reactInternals===void 0)throw Error(de(38));return Cm(e,t,n,!1,s)};Hr.version="18.3.1-next-f1338f8080-20240426";function e2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e2)}catch(e){console.error(e)}}e2(),eP.exports=Hr;var Va=eP.exports;const P3=dm(Va);var t2,h_=Va;t2=h_.createRoot,h_.hydrateRoot;function k3(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,s,i,o,l=[],d="",u=e.split("/");for(u[0]||u.shift();i=u.shift();)n=i[0],n==="*"?(l.push(n),d+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(s=i.indexOf("?",1),o=i.indexOf(".",1),l.push(i.substring(1,~s?s:~o?o:i.length)),d+=~s&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(d+=(~s?"?":"")+"\\"+i.substring(o))):d+="/"+i;return{keys:l,pattern:new RegExp("^"+d+(t?"(?=$|/)":"/?$"),"i")}}var n2={exports:{}},r2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nc=v;function T3(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var E3=typeof Object.is=="function"?Object.is:T3,M3=nc.useState,A3=nc.useEffect,R3=nc.useLayoutEffect,L3=nc.useDebugValue;function I3(e,t){var n=t(),s=M3({inst:{value:n,getSnapshot:t}}),i=s[0].inst,o=s[1];return R3(function(){i.value=n,i.getSnapshot=t,fg(i)&&o({inst:i})},[e,n,t]),A3(function(){return fg(i)&&o({inst:i}),e(function(){fg(i)&&o({inst:i})})},[e]),L3(n),n}function fg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!E3(e,n)}catch{return!0}}function O3(e,t){return t()}var D3=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?O3:I3;r2.useSyncExternalStore=nc.useSyncExternalStore!==void 0?nc.useSyncExternalStore:D3;n2.exports=r2;var F3=n2.exports;const z3=XC.useInsertionEffect,B3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",s2=B3?v.useLayoutEffect:v.useEffect,$3=z3||s2,Py=e=>{const t=v.useRef([e,(...n)=>t[0](...n)]).current;return $3(()=>{t[0]=e}),t[1]},V3="popstate",ky="pushState",Ty="replaceState",U3="hashchange",m_=[V3,ky,Ty,U3],W3=e=>{for(const t of m_)addEventListener(t,e);return()=>{for(const t of m_)removeEventListener(t,e)}},i2=(e,t)=>F3.useSyncExternalStore(W3,e,t),H3=()=>location.search,q3=({ssrSearch:e=""}={})=>i2(H3,()=>e),p_=()=>location.pathname,Z3=({ssrPath:e}={})=>i2(p_,e?()=>e:p_),K3=(e,{replace:t=!1,state:n=null}={})=>history[t?Ty:ky](n,"",e),G3=(e={})=>[Z3(e),K3],g_=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[g_]>"u"){for(const e of[ky,Ty]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),s=new Event(e);return s.arguments=arguments,dispatchEvent(s),n}}Object.defineProperty(window,g_,{value:!0})}const Y3=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",a2=(e="")=>e==="/"?"":e,Q3=(e,t)=>e[0]==="~"?e.slice(1):a2(t)+e,X3=(e="",t)=>Y3(x_(a2(e)),x_(t)),x_=e=>{try{return decodeURI(e)}catch{return e}},o2={hook:G3,searchHook:q3,parser:k3,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},l2=v.createContext(o2),bu=()=>v.useContext(l2),c2={},d2=v.createContext(c2),Pm=()=>v.useContext(d2),km=e=>{const[t,n]=e.hook(e);return[X3(e.base,t),Py((s,i)=>n(Q3(s,e.base),i))]},Ua=()=>km(bu()),u2=(e,t,n,s)=>{const{pattern:i,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",s),l=i.exec(n)||[],[d,...u]=l;return d!==void 0?[!0,(()=>{const h=o!==!1?Object.fromEntries(o.map((p,x)=>[p,u[x]])):l.groups;let m={...u};return h&&Object.assign(m,h),m})(),...s?[d]:[]]:[!1,null]},J3=({children:e,...t})=>{var m,p;const n=bu(),s=t.hook?o2:n;let i=s;const[o,l]=((m=t.ssrPath)==null?void 0:m.split("?"))??[];l&&(t.ssrSearch=l,t.ssrPath=o),t.hrefs=t.hrefs??((p=t.hook)==null?void 0:p.hrefs);let d=v.useRef({}),u=d.current,h=u;for(let x in s){const j=x==="base"?s[x]+(t[x]||""):t[x]||s[x];u===h&&j!==h[x]&&(d.current=h={...h}),h[x]=j,j!==s[x]&&(i=h)}return v.createElement(l2.Provider,{value:i,children:e})},v_=({children:e,component:t},n)=>t?v.createElement(t,{params:n}):typeof e=="function"?e(n):e,e5=e=>{let t=v.useRef(c2),n=t.current;for(const s in e)e[s]!==n[s]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Pn=({path:e,nest:t,match:n,...s})=>{const i=bu(),[o]=km(i),[l,d,u]=n??u2(i.parser,e,o,t),h=e5({...Pm(),...d});if(!l)return null;const m=u?v.createElement(J3,{base:u},v_(s,h)):v_(s,h);return v.createElement(d2.Provider,{value:h,children:m})},Ct=v.forwardRef((e,t)=>{const n=bu(),[s,i]=km(n),{to:o="",href:l=o,onClick:d,asChild:u,children:h,className:m,replace:p,state:x,...j}=e,C=Py(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(d==null||d(S),S.defaultPrevented||(S.preventDefault(),i(l,e)))}),g=n.hrefs(l[0]==="~"?l.slice(1):n.base+l,n);return u&&v.isValidElement(h)?v.cloneElement(h,{onClick:C,href:g}):v.createElement("a",{...j,onClick:C,href:g,className:m!=null&&m.call?m(s===l):m,children:h,ref:t})}),f2=e=>Array.isArray(e)?e.flatMap(t=>f2(t&&t.type===v.Fragment?t.props.children:t)):[e],t5=({children:e,location:t})=>{const n=bu(),[s]=km(n);for(const i of f2(e)){let o=0;if(v.isValidElement(i)&&(o=u2(n.parser,i.props.path,t||s,i.props.nest))[0])return v.cloneElement(i,{match:o})}return null},h2=e=>{const{to:t,href:n=t}=e,[,s]=Ua(),i=Py(()=>s(t||n,e));return s2(()=>{i()},[]),null};var pc=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Co=typeof window>"u"||"Deno"in globalThis;function Jr(){}function n5(e,t){return typeof e=="function"?e(t):e}function Ix(e){return typeof e=="number"&&e>=0&&e!==1/0}function m2(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Pl(e,t){return typeof e=="function"?e(t):e}function ws(e,t){return typeof e=="function"?e(t):e}function y_(e,t){const{type:n="all",exact:s,fetchStatus:i,predicate:o,queryKey:l,stale:d}=e;if(l){if(s){if(t.queryHash!==Ey(l,t.options))return!1}else if(!qd(t.queryKey,l))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof d=="boolean"&&t.isStale()!==d||i&&i!==t.state.fetchStatus||o&&!o(t))}function w_(e,t){const{exact:n,status:s,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Po(t.options.mutationKey)!==Po(o))return!1}else if(!qd(t.options.mutationKey,o))return!1}return!(s&&t.state.status!==s||i&&!i(t))}function Ey(e,t){return((t==null?void 0:t.queryKeyHashFn)||Po)(e)}function Po(e){return JSON.stringify(e,(t,n)=>Ox(n)?Object.keys(n).sort().reduce((s,i)=>(s[i]=n[i],s),{}):n)}function qd(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!qd(e[n],t[n])):!1}function p2(e,t){if(e===t)return e;const n=j_(e)&&j_(t);if(n||Ox(e)&&Ox(t)){const s=n?e:Object.keys(e),i=s.length,o=n?t:Object.keys(t),l=o.length,d=n?[]:{};let u=0;for(let h=0;h<l;h++){const m=n?h:o[h];(!n&&s.includes(m)||n)&&e[m]===void 0&&t[m]===void 0?(d[m]=void 0,u++):(d[m]=p2(e[m],t[m]),d[m]===e[m]&&e[m]!==void 0&&u++)}return i===l&&u===i?e:d}return t}function Ph(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function j_(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ox(e){if(!__(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!__(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function __(e){return Object.prototype.toString.call(e)==="[object Object]"}function r5(e){return new Promise(t=>{setTimeout(t,e)})}function Dx(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?p2(e,t):t}function s5(e,t,n=0){const s=[...e,t];return n&&s.length>n?s.slice(1):s}function i5(e,t,n=0){const s=[t,...e];return n&&s.length>n?s.slice(0,-1):s}var My=Symbol();function g2(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===My?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var uo,oa,Ol,Yb,a5=(Yb=class extends pc{constructor(){super();Be(this,uo);Be(this,oa);Be(this,Ol);Se(this,Ol,t=>{if(!Co&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){D(this,oa)||this.setEventListener(D(this,Ol))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,oa))==null||t.call(this),Se(this,oa,void 0))}setEventListener(t){var n;Se(this,Ol,t),(n=D(this,oa))==null||n.call(this),Se(this,oa,t(s=>{typeof s=="boolean"?this.setFocused(s):this.onFocus()}))}setFocused(t){D(this,uo)!==t&&(Se(this,uo,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof D(this,uo)=="boolean"?D(this,uo):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},uo=new WeakMap,oa=new WeakMap,Ol=new WeakMap,Yb),Ay=new a5,Dl,la,Fl,Qb,o5=(Qb=class extends pc{constructor(){super();Be(this,Dl,!0);Be(this,la);Be(this,Fl);Se(this,Fl,t=>{if(!Co&&window.addEventListener){const n=()=>t(!0),s=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",s,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",s)}}})}onSubscribe(){D(this,la)||this.setEventListener(D(this,Fl))}onUnsubscribe(){var t;this.hasListeners()||((t=D(this,la))==null||t.call(this),Se(this,la,void 0))}setEventListener(t){var n;Se(this,Fl,t),(n=D(this,la))==null||n.call(this),Se(this,la,t(this.setOnline.bind(this)))}setOnline(t){D(this,Dl)!==t&&(Se(this,Dl,t),this.listeners.forEach(s=>{s(t)}))}isOnline(){return D(this,Dl)}},Dl=new WeakMap,la=new WeakMap,Fl=new WeakMap,Qb),kh=new o5;function Fx(){let e,t;const n=new Promise((i,o)=>{e=i,t=o});n.status="pending",n.catch(()=>{});function s(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{s({status:"fulfilled",value:i}),e(i)},n.reject=i=>{s({status:"rejected",reason:i}),t(i)},n}function l5(e){return Math.min(1e3*2**e,3e4)}function x2(e){return(e??"online")==="online"?kh.isOnline():!0}var v2=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function hg(e){return e instanceof v2}function y2(e){let t=!1,n=0,s=!1,i;const o=Fx(),l=g=>{var S;s||(x(new v2(g)),(S=e.abort)==null||S.call(e))},d=()=>{t=!0},u=()=>{t=!1},h=()=>Ay.isFocused()&&(e.networkMode==="always"||kh.isOnline())&&e.canRun(),m=()=>x2(e.networkMode)&&e.canRun(),p=g=>{var S;s||(s=!0,(S=e.onSuccess)==null||S.call(e,g),i==null||i(),o.resolve(g))},x=g=>{var S;s||(s=!0,(S=e.onError)==null||S.call(e,g),i==null||i(),o.reject(g))},j=()=>new Promise(g=>{var S;i=_=>{(s||h())&&g(_)},(S=e.onPause)==null||S.call(e)}).then(()=>{var g;i=void 0,s||(g=e.onContinue)==null||g.call(e)}),C=()=>{if(s)return;let g;const S=n===0?e.initialPromise:void 0;try{g=S??e.fn()}catch(_){g=Promise.reject(_)}Promise.resolve(g).then(p).catch(_=>{var A;if(s)return;const w=e.retry??(Co?0:3),N=e.retryDelay??l5,P=typeof N=="function"?N(n,_):N,M=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,_);if(t||!M){x(_);return}n++,(A=e.onFail)==null||A.call(e,n,_),r5(P).then(()=>h()?void 0:j()).then(()=>{t?x(_):C()})})};return{promise:o,cancel:l,continue:()=>(i==null||i(),o),cancelRetry:d,continueRetry:u,canStart:m,start:()=>(m()?C():j().then(C),o)}}function c5(){let e=[],t=0,n=d=>{d()},s=d=>{d()},i=d=>setTimeout(d,0);const o=d=>{t?e.push(d):i(()=>{n(d)})},l=()=>{const d=e;e=[],d.length&&i(()=>{s(()=>{d.forEach(u=>{n(u)})})})};return{batch:d=>{let u;t++;try{u=d()}finally{t--,t||l()}return u},batchCalls:d=>(...u)=>{o(()=>{d(...u)})},schedule:o,setNotifyFunction:d=>{n=d},setBatchNotifyFunction:d=>{s=d},setScheduler:d=>{i=d}}}var jn=c5(),fo,Xb,w2=(Xb=class{constructor(){Be(this,fo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ix(this.gcTime)&&Se(this,fo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Co?1/0:5*60*1e3))}clearGcTimeout(){D(this,fo)&&(clearTimeout(D(this,fo)),Se(this,fo,void 0))}},fo=new WeakMap,Xb),zl,Bl,Xr,Qn,mu,ho,xs,vi,Jb,d5=(Jb=class extends w2{constructor(t){super();Be(this,xs);Be(this,zl);Be(this,Bl);Be(this,Xr);Be(this,Qn);Be(this,mu);Be(this,ho);Se(this,ho,!1),Se(this,mu,t.defaultOptions),this.setOptions(t.options),this.observers=[],Se(this,Xr,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Se(this,zl,u5(this.options)),this.state=t.state??D(this,zl),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=D(this,Qn))==null?void 0:t.promise}setOptions(t){this.options={...D(this,mu),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&D(this,Xr).remove(this)}setData(t,n){const s=Dx(this.state.data,t,this.options);return tt(this,xs,vi).call(this,{data:s,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),s}setState(t,n){tt(this,xs,vi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var s,i;const n=(s=D(this,Qn))==null?void 0:s.promise;return(i=D(this,Qn))==null||i.cancel(t),n?n.then(Jr).catch(Jr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(D(this,zl))}isActive(){return this.observers.some(t=>ws(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===My||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!m2(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(s=>s.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Qn))==null||n.continue()}onOnline(){var n;const t=this.observers.find(s=>s.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=D(this,Qn))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),D(this,Xr).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(D(this,Qn)&&(D(this,ho)?D(this,Qn).cancel({revert:!0}):D(this,Qn).cancelRetry()),this.scheduleGc()),D(this,Xr).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||tt(this,xs,vi).call(this,{type:"invalidate"})}fetch(t,n){var u,h,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(D(this,Qn))return D(this,Qn).continueRetry(),D(this,Qn).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(x=>x.options.queryFn);p&&this.setOptions(p.options)}const s=new AbortController,i=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(Se(this,ho,!0),s.signal)})},o=()=>{const p=g2(this.options,n),x={queryKey:this.queryKey,meta:this.meta};return i(x),Se(this,ho,!1),this.options.persister?this.options.persister(p,x,this):p(x)},l={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};i(l),(u=this.options.behavior)==null||u.onFetch(l,this),Se(this,Bl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=l.fetchOptions)==null?void 0:h.meta))&&tt(this,xs,vi).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const d=p=>{var x,j,C,g;hg(p)&&p.silent||tt(this,xs,vi).call(this,{type:"error",error:p}),hg(p)||((j=(x=D(this,Xr).config).onError)==null||j.call(x,p,this),(g=(C=D(this,Xr).config).onSettled)==null||g.call(C,this.state.data,p,this)),this.scheduleGc()};return Se(this,Qn,y2({initialPromise:n==null?void 0:n.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:p=>{var x,j,C,g;if(p===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(S){d(S);return}(j=(x=D(this,Xr).config).onSuccess)==null||j.call(x,p,this),(g=(C=D(this,Xr).config).onSettled)==null||g.call(C,p,this.state.error,this),this.scheduleGc()},onError:d,onFail:(p,x)=>{tt(this,xs,vi).call(this,{type:"failed",failureCount:p,error:x})},onPause:()=>{tt(this,xs,vi).call(this,{type:"pause"})},onContinue:()=>{tt(this,xs,vi).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),D(this,Qn).start()}},zl=new WeakMap,Bl=new WeakMap,Xr=new WeakMap,Qn=new WeakMap,mu=new WeakMap,ho=new WeakMap,xs=new WeakSet,vi=function(t){const n=s=>{switch(t.type){case"failed":return{...s,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...j2(s.data,this.options),fetchMeta:t.meta??null};case"success":return{...s,data:t.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return hg(i)&&i.revert&&D(this,Bl)?{...D(this,Bl),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...t.state}}};this.state=n(this.state),jn.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),D(this,Xr).notify({query:this,type:"updated",action:t})})},Jb);function j2(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:x2(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function u5(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,s=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?s??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var qs,eN,f5=(eN=class extends pc{constructor(t={}){super();Be(this,qs);this.config=t,Se(this,qs,new Map)}build(t,n,s){const i=n.queryKey,o=n.queryHash??Ey(i,n);let l=this.get(o);return l||(l=new d5({cache:this,queryKey:i,queryHash:o,options:t.defaultQueryOptions(n),state:s,defaultOptions:t.getQueryDefaults(i)}),this.add(l)),l}add(t){D(this,qs).has(t.queryHash)||(D(this,qs).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=D(this,qs).get(t.queryHash);n&&(t.destroy(),n===t&&D(this,qs).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){jn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return D(this,qs).get(t)}getAll(){return[...D(this,qs).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(s=>y_(n,s))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(s=>y_(t,s)):n}notify(t){jn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){jn.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){jn.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},qs=new WeakMap,eN),Zs,ar,mo,Ks,Yi,tN,h5=(tN=class extends w2{constructor(t){super();Be(this,Ks);Be(this,Zs);Be(this,ar);Be(this,mo);this.mutationId=t.mutationId,Se(this,ar,t.mutationCache),Se(this,Zs,[]),this.state=t.state||_2(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){D(this,Zs).includes(t)||(D(this,Zs).push(t),this.clearGcTimeout(),D(this,ar).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Se(this,Zs,D(this,Zs).filter(n=>n!==t)),this.scheduleGc(),D(this,ar).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){D(this,Zs).length||(this.state.status==="pending"?this.scheduleGc():D(this,ar).remove(this))}continue(){var t;return((t=D(this,mo))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,o,l,d,u,h,m,p,x,j,C,g,S,_,w,N,P,M,A,R;Se(this,mo,y2({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(F,Y)=>{tt(this,Ks,Yi).call(this,{type:"failed",failureCount:F,error:Y})},onPause:()=>{tt(this,Ks,Yi).call(this,{type:"pause"})},onContinue:()=>{tt(this,Ks,Yi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>D(this,ar).canRun(this)}));const n=this.state.status==="pending",s=!D(this,mo).canStart();try{if(!n){tt(this,Ks,Yi).call(this,{type:"pending",variables:t,isPaused:s}),await((o=(i=D(this,ar).config).onMutate)==null?void 0:o.call(i,t,this));const Y=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,t));Y!==this.state.context&&tt(this,Ks,Yi).call(this,{type:"pending",context:Y,variables:t,isPaused:s})}const F=await D(this,mo).start();return await((h=(u=D(this,ar).config).onSuccess)==null?void 0:h.call(u,F,t,this.state.context,this)),await((p=(m=this.options).onSuccess)==null?void 0:p.call(m,F,t,this.state.context)),await((j=(x=D(this,ar).config).onSettled)==null?void 0:j.call(x,F,null,this.state.variables,this.state.context,this)),await((g=(C=this.options).onSettled)==null?void 0:g.call(C,F,null,t,this.state.context)),tt(this,Ks,Yi).call(this,{type:"success",data:F}),F}catch(F){try{throw await((_=(S=D(this,ar).config).onError)==null?void 0:_.call(S,F,t,this.state.context,this)),await((N=(w=this.options).onError)==null?void 0:N.call(w,F,t,this.state.context)),await((M=(P=D(this,ar).config).onSettled)==null?void 0:M.call(P,void 0,F,this.state.variables,this.state.context,this)),await((R=(A=this.options).onSettled)==null?void 0:R.call(A,void 0,F,t,this.state.context)),F}finally{tt(this,Ks,Yi).call(this,{type:"error",error:F})}}finally{D(this,ar).runNext(this)}}},Zs=new WeakMap,ar=new WeakMap,mo=new WeakMap,Ks=new WeakSet,Yi=function(t){const n=s=>{switch(t.type){case"failed":return{...s,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...s,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:t.error,failureCount:s.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),jn.batch(()=>{D(this,Zs).forEach(s=>{s.onMutationUpdate(t)}),D(this,ar).notify({mutation:this,type:"updated",action:t})})},tN);function _2(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Mr,pu,nN,m5=(nN=class extends pc{constructor(t={}){super();Be(this,Mr);Be(this,pu);this.config=t,Se(this,Mr,new Map),Se(this,pu,Date.now())}build(t,n,s){const i=new h5({mutationCache:this,mutationId:++of(this,pu)._,options:t.defaultMutationOptions(n),state:s});return this.add(i),i}add(t){const n=Sf(t),s=D(this,Mr).get(n)??[];s.push(t),D(this,Mr).set(n,s),this.notify({type:"added",mutation:t})}remove(t){var s;const n=Sf(t);if(D(this,Mr).has(n)){const i=(s=D(this,Mr).get(n))==null?void 0:s.filter(o=>o!==t);i&&(i.length===0?D(this,Mr).delete(n):D(this,Mr).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var s;const n=(s=D(this,Mr).get(Sf(t)))==null?void 0:s.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var s;const n=(s=D(this,Mr).get(Sf(t)))==null?void 0:s.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){jn.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...D(this,Mr).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(s=>w_(n,s))}findAll(t={}){return this.getAll().filter(n=>w_(t,n))}notify(t){jn.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return jn.batch(()=>Promise.all(t.map(n=>n.continue().catch(Jr))))}},Mr=new WeakMap,pu=new WeakMap,nN);function Sf(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function b_(e){return{onFetch:(t,n)=>{var m,p,x,j,C;const s=t.options,i=(x=(p=(m=t.fetchOptions)==null?void 0:m.meta)==null?void 0:p.fetchMore)==null?void 0:x.direction,o=((j=t.state.data)==null?void 0:j.pages)||[],l=((C=t.state.data)==null?void 0:C.pageParams)||[];let d={pages:[],pageParams:[]},u=0;const h=async()=>{let g=!1;const S=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?g=!0:t.signal.addEventListener("abort",()=>{g=!0}),t.signal)})},_=g2(t.options,t.fetchOptions),w=async(N,P,M)=>{if(g)return Promise.reject();if(P==null&&N.pages.length)return Promise.resolve(N);const A={queryKey:t.queryKey,pageParam:P,direction:M?"backward":"forward",meta:t.options.meta};S(A);const R=await _(A),{maxPages:F}=t.options,Y=M?i5:s5;return{pages:Y(N.pages,R,F),pageParams:Y(N.pageParams,P,F)}};if(i&&o.length){const N=i==="backward",P=N?p5:N_,M={pages:o,pageParams:l},A=P(s,M);d=await w(M,A,N)}else{const N=e??o.length;do{const P=u===0?l[0]??s.initialPageParam:N_(s,d);if(u>0&&P==null)break;d=await w(d,P),u++}while(u<N)}return d};t.options.persister?t.fetchFn=()=>{var g,S;return(S=(g=t.options).persister)==null?void 0:S.call(g,h,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=h}}}function N_(e,{pages:t,pageParams:n}){const s=t.length-1;return t.length>0?e.getNextPageParam(t[s],t,n[s],n):void 0}function p5(e,{pages:t,pageParams:n}){var s;return t.length>0?(s=e.getPreviousPageParam)==null?void 0:s.call(e,t[0],t,n[0],n):void 0}var Yt,ca,da,$l,Vl,ua,Ul,Wl,rN,g5=(rN=class{constructor(e={}){Be(this,Yt);Be(this,ca);Be(this,da);Be(this,$l);Be(this,Vl);Be(this,ua);Be(this,Ul);Be(this,Wl);Se(this,Yt,e.queryCache||new f5),Se(this,ca,e.mutationCache||new m5),Se(this,da,e.defaultOptions||{}),Se(this,$l,new Map),Se(this,Vl,new Map),Se(this,ua,0)}mount(){of(this,ua)._++,D(this,ua)===1&&(Se(this,Ul,Ay.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,Yt).onFocus())})),Se(this,Wl,kh.subscribe(async e=>{e&&(await this.resumePausedMutations(),D(this,Yt).onOnline())})))}unmount(){var e,t;of(this,ua)._--,D(this,ua)===0&&((e=D(this,Ul))==null||e.call(this),Se(this,Ul,void 0),(t=D(this,Wl))==null||t.call(this),Se(this,Wl,void 0))}isFetching(e){return D(this,Yt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return D(this,ca).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,Yt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),s=D(this,Yt).build(this,n);return e.revalidateIfStale&&s.isStaleByTime(Pl(n.staleTime,s))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return D(this,Yt).findAll(e).map(({queryKey:t,state:n})=>{const s=n.data;return[t,s]})}setQueryData(e,t,n){const s=this.defaultQueryOptions({queryKey:e}),i=D(this,Yt).get(s.queryHash),o=i==null?void 0:i.state.data,l=n5(t,o);if(l!==void 0)return D(this,Yt).build(this,s).setData(l,{...n,manual:!0})}setQueriesData(e,t,n){return jn.batch(()=>D(this,Yt).findAll(e).map(({queryKey:s})=>[s,this.setQueryData(s,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=D(this,Yt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=D(this,Yt);jn.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=D(this,Yt),s={type:"active",...e};return jn.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(s,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},s=jn.batch(()=>D(this,Yt).findAll(e).map(i=>i.cancel(n)));return Promise.all(s).then(Jr).catch(Jr)}invalidateQueries(e={},t={}){return jn.batch(()=>{if(D(this,Yt).findAll(e).forEach(s=>{s.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},s=jn.batch(()=>D(this,Yt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let o=i.fetch(void 0,n);return n.throwOnError||(o=o.catch(Jr)),i.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(s).then(Jr)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=D(this,Yt).build(this,t);return n.isStaleByTime(Pl(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Jr).catch(Jr)}fetchInfiniteQuery(e){return e.behavior=b_(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Jr).catch(Jr)}ensureInfiniteQueryData(e){return e.behavior=b_(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return kh.isOnline()?D(this,ca).resumePausedMutations():Promise.resolve()}getQueryCache(){return D(this,Yt)}getMutationCache(){return D(this,ca)}getDefaultOptions(){return D(this,da)}setDefaultOptions(e){Se(this,da,e)}setQueryDefaults(e,t){D(this,$l).set(Po(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...D(this,$l).values()];let n={};return t.forEach(s=>{qd(e,s.queryKey)&&(n={...n,...s.defaultOptions})}),n}setMutationDefaults(e,t){D(this,Vl).set(Po(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...D(this,Vl).values()];let n={};return t.forEach(s=>{qd(e,s.mutationKey)&&(n={...n,...s.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...D(this,da).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Ey(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===My&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...D(this,da).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){D(this,Yt).clear(),D(this,ca).clear()}},Yt=new WeakMap,ca=new WeakMap,da=new WeakMap,$l=new WeakMap,Vl=new WeakMap,ua=new WeakMap,Ul=new WeakMap,Wl=new WeakMap,rN),wr,mt,gu,or,po,Hl,fa,Gs,xu,ql,Zl,go,xo,ha,Kl,kt,od,zx,Bx,$x,Vx,Ux,Wx,Hx,b2,sN,x5=(sN=class extends pc{constructor(t,n){super();Be(this,kt);Be(this,wr);Be(this,mt);Be(this,gu);Be(this,or);Be(this,po);Be(this,Hl);Be(this,fa);Be(this,Gs);Be(this,xu);Be(this,ql);Be(this,Zl);Be(this,go);Be(this,xo);Be(this,ha);Be(this,Kl,new Set);this.options=n,Se(this,wr,t),Se(this,Gs,null),Se(this,fa,Fx()),this.options.experimental_prefetchInRender||D(this,fa).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(D(this,mt).addObserver(this),S_(D(this,mt),this.options)?tt(this,kt,od).call(this):this.updateResult(),tt(this,kt,Vx).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return qx(D(this,mt),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return qx(D(this,mt),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,tt(this,kt,Ux).call(this),tt(this,kt,Wx).call(this),D(this,mt).removeObserver(this)}setOptions(t,n){const s=this.options,i=D(this,mt);if(this.options=D(this,wr).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof ws(this.options.enabled,D(this,mt))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");tt(this,kt,Hx).call(this),D(this,mt).setOptions(this.options),s._defaulted&&!Ph(this.options,s)&&D(this,wr).getQueryCache().notify({type:"observerOptionsUpdated",query:D(this,mt),observer:this});const o=this.hasListeners();o&&C_(D(this,mt),i,this.options,s)&&tt(this,kt,od).call(this),this.updateResult(n),o&&(D(this,mt)!==i||ws(this.options.enabled,D(this,mt))!==ws(s.enabled,D(this,mt))||Pl(this.options.staleTime,D(this,mt))!==Pl(s.staleTime,D(this,mt)))&&tt(this,kt,zx).call(this);const l=tt(this,kt,Bx).call(this);o&&(D(this,mt)!==i||ws(this.options.enabled,D(this,mt))!==ws(s.enabled,D(this,mt))||l!==D(this,ha))&&tt(this,kt,$x).call(this,l)}getOptimisticResult(t){const n=D(this,wr).getQueryCache().build(D(this,wr),t),s=this.createResult(n,t);return y5(this,s)&&(Se(this,or,s),Se(this,Hl,this.options),Se(this,po,D(this,mt).state)),s}getCurrentResult(){return D(this,or)}trackResult(t,n){const s={};return Object.keys(t).forEach(i=>{Object.defineProperty(s,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),s}trackProp(t){D(this,Kl).add(t)}getCurrentQuery(){return D(this,mt)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=D(this,wr).defaultQueryOptions(t),s=D(this,wr).getQueryCache().build(D(this,wr),n);return s.fetch().then(()=>this.createResult(s,n))}fetch(t){return tt(this,kt,od).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),D(this,or)))}createResult(t,n){var F;const s=D(this,mt),i=this.options,o=D(this,or),l=D(this,po),d=D(this,Hl),h=t!==s?t.state:D(this,gu),{state:m}=t;let p={...m},x=!1,j;if(n._optimisticResults){const Y=this.hasListeners(),z=!Y&&S_(t,n),Z=Y&&C_(t,s,n,i);(z||Z)&&(p={...p,...j2(m.data,t.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:C,errorUpdatedAt:g,status:S}=p;if(n.select&&p.data!==void 0)if(o&&p.data===(l==null?void 0:l.data)&&n.select===D(this,xu))j=D(this,ql);else try{Se(this,xu,n.select),j=n.select(p.data),j=Dx(o==null?void 0:o.data,j,n),Se(this,ql,j),Se(this,Gs,null)}catch(Y){Se(this,Gs,Y)}else j=p.data;if(n.placeholderData!==void 0&&j===void 0&&S==="pending"){let Y;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(d==null?void 0:d.placeholderData))Y=o.data;else if(Y=typeof n.placeholderData=="function"?n.placeholderData((F=D(this,Zl))==null?void 0:F.state.data,D(this,Zl)):n.placeholderData,n.select&&Y!==void 0)try{Y=n.select(Y),Se(this,Gs,null)}catch(z){Se(this,Gs,z)}Y!==void 0&&(S="success",j=Dx(o==null?void 0:o.data,Y,n),x=!0)}D(this,Gs)&&(C=D(this,Gs),j=D(this,ql),g=Date.now(),S="error");const _=p.fetchStatus==="fetching",w=S==="pending",N=S==="error",P=w&&_,M=j!==void 0,R={status:S,fetchStatus:p.fetchStatus,isPending:w,isSuccess:S==="success",isError:N,isInitialLoading:P,isLoading:P,data:j,dataUpdatedAt:p.dataUpdatedAt,error:C,errorUpdatedAt:g,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>h.dataUpdateCount||p.errorUpdateCount>h.errorUpdateCount,isFetching:_,isRefetching:_&&!w,isLoadingError:N&&!M,isPaused:p.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:N&&M,isStale:Ry(t,n),refetch:this.refetch,promise:D(this,fa)};if(this.options.experimental_prefetchInRender){const Y=V=>{R.status==="error"?V.reject(R.error):R.data!==void 0&&V.resolve(R.data)},z=()=>{const V=Se(this,fa,R.promise=Fx());Y(V)},Z=D(this,fa);switch(Z.status){case"pending":t.queryHash===s.queryHash&&Y(Z);break;case"fulfilled":(R.status==="error"||R.data!==Z.value)&&z();break;case"rejected":(R.status!=="error"||R.error!==Z.reason)&&z();break}}return R}updateResult(t){const n=D(this,or),s=this.createResult(D(this,mt),this.options);if(Se(this,po,D(this,mt).state),Se(this,Hl,this.options),D(this,po).data!==void 0&&Se(this,Zl,D(this,mt)),Ph(s,n))return;Se(this,or,s);const i={},o=()=>{if(!n)return!0;const{notifyOnChangeProps:l}=this.options,d=typeof l=="function"?l():l;if(d==="all"||!d&&!D(this,Kl).size)return!0;const u=new Set(d??D(this,Kl));return this.options.throwOnError&&u.add("error"),Object.keys(D(this,or)).some(h=>{const m=h;return D(this,or)[m]!==n[m]&&u.has(m)})};(t==null?void 0:t.listeners)!==!1&&o()&&(i.listeners=!0),tt(this,kt,b2).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&tt(this,kt,Vx).call(this)}},wr=new WeakMap,mt=new WeakMap,gu=new WeakMap,or=new WeakMap,po=new WeakMap,Hl=new WeakMap,fa=new WeakMap,Gs=new WeakMap,xu=new WeakMap,ql=new WeakMap,Zl=new WeakMap,go=new WeakMap,xo=new WeakMap,ha=new WeakMap,Kl=new WeakMap,kt=new WeakSet,od=function(t){tt(this,kt,Hx).call(this);let n=D(this,mt).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Jr)),n},zx=function(){tt(this,kt,Ux).call(this);const t=Pl(this.options.staleTime,D(this,mt));if(Co||D(this,or).isStale||!Ix(t))return;const s=m2(D(this,or).dataUpdatedAt,t)+1;Se(this,go,setTimeout(()=>{D(this,or).isStale||this.updateResult()},s))},Bx=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(D(this,mt)):this.options.refetchInterval)??!1},$x=function(t){tt(this,kt,Wx).call(this),Se(this,ha,t),!(Co||ws(this.options.enabled,D(this,mt))===!1||!Ix(D(this,ha))||D(this,ha)===0)&&Se(this,xo,setInterval(()=>{(this.options.refetchIntervalInBackground||Ay.isFocused())&&tt(this,kt,od).call(this)},D(this,ha)))},Vx=function(){tt(this,kt,zx).call(this),tt(this,kt,$x).call(this,tt(this,kt,Bx).call(this))},Ux=function(){D(this,go)&&(clearTimeout(D(this,go)),Se(this,go,void 0))},Wx=function(){D(this,xo)&&(clearInterval(D(this,xo)),Se(this,xo,void 0))},Hx=function(){const t=D(this,wr).getQueryCache().build(D(this,wr),this.options);if(t===D(this,mt))return;const n=D(this,mt);Se(this,mt,t),Se(this,gu,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},b2=function(t){jn.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(D(this,or))}),D(this,wr).getQueryCache().notify({query:D(this,mt),type:"observerResultsUpdated"})})},sN);function v5(e,t){return ws(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function S_(e,t){return v5(e,t)||e.state.data!==void 0&&qx(e,t,t.refetchOnMount)}function qx(e,t,n){if(ws(t.enabled,e)!==!1){const s=typeof n=="function"?n(e):n;return s==="always"||s!==!1&&Ry(e,t)}return!1}function C_(e,t,n,s){return(e!==t||ws(s.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Ry(e,n)}function Ry(e,t){return ws(t.enabled,e)!==!1&&e.isStaleByTime(Pl(t.staleTime,e))}function y5(e,t){return!Ph(e.getCurrentResult(),t)}var ma,pa,jr,Ni,Ti,Kf,Zx,iN,w5=(iN=class extends pc{constructor(n,s){super();Be(this,Ti);Be(this,ma);Be(this,pa);Be(this,jr);Be(this,Ni);Se(this,ma,n),this.setOptions(s),this.bindMethods(),tt(this,Ti,Kf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const s=this.options;this.options=D(this,ma).defaultMutationOptions(n),Ph(this.options,s)||D(this,ma).getMutationCache().notify({type:"observerOptionsUpdated",mutation:D(this,jr),observer:this}),s!=null&&s.mutationKey&&this.options.mutationKey&&Po(s.mutationKey)!==Po(this.options.mutationKey)?this.reset():((i=D(this,jr))==null?void 0:i.state.status)==="pending"&&D(this,jr).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=D(this,jr))==null||n.removeObserver(this)}onMutationUpdate(n){tt(this,Ti,Kf).call(this),tt(this,Ti,Zx).call(this,n)}getCurrentResult(){return D(this,pa)}reset(){var n;(n=D(this,jr))==null||n.removeObserver(this),Se(this,jr,void 0),tt(this,Ti,Kf).call(this),tt(this,Ti,Zx).call(this)}mutate(n,s){var i;return Se(this,Ni,s),(i=D(this,jr))==null||i.removeObserver(this),Se(this,jr,D(this,ma).getMutationCache().build(D(this,ma),this.options)),D(this,jr).addObserver(this),D(this,jr).execute(n)}},ma=new WeakMap,pa=new WeakMap,jr=new WeakMap,Ni=new WeakMap,Ti=new WeakSet,Kf=function(){var s;const n=((s=D(this,jr))==null?void 0:s.state)??_2();Se(this,pa,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Zx=function(n){jn.batch(()=>{var s,i,o,l,d,u,h,m;if(D(this,Ni)&&this.hasListeners()){const p=D(this,pa).variables,x=D(this,pa).context;(n==null?void 0:n.type)==="success"?((i=(s=D(this,Ni)).onSuccess)==null||i.call(s,n.data,p,x),(l=(o=D(this,Ni)).onSettled)==null||l.call(o,n.data,null,p,x)):(n==null?void 0:n.type)==="error"&&((u=(d=D(this,Ni)).onError)==null||u.call(d,n.error,p,x),(m=(h=D(this,Ni)).onSettled)==null||m.call(h,void 0,n.error,p,x))}this.listeners.forEach(p=>{p(D(this,pa))})})},iN),N2=v.createContext(void 0),S2=e=>{const t=v.useContext(N2);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},j5=({client:e,children:t})=>(v.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),r.jsx(N2.Provider,{value:e,children:t})),C2=v.createContext(!1),_5=()=>v.useContext(C2);C2.Provider;function b5(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var N5=v.createContext(b5()),S5=()=>v.useContext(N5);function P2(e,t){return typeof e=="function"?e(...t):!!e}function Kx(){}var C5=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},P5=e=>{v.useEffect(()=>{e.clearReset()},[e])},k5=({result:e,errorResetBoundary:t,throwOnError:n,query:s})=>e.isError&&!t.isReset()&&!e.isFetching&&s&&P2(n,[e.error,s]),T5=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},E5=(e,t)=>e.isLoading&&e.isFetching&&!t,M5=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,P_=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function A5(e,t,n){var m,p,x,j,C;const s=S2(),i=_5(),o=S5(),l=s.defaultQueryOptions(e);(p=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_beforeQuery)==null||p.call(m,l),l._optimisticResults=i?"isRestoring":"optimistic",T5(l),C5(l,o),P5(o);const d=!s.getQueryCache().get(l.queryHash),[u]=v.useState(()=>new t(s,l)),h=u.getOptimisticResult(l);if(v.useSyncExternalStore(v.useCallback(g=>{const S=i?Kx:u.subscribe(jn.batchCalls(g));return u.updateResult(),S},[u,i]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),v.useEffect(()=>{u.setOptions(l,{listeners:!1})},[l,u]),M5(l,h))throw P_(l,u,o);if(k5({result:h,errorResetBoundary:o,throwOnError:l.throwOnError,query:s.getQueryCache().get(l.queryHash)}))throw h.error;if((j=(x=s.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||j.call(x,l,h),l.experimental_prefetchInRender&&!Co&&E5(h,i)){const g=d?P_(l,u,o):(C=s.getQueryCache().get(l.queryHash))==null?void 0:C.promise;g==null||g.catch(Kx).finally(()=>{u.updateResult()})}return l.notifyOnChangeProps?h:u.trackResult(h)}function Je(e,t){return A5(e,x5)}function ut(e,t){const n=S2(),[s]=v.useState(()=>new w5(n,e));v.useEffect(()=>{s.setOptions(e)},[s,e]);const i=v.useSyncExternalStore(v.useCallback(l=>s.subscribe(jn.batchCalls(l)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),o=v.useCallback((l,d)=>{s.mutate(l,d).catch(Kx)},[s]);if(i.error&&P2(s.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:o,mutateAsync:i.mutate}}async function k2(e){if(!e.ok){const t=await e.text()||e.statusText;try{const s=JSON.parse(t).message||t;throw new Error(s)}catch(n){throw n instanceof SyntaxError?new Error(t):n}}}async function Xe(e,t,n){const s=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await k2(s),s}const T2=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await k2(n),await n.json())},wt=new g5({defaultOptions:{queries:{queryFn:T2({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),R5=1,L5=1e6;let mg=0;function I5(){return mg=(mg+1)%Number.MAX_SAFE_INTEGER,mg.toString()}const pg=new Map,k_=e=>{if(pg.has(e))return;const t=setTimeout(()=>{pg.delete(e),_d({type:"REMOVE_TOAST",toastId:e})},L5);pg.set(e,t)},O5=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,R5)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?k_(n):e.toasts.forEach(s=>{k_(s.id)}),{...e,toasts:e.toasts.map(s=>s.id===n||n===void 0?{...s,open:!1}:s)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Gf=[];let Yf={toasts:[]};function _d(e){Yf=O5(Yf,e),Gf.forEach(t=>{t(Yf)})}function D5({...e}){const t=I5(),n=i=>_d({type:"UPDATE_TOAST",toast:{...i,id:t}}),s=()=>_d({type:"DISMISS_TOAST",toastId:t});return _d({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||s()}}}),{id:t,dismiss:s,update:n}}function mn(){const[e,t]=v.useState(Yf);return v.useEffect(()=>(Gf.push(t),()=>{const n=Gf.indexOf(t);n>-1&&Gf.splice(n,1)}),[e]),{...e,toast:D5,dismiss:n=>_d({type:"DISMISS_TOAST",toastId:n})}}function fe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function T_(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function Tm(...e){return t=>{let n=!1;const s=e.map(i=>{const o=T_(i,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let i=0;i<s.length;i++){const o=s[i];typeof o=="function"?o():T_(e[i],null)}}}}function rt(...e){return v.useCallback(Tm(...e),e)}function F5(e,t){const n=v.createContext(t),s=o=>{const{children:l,...d}=o,u=v.useMemo(()=>d,Object.values(d));return r.jsx(n.Provider,{value:u,children:l})};s.displayName=e+"Provider";function i(o){const l=v.useContext(n);if(l)return l;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[s,i]}function nr(e,t=[]){let n=[];function s(o,l){const d=v.createContext(l),u=n.length;n=[...n,l];const h=p=>{var _;const{scope:x,children:j,...C}=p,g=((_=x==null?void 0:x[e])==null?void 0:_[u])||d,S=v.useMemo(()=>C,Object.values(C));return r.jsx(g.Provider,{value:S,children:j})};h.displayName=o+"Provider";function m(p,x){var g;const j=((g=x==null?void 0:x[e])==null?void 0:g[u])||d,C=v.useContext(j);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[h,m]}const i=()=>{const o=n.map(l=>v.createContext(l));return function(d){const u=(d==null?void 0:d[e])||o;return v.useMemo(()=>({[`__scope${e}`]:{...d,[e]:u}}),[d,u])}};return i.scopeName=e,[s,z5(i,...t)]}function z5(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const s=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(o){const l=s.reduce((d,{useScope:u,scopeName:h})=>{const p=u(o)[`__scope${h}`];return{...d,...p}},{});return v.useMemo(()=>({[`__scope${t.scopeName}`]:l}),[l])}};return n.scopeName=t.scopeName,n}function ko(e){const t=B5(e),n=v.forwardRef((s,i)=>{const{children:o,...l}=s,d=v.Children.toArray(o),u=d.find(V5);if(u){const h=u.props.children,m=d.map(p=>p===u?v.Children.count(h)>1?v.Children.only(null):v.isValidElement(h)?h.props.children:null:p);return r.jsx(t,{...l,ref:i,children:v.isValidElement(h)?v.cloneElement(h,void 0,m):null})}return r.jsx(t,{...l,ref:i,children:o})});return n.displayName=`${e}.Slot`,n}var E2=ko("Slot");function B5(e){const t=v.forwardRef((n,s)=>{const{children:i,...o}=n;if(v.isValidElement(i)){const l=W5(i),d=U5(o,i.props);return i.type!==v.Fragment&&(d.ref=s?Tm(s,l):l),v.cloneElement(i,d)}return v.Children.count(i)>1?v.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var M2=Symbol("radix.slottable");function $5(e){const t=({children:n})=>r.jsx(r.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=M2,t}function V5(e){return v.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===M2}function U5(e,t){const n={...t};for(const s in t){const i=e[s],o=t[s];/^on[A-Z]/.test(s)?i&&o?n[s]=(...d)=>{o(...d),i(...d)}:i&&(n[s]=i):s==="style"?n[s]={...i,...o}:s==="className"&&(n[s]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}function W5(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function gc(e){const t=e+"CollectionProvider",[n,s]=nr(t),[i,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),l=g=>{const{scope:S,children:_}=g,w=he.useRef(null),N=he.useRef(new Map).current;return r.jsx(i,{scope:S,itemMap:N,collectionRef:w,children:_})};l.displayName=t;const d=e+"CollectionSlot",u=ko(d),h=he.forwardRef((g,S)=>{const{scope:_,children:w}=g,N=o(d,_),P=rt(S,N.collectionRef);return r.jsx(u,{ref:P,children:w})});h.displayName=d;const m=e+"CollectionItemSlot",p="data-radix-collection-item",x=ko(m),j=he.forwardRef((g,S)=>{const{scope:_,children:w,...N}=g,P=he.useRef(null),M=rt(S,P),A=o(m,_);return he.useEffect(()=>(A.itemMap.set(P,{ref:P,...N}),()=>void A.itemMap.delete(P))),r.jsx(x,{[p]:"",ref:M,children:w})});j.displayName=m;function C(g){const S=o(e+"CollectionConsumer",g);return he.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const N=Array.from(w.querySelectorAll(`[${p}]`));return Array.from(S.itemMap.values()).sort((A,R)=>N.indexOf(A.ref.current)-N.indexOf(R.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:l,Slot:h,ItemSlot:j},C,s]}var H5=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Re=H5.reduce((e,t)=>{const n=ko(`Primitive.${t}`),s=v.forwardRef((i,o)=>{const{asChild:l,...d}=i,u=l?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),r.jsx(u,{...d,ref:o})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{});function Ly(e,t){e&&Va.flushSync(()=>e.dispatchEvent(t))}function Zn(e){const t=v.useRef(e);return v.useEffect(()=>{t.current=e}),v.useMemo(()=>(...n)=>{var s;return(s=t.current)==null?void 0:s.call(t,...n)},[])}function q5(e,t=globalThis==null?void 0:globalThis.document){const n=Zn(e);v.useEffect(()=>{const s=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",s,{capture:!0}),()=>t.removeEventListener("keydown",s,{capture:!0})},[n,t])}var Z5="DismissableLayer",Gx="dismissableLayer.update",K5="dismissableLayer.pointerDownOutside",G5="dismissableLayer.focusOutside",E_,A2=v.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),xc=v.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:o,onInteractOutside:l,onDismiss:d,...u}=e,h=v.useContext(A2),[m,p]=v.useState(null),x=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,j]=v.useState({}),C=rt(t,R=>p(R)),g=Array.from(h.layers),[S]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=g.indexOf(S),w=m?g.indexOf(m):-1,N=h.layersWithOutsidePointerEventsDisabled.size>0,P=w>=_,M=Q5(R=>{const F=R.target,Y=[...h.branches].some(z=>z.contains(F));!P||Y||(i==null||i(R),l==null||l(R),R.defaultPrevented||d==null||d())},x),A=X5(R=>{const F=R.target;[...h.branches].some(z=>z.contains(F))||(o==null||o(R),l==null||l(R),R.defaultPrevented||d==null||d())},x);return q5(R=>{w===h.layers.size-1&&(s==null||s(R),!R.defaultPrevented&&d&&(R.preventDefault(),d()))},x),v.useEffect(()=>{if(m)return n&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(E_=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),M_(),()=>{n&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=E_)}},[m,x,n,h]),v.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),M_())},[m,h]),v.useEffect(()=>{const R=()=>j({});return document.addEventListener(Gx,R),()=>document.removeEventListener(Gx,R)},[]),r.jsx(Re.div,{...u,ref:C,style:{pointerEvents:N?P?"auto":"none":void 0,...e.style},onFocusCapture:fe(e.onFocusCapture,A.onFocusCapture),onBlurCapture:fe(e.onBlurCapture,A.onBlurCapture),onPointerDownCapture:fe(e.onPointerDownCapture,M.onPointerDownCapture)})});xc.displayName=Z5;var Y5="DismissableLayerBranch",R2=v.forwardRef((e,t)=>{const n=v.useContext(A2),s=v.useRef(null),i=rt(t,s);return v.useEffect(()=>{const o=s.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),r.jsx(Re.div,{...e,ref:i})});R2.displayName=Y5;function Q5(e,t=globalThis==null?void 0:globalThis.document){const n=Zn(e),s=v.useRef(!1),i=v.useRef(()=>{});return v.useEffect(()=>{const o=d=>{if(d.target&&!s.current){let u=function(){L2(K5,n,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);s.current=!1},l=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(l),t.removeEventListener("pointerdown",o),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>s.current=!0}}function X5(e,t=globalThis==null?void 0:globalThis.document){const n=Zn(e),s=v.useRef(!1);return v.useEffect(()=>{const i=o=>{o.target&&!s.current&&L2(G5,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>s.current=!0,onBlurCapture:()=>s.current=!1}}function M_(){const e=new CustomEvent(Gx);document.dispatchEvent(e)}function L2(e,t,n,{discrete:s}){const i=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?Ly(i,o):i.dispatchEvent(o)}var J5=xc,ez=R2,hn=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{},tz="Portal",Nu=v.forwardRef((e,t)=>{var d;const{container:n,...s}=e,[i,o]=v.useState(!1);hn(()=>o(!0),[]);const l=n||i&&((d=globalThis==null?void 0:globalThis.document)==null?void 0:d.body);return l?P3.createPortal(r.jsx(Re.div,{...s,ref:t}),l):null});Nu.displayName=tz;function nz(e,t){return v.useReducer((n,s)=>t[n][s]??n,e)}var Zr=e=>{const{present:t,children:n}=e,s=rz(t),i=typeof n=="function"?n({present:s.isPresent}):v.Children.only(n),o=rt(s.ref,sz(i));return typeof n=="function"||s.isPresent?v.cloneElement(i,{ref:o}):null};Zr.displayName="Presence";function rz(e){const[t,n]=v.useState(),s=v.useRef({}),i=v.useRef(e),o=v.useRef("none"),l=e?"mounted":"unmounted",[d,u]=nz(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const h=Cf(s.current);o.current=d==="mounted"?h:"none"},[d]),hn(()=>{const h=s.current,m=i.current;if(m!==e){const x=o.current,j=Cf(h);e?u("MOUNT"):j==="none"||(h==null?void 0:h.display)==="none"?u("UNMOUNT"):u(m&&x!==j?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),hn(()=>{if(t){let h;const m=t.ownerDocument.defaultView??window,p=j=>{const g=Cf(s.current).includes(j.animationName);if(j.target===t&&g&&(u("ANIMATION_END"),!i.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",h=m.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},x=j=>{j.target===t&&(o.current=Cf(s.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{m.clearTimeout(h),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:v.useCallback(h=>{h&&(s.current=getComputedStyle(h)),n(h)},[])}}function Cf(e){return(e==null?void 0:e.animationName)||"none"}function sz(e){var s,i;let t=(s=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Ur({prop:e,defaultProp:t,onChange:n=()=>{}}){const[s,i]=iz({defaultProp:t,onChange:n}),o=e!==void 0,l=o?e:s,d=Zn(n),u=v.useCallback(h=>{if(o){const p=typeof h=="function"?h(e):h;p!==e&&d(p)}else i(h)},[o,e,i,d]);return[l,u]}function iz({defaultProp:e,onChange:t}){const n=v.useState(e),[s]=n,i=v.useRef(s),o=Zn(t);return v.useEffect(()=>{i.current!==s&&(o(s),i.current=s)},[s,i,o]),n}var az="VisuallyHidden",Su=v.forwardRef((e,t)=>r.jsx(Re.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Su.displayName=az;var oz=Su,Iy="ToastProvider",[Oy,lz,cz]=gc("Toast"),[I2,zG]=nr("Toast",[cz]),[dz,Em]=I2(Iy),O2=e=>{const{__scopeToast:t,label:n="Notification",duration:s=5e3,swipeDirection:i="right",swipeThreshold:o=50,children:l}=e,[d,u]=v.useState(null),[h,m]=v.useState(0),p=v.useRef(!1),x=v.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Iy}\`. Expected non-empty \`string\`.`),r.jsx(Oy.Provider,{scope:t,children:r.jsx(dz,{scope:t,label:n,duration:s,swipeDirection:i,swipeThreshold:o,toastCount:h,viewport:d,onViewportChange:u,onToastAdd:v.useCallback(()=>m(j=>j+1),[]),onToastRemove:v.useCallback(()=>m(j=>j-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:x,children:l})})};O2.displayName=Iy;var D2="ToastViewport",uz=["F8"],Yx="toast.viewportPause",Qx="toast.viewportResume",F2=v.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:s=uz,label:i="Notifications ({hotkey})",...o}=e,l=Em(D2,n),d=lz(n),u=v.useRef(null),h=v.useRef(null),m=v.useRef(null),p=v.useRef(null),x=rt(t,p,l.onViewportChange),j=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=l.toastCount>0;v.useEffect(()=>{const S=_=>{var N;s.length!==0&&s.every(P=>_[P]||_.code===P)&&((N=p.current)==null||N.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[s]),v.useEffect(()=>{const S=u.current,_=p.current;if(C&&S&&_){const w=()=>{if(!l.isClosePausedRef.current){const A=new CustomEvent(Yx);_.dispatchEvent(A),l.isClosePausedRef.current=!0}},N=()=>{if(l.isClosePausedRef.current){const A=new CustomEvent(Qx);_.dispatchEvent(A),l.isClosePausedRef.current=!1}},P=A=>{!S.contains(A.relatedTarget)&&N()},M=()=>{S.contains(document.activeElement)||N()};return S.addEventListener("focusin",w),S.addEventListener("focusout",P),S.addEventListener("pointermove",w),S.addEventListener("pointerleave",M),window.addEventListener("blur",w),window.addEventListener("focus",N),()=>{S.removeEventListener("focusin",w),S.removeEventListener("focusout",P),S.removeEventListener("pointermove",w),S.removeEventListener("pointerleave",M),window.removeEventListener("blur",w),window.removeEventListener("focus",N)}}},[C,l.isClosePausedRef]);const g=v.useCallback(({tabbingDirection:S})=>{const w=d().map(N=>{const P=N.ref.current,M=[P,...Nz(P)];return S==="forwards"?M:M.reverse()});return(S==="forwards"?w.reverse():w).flat()},[d]);return v.useEffect(()=>{const S=p.current;if(S){const _=w=>{var M,A,R;const N=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!N){const F=document.activeElement,Y=w.shiftKey;if(w.target===S&&Y){(M=h.current)==null||M.focus();return}const V=g({tabbingDirection:Y?"backwards":"forwards"}),te=V.findIndex(X=>X===F);gg(V.slice(te+1))?w.preventDefault():Y?(A=h.current)==null||A.focus():(R=m.current)==null||R.focus()}};return S.addEventListener("keydown",_),()=>S.removeEventListener("keydown",_)}},[d,g]),r.jsxs(ez,{ref:u,role:"region","aria-label":i.replace("{hotkey}",j),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&r.jsx(Xx,{ref:h,onFocusFromOutsideViewport:()=>{const S=g({tabbingDirection:"forwards"});gg(S)}}),r.jsx(Oy.Slot,{scope:n,children:r.jsx(Re.ol,{tabIndex:-1,...o,ref:x})}),C&&r.jsx(Xx,{ref:m,onFocusFromOutsideViewport:()=>{const S=g({tabbingDirection:"backwards"});gg(S)}})]})});F2.displayName=D2;var z2="ToastFocusProxy",Xx=v.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:s,...i}=e,o=Em(z2,n);return r.jsx(Su,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:l=>{var h;const d=l.relatedTarget;!((h=o.viewport)!=null&&h.contains(d))&&s()}})});Xx.displayName=z2;var Mm="Toast",fz="toast.swipeStart",hz="toast.swipeMove",mz="toast.swipeCancel",pz="toast.swipeEnd",B2=v.forwardRef((e,t)=>{const{forceMount:n,open:s,defaultOpen:i,onOpenChange:o,...l}=e,[d=!0,u]=Ur({prop:s,defaultProp:i,onChange:o});return r.jsx(Zr,{present:n||d,children:r.jsx(vz,{open:d,...l,ref:t,onClose:()=>u(!1),onPause:Zn(e.onPause),onResume:Zn(e.onResume),onSwipeStart:fe(e.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:fe(e.onSwipeMove,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:fe(e.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:fe(e.onSwipeEnd,h=>{const{x:m,y:p}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),u(!1)})})})});B2.displayName=Mm;var[gz,xz]=I2(Mm,{onClose(){}}),vz=v.forwardRef((e,t)=>{const{__scopeToast:n,type:s="foreground",duration:i,open:o,onClose:l,onEscapeKeyDown:d,onPause:u,onResume:h,onSwipeStart:m,onSwipeMove:p,onSwipeCancel:x,onSwipeEnd:j,...C}=e,g=Em(Mm,n),[S,_]=v.useState(null),w=rt(t,X=>_(X)),N=v.useRef(null),P=v.useRef(null),M=i||g.duration,A=v.useRef(0),R=v.useRef(M),F=v.useRef(0),{onToastAdd:Y,onToastRemove:z}=g,Z=Zn(()=>{var J;(S==null?void 0:S.contains(document.activeElement))&&((J=g.viewport)==null||J.focus()),l()}),V=v.useCallback(X=>{!X||X===1/0||(window.clearTimeout(F.current),A.current=new Date().getTime(),F.current=window.setTimeout(Z,X))},[Z]);v.useEffect(()=>{const X=g.viewport;if(X){const J=()=>{V(R.current),h==null||h()},ne=()=>{const U=new Date().getTime()-A.current;R.current=R.current-U,window.clearTimeout(F.current),u==null||u()};return X.addEventListener(Yx,ne),X.addEventListener(Qx,J),()=>{X.removeEventListener(Yx,ne),X.removeEventListener(Qx,J)}}},[g.viewport,M,u,h,V]),v.useEffect(()=>{o&&!g.isClosePausedRef.current&&V(M)},[o,M,g.isClosePausedRef,V]),v.useEffect(()=>(Y(),()=>z()),[Y,z]);const te=v.useMemo(()=>S?Z2(S):null,[S]);return g.viewport?r.jsxs(r.Fragment,{children:[te&&r.jsx(yz,{__scopeToast:n,role:"status","aria-live":s==="foreground"?"assertive":"polite","aria-atomic":!0,children:te}),r.jsx(gz,{scope:n,onClose:Z,children:Va.createPortal(r.jsx(Oy.ItemSlot,{scope:n,children:r.jsx(J5,{asChild:!0,onEscapeKeyDown:fe(d,()=>{g.isFocusedToastEscapeKeyDownRef.current||Z(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:r.jsx(Re.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":g.swipeDirection,...C,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:fe(e.onKeyDown,X=>{X.key==="Escape"&&(d==null||d(X.nativeEvent),X.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,Z()))}),onPointerDown:fe(e.onPointerDown,X=>{X.button===0&&(N.current={x:X.clientX,y:X.clientY})}),onPointerMove:fe(e.onPointerMove,X=>{if(!N.current)return;const J=X.clientX-N.current.x,ne=X.clientY-N.current.y,U=!!P.current,k=["left","right"].includes(g.swipeDirection),W=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,G=k?W(0,J):0,le=k?0:W(0,ne),Me=X.pointerType==="touch"?10:2,qe={x:G,y:le},Pe={originalEvent:X,delta:qe};U?(P.current=qe,Pf(hz,p,Pe,{discrete:!1})):A_(qe,g.swipeDirection,Me)?(P.current=qe,Pf(fz,m,Pe,{discrete:!1}),X.target.setPointerCapture(X.pointerId)):(Math.abs(J)>Me||Math.abs(ne)>Me)&&(N.current=null)}),onPointerUp:fe(e.onPointerUp,X=>{const J=P.current,ne=X.target;if(ne.hasPointerCapture(X.pointerId)&&ne.releasePointerCapture(X.pointerId),P.current=null,N.current=null,J){const U=X.currentTarget,k={originalEvent:X,delta:J};A_(J,g.swipeDirection,g.swipeThreshold)?Pf(pz,j,k,{discrete:!0}):Pf(mz,x,k,{discrete:!0}),U.addEventListener("click",W=>W.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),yz=e=>{const{__scopeToast:t,children:n,...s}=e,i=Em(Mm,t),[o,l]=v.useState(!1),[d,u]=v.useState(!1);return _z(()=>l(!0)),v.useEffect(()=>{const h=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(h)},[]),d?null:r.jsx(Nu,{asChild:!0,children:r.jsx(Su,{...s,children:o&&r.jsxs(r.Fragment,{children:[i.label," ",n]})})})},wz="ToastTitle",$2=v.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(Re.div,{...s,ref:t})});$2.displayName=wz;var jz="ToastDescription",V2=v.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e;return r.jsx(Re.div,{...s,ref:t})});V2.displayName=jz;var U2="ToastAction",W2=v.forwardRef((e,t)=>{const{altText:n,...s}=e;return n.trim()?r.jsx(q2,{altText:n,asChild:!0,children:r.jsx(Dy,{...s,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${U2}\`. Expected non-empty \`string\`.`),null)});W2.displayName=U2;var H2="ToastClose",Dy=v.forwardRef((e,t)=>{const{__scopeToast:n,...s}=e,i=xz(H2,n);return r.jsx(q2,{asChild:!0,children:r.jsx(Re.button,{type:"button",...s,ref:t,onClick:fe(e.onClick,i.onClose)})})});Dy.displayName=H2;var q2=v.forwardRef((e,t)=>{const{__scopeToast:n,altText:s,...i}=e;return r.jsx(Re.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":s||void 0,...i,ref:t})});function Z2(e){const t=[];return Array.from(e.childNodes).forEach(s=>{if(s.nodeType===s.TEXT_NODE&&s.textContent&&t.push(s.textContent),bz(s)){const i=s.ariaHidden||s.hidden||s.style.display==="none",o=s.dataset.radixToastAnnounceExclude==="";if(!i)if(o){const l=s.dataset.radixToastAnnounceAlt;l&&t.push(l)}else t.push(...Z2(s))}}),t}function Pf(e,t,n,{discrete:s}){const i=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),s?Ly(i,o):i.dispatchEvent(o)}var A_=(e,t,n=0)=>{const s=Math.abs(e.x),i=Math.abs(e.y),o=s>i;return t==="left"||t==="right"?o&&s>n:!o&&i>n};function _z(e=()=>{}){const t=Zn(e);hn(()=>{let n=0,s=0;return n=window.requestAnimationFrame(()=>s=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(s)}},[t])}function bz(e){return e.nodeType===e.ELEMENT_NODE}function Nz(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function gg(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Sz=O2,K2=F2,G2=B2,Y2=$2,Q2=V2,X2=W2,J2=Dy;function eT(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=eT(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function tT(){for(var e,t,n=0,s="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=eT(e))&&(s&&(s+=" "),s+=t);return s}const R_=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,L_=tT,vc=(e,t)=>n=>{var s;if((t==null?void 0:t.variants)==null)return L_(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:o}=t,l=Object.keys(i).map(h=>{const m=n==null?void 0:n[h],p=o==null?void 0:o[h];if(m===null)return null;const x=R_(m)||R_(p);return i[h][x]}),d=n&&Object.entries(n).reduce((h,m)=>{let[p,x]=m;return x===void 0||(h[p]=x),h},{}),u=t==null||(s=t.compoundVariants)===null||s===void 0?void 0:s.reduce((h,m)=>{let{class:p,className:x,...j}=m;return Object.entries(j).every(C=>{let[g,S]=C;return Array.isArray(S)?S.includes({...o,...d}[g]):{...o,...d}[g]===S})?[...h,p,x]:h},[]);return L_(e,l,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cz=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),nT=(...e)=>e.filter((t,n,s)=>!!t&&s.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Pz={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kz=v.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:i="",children:o,iconNode:l,...d},u)=>v.createElement("svg",{ref:u,...Pz,width:t,height:t,stroke:e,strokeWidth:s?Number(n)*24/Number(t):n,className:nT("lucide",i),...d},[...l.map(([h,m])=>v.createElement(h,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const n=v.forwardRef(({className:s,...i},o)=>v.createElement(kz,{ref:o,iconNode:t,className:nT(`lucide-${Cz(e)}`,s),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jx=we("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tz=we("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=we("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I_=we("BadgeCheck",[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fy=we("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ez=we("Book",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H19a1 1 0 0 1 1 1v18a1 1 0 0 1-1 1H6.5a1 1 0 0 1 0-5H20",key:"k3hazp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Th=we("Briefcase",[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Or=we("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ev=we("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mz=we("ChartLine",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Az=we("ChartPie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const By=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rT=we("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sT=we("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rz=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _i=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jn=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iT=we("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tv=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lz=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xg=we("ClipboardList",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=we("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iz=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hr=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eh=we("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O_=we("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=we("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=we("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yg=we("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D_=we("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $y=we("Handshake",[["path",{d:"m11 17 2 2a1 1 0 1 0 3-3",key:"efffak"}],["path",{d:"m14 14 2.5 2.5a1 1 0 1 0 3-3l-3.88-3.88a3 3 0 0 0-4.24 0l-.88.88a1 1 0 1 1-3-3l2.81-2.81a5.79 5.79 0 0 1 7.06-.87l.47.28a2 2 0 0 0 1.42.25L21 4",key:"9pr0kb"}],["path",{d:"m21 3 1 11h-2",key:"1tisrp"}],["path",{d:"M3 3 2 14l6.5 6.5a1 1 0 1 0 3-3",key:"1uvwmv"}],["path",{d:"M3 4h8",key:"1ep09j"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const To=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F_=we("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zd=we("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Am=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aT=we("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oT=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oz=we("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dz=we("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mh=we("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lT=we("Map",[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fz=we("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zz=we("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ps=we("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bd=we("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bz=we("Minimize2",[["polyline",{points:"4 14 10 14 10 20",key:"11kfnr"}],["polyline",{points:"20 10 14 10 14 4",key:"rlmsce"}],["line",{x1:"14",x2:"21",y1:"10",y2:"3",key:"o5lafz"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $z=we("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z_=we("Monitor",[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vz=we("MousePointer",[["path",{d:"M12.586 12.586 19 19",key:"ea5xo7"}],["path",{d:"M3.688 3.037a.497.497 0 0 0-.651.651l6.5 15.999a.501.501 0 0 0 .947-.062l1.569-6.083a2 2 0 0 1 1.448-1.479l6.124-1.579a.5.5 0 0 0 .063-.947z",key:"277e5u"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cT=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Li=we("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yc=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uz=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ri=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rc=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ah=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dT=we("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wz=we("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=we("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const En=we("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uT=we("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fT=we("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=we("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nd=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eo=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hz=we("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ka=we("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wc=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Uy="-",qz=e=>{const t=Kz(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=e;return{getClassGroupId:l=>{const d=l.split(Uy);return d[0]===""&&d.length!==1&&d.shift(),mT(d,t)||Zz(l)},getConflictingClassGroupIds:(l,d)=>{const u=n[l]||[];return d&&s[l]?[...u,...s[l]]:u}}},mT=(e,t)=>{var l;if(e.length===0)return t.classGroupId;const n=e[0],s=t.nextPart.get(n),i=s?mT(e.slice(1),s):void 0;if(i)return i;if(t.validators.length===0)return;const o=e.join(Uy);return(l=t.validators.find(({validator:d})=>d(o)))==null?void 0:l.classGroupId},B_=/^\[(.+)\]$/,Zz=e=>{if(B_.test(e)){const t=B_.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Kz=e=>{const{theme:t,prefix:n}=e,s={nextPart:new Map,validators:[]};return Yz(Object.entries(e.classGroups),n).forEach(([o,l])=>{nv(l,s,o,t)}),s},nv=(e,t,n,s)=>{e.forEach(i=>{if(typeof i=="string"){const o=i===""?t:$_(t,i);o.classGroupId=n;return}if(typeof i=="function"){if(Gz(i)){nv(i(s),t,n,s);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([o,l])=>{nv(l,$_(t,o),n,s)})})},$_=(e,t)=>{let n=e;return t.split(Uy).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},Gz=e=>e.isThemeGetter,Yz=(e,t)=>t?e.map(([n,s])=>{const i=s.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([l,d])=>[t+l,d])):o);return[n,i]}):e,Qz=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,s=new Map;const i=(o,l)=>{n.set(o,l),t++,t>e&&(t=0,s=n,n=new Map)};return{get(o){let l=n.get(o);if(l!==void 0)return l;if((l=s.get(o))!==void 0)return i(o,l),l},set(o,l){n.has(o)?n.set(o,l):i(o,l)}}},pT="!",Xz=e=>{const{separator:t,experimentalParseClassName:n}=e,s=t.length===1,i=t[0],o=t.length,l=d=>{const u=[];let h=0,m=0,p;for(let S=0;S<d.length;S++){let _=d[S];if(h===0){if(_===i&&(s||d.slice(S,S+o)===t)){u.push(d.slice(m,S)),m=S+o;continue}if(_==="/"){p=S;continue}}_==="["?h++:_==="]"&&h--}const x=u.length===0?d:d.substring(m),j=x.startsWith(pT),C=j?x.substring(1):x,g=p&&p>m?p-m:void 0;return{modifiers:u,hasImportantModifier:j,baseClassName:C,maybePostfixModifierPosition:g}};return n?d=>n({className:d,parseClassName:l}):l},Jz=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(s=>{s[0]==="["?(t.push(...n.sort(),s),n=[]):n.push(s)}),t.push(...n.sort()),t},e8=e=>({cache:Qz(e.cacheSize),parseClassName:Xz(e),...qz(e)}),t8=/\s+/,n8=(e,t)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:i}=t,o=[],l=e.trim().split(t8);let d="";for(let u=l.length-1;u>=0;u-=1){const h=l[u],{modifiers:m,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:j}=n(h);let C=!!j,g=s(C?x.substring(0,j):x);if(!g){if(!C){d=h+(d.length>0?" "+d:d);continue}if(g=s(x),!g){d=h+(d.length>0?" "+d:d);continue}C=!1}const S=Jz(m).join(":"),_=p?S+pT:S,w=_+g;if(o.includes(w))continue;o.push(w);const N=i(g,C);for(let P=0;P<N.length;++P){const M=N[P];o.push(_+M)}d=h+(d.length>0?" "+d:d)}return d};function r8(){let e=0,t,n,s="";for(;e<arguments.length;)(t=arguments[e++])&&(n=gT(t))&&(s&&(s+=" "),s+=n);return s}const gT=e=>{if(typeof e=="string")return e;let t,n="";for(let s=0;s<e.length;s++)e[s]&&(t=gT(e[s]))&&(n&&(n+=" "),n+=t);return n};function s8(e,...t){let n,s,i,o=l;function l(u){const h=t.reduce((m,p)=>p(m),e());return n=e8(h),s=n.cache.get,i=n.cache.set,o=d,d(u)}function d(u){const h=s(u);if(h)return h;const m=n8(u,n);return i(u,m),m}return function(){return o(r8.apply(null,arguments))}}const Ot=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},xT=/^\[(?:([a-z-]+):)?(.+)\]$/i,i8=/^\d+\/\d+$/,a8=new Set(["px","full","screen"]),o8=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,l8=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,c8=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,d8=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,u8=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,pi=e=>El(e)||a8.has(e)||i8.test(e),Zi=e=>jc(e,"length",y8),El=e=>!!e&&!Number.isNaN(Number(e)),wg=e=>jc(e,"number",El),Gc=e=>!!e&&Number.isInteger(Number(e)),f8=e=>e.endsWith("%")&&El(e.slice(0,-1)),Qe=e=>xT.test(e),Ki=e=>o8.test(e),h8=new Set(["length","size","percentage"]),m8=e=>jc(e,h8,vT),p8=e=>jc(e,"position",vT),g8=new Set(["image","url"]),x8=e=>jc(e,g8,j8),v8=e=>jc(e,"",w8),Yc=()=>!0,jc=(e,t,n)=>{const s=xT.exec(e);return s?s[1]?typeof t=="string"?s[1]===t:t.has(s[1]):n(s[2]):!1},y8=e=>l8.test(e)&&!c8.test(e),vT=()=>!1,w8=e=>d8.test(e),j8=e=>u8.test(e),_8=()=>{const e=Ot("colors"),t=Ot("spacing"),n=Ot("blur"),s=Ot("brightness"),i=Ot("borderColor"),o=Ot("borderRadius"),l=Ot("borderSpacing"),d=Ot("borderWidth"),u=Ot("contrast"),h=Ot("grayscale"),m=Ot("hueRotate"),p=Ot("invert"),x=Ot("gap"),j=Ot("gradientColorStops"),C=Ot("gradientColorStopPositions"),g=Ot("inset"),S=Ot("margin"),_=Ot("opacity"),w=Ot("padding"),N=Ot("saturate"),P=Ot("scale"),M=Ot("sepia"),A=Ot("skew"),R=Ot("space"),F=Ot("translate"),Y=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto",Qe,t],V=()=>[Qe,t],te=()=>["",pi,Zi],X=()=>["auto",El,Qe],J=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ne=()=>["solid","dashed","dotted","double","none"],U=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],k=()=>["start","end","center","between","around","evenly","stretch"],W=()=>["","0",Qe],G=()=>["auto","avoid","all","avoid-page","page","left","right","column"],le=()=>[El,Qe];return{cacheSize:500,separator:":",theme:{colors:[Yc],spacing:[pi,Zi],blur:["none","",Ki,Qe],brightness:le(),borderColor:[e],borderRadius:["none","","full",Ki,Qe],borderSpacing:V(),borderWidth:te(),contrast:le(),grayscale:W(),hueRotate:le(),invert:W(),gap:V(),gradientColorStops:[e],gradientColorStopPositions:[f8,Zi],inset:Z(),margin:Z(),opacity:le(),padding:V(),saturate:le(),scale:le(),sepia:W(),skew:le(),space:V(),translate:V()},classGroups:{aspect:[{aspect:["auto","square","video",Qe]}],container:["container"],columns:[{columns:[Ki]}],"break-after":[{"break-after":G()}],"break-before":[{"break-before":G()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...J(),Qe]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:Y()}],"overscroll-x":[{"overscroll-x":Y()}],"overscroll-y":[{"overscroll-y":Y()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gc,Qe]}],basis:[{basis:Z()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Qe]}],grow:[{grow:W()}],shrink:[{shrink:W()}],order:[{order:["first","last","none",Gc,Qe]}],"grid-cols":[{"grid-cols":[Yc]}],"col-start-end":[{col:["auto",{span:["full",Gc,Qe]},Qe]}],"col-start":[{"col-start":X()}],"col-end":[{"col-end":X()}],"grid-rows":[{"grid-rows":[Yc]}],"row-start-end":[{row:["auto",{span:[Gc,Qe]},Qe]}],"row-start":[{"row-start":X()}],"row-end":[{"row-end":X()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Qe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Qe]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...k()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...k(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...k(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[R]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[R]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Qe,t]}],"min-w":[{"min-w":[Qe,t,"min","max","fit"]}],"max-w":[{"max-w":[Qe,t,"none","full","min","max","fit","prose",{screen:[Ki]},Ki]}],h:[{h:[Qe,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Qe,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Qe,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ki,Zi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",wg]}],"font-family":[{font:[Yc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Qe]}],"line-clamp":[{"line-clamp":["none",El,wg]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",pi,Qe]}],"list-image":[{"list-image":["none",Qe]}],"list-style-type":[{list:["none","disc","decimal",Qe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ne(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",pi,Zi]}],"underline-offset":[{"underline-offset":["auto",pi,Qe]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:V()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Qe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Qe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...J(),p8]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",m8]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},x8]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[j]}],"gradient-via":[{via:[j]}],"gradient-to":[{to:[j]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[d]}],"border-w-x":[{"border-x":[d]}],"border-w-y":[{"border-y":[d]}],"border-w-s":[{"border-s":[d]}],"border-w-e":[{"border-e":[d]}],"border-w-t":[{"border-t":[d]}],"border-w-r":[{"border-r":[d]}],"border-w-b":[{"border-b":[d]}],"border-w-l":[{"border-l":[d]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...ne(),"hidden"]}],"divide-x":[{"divide-x":[d]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[d]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:ne()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...ne()]}],"outline-offset":[{"outline-offset":[pi,Qe]}],"outline-w":[{outline:[pi,Zi]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:te()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[pi,Zi]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ki,v8]}],"shadow-color":[{shadow:[Yc]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...U(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":U()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[s]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",Ki,Qe]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[p]}],saturate:[{saturate:[N]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[s]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Qe]}],duration:[{duration:le()}],ease:[{ease:["linear","in","out","in-out",Qe]}],delay:[{delay:le()}],animate:[{animate:["none","spin","ping","pulse","bounce",Qe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Gc,Qe]}],"translate-x":[{"translate-x":[F]}],"translate-y":[{"translate-y":[F]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Qe]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Qe]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":V()}],"scroll-mx":[{"scroll-mx":V()}],"scroll-my":[{"scroll-my":V()}],"scroll-ms":[{"scroll-ms":V()}],"scroll-me":[{"scroll-me":V()}],"scroll-mt":[{"scroll-mt":V()}],"scroll-mr":[{"scroll-mr":V()}],"scroll-mb":[{"scroll-mb":V()}],"scroll-ml":[{"scroll-ml":V()}],"scroll-p":[{"scroll-p":V()}],"scroll-px":[{"scroll-px":V()}],"scroll-py":[{"scroll-py":V()}],"scroll-ps":[{"scroll-ps":V()}],"scroll-pe":[{"scroll-pe":V()}],"scroll-pt":[{"scroll-pt":V()}],"scroll-pr":[{"scroll-pr":V()}],"scroll-pb":[{"scroll-pb":V()}],"scroll-pl":[{"scroll-pl":V()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Qe]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[pi,Zi,wg]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},b8=s8(_8);function _e(...e){return b8(tT(e))}const N8=Sz,yT=v.forwardRef(({className:e,...t},n)=>r.jsx(K2,{ref:n,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));yT.displayName=K2.displayName;const S8=vc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),wT=v.forwardRef(({className:e,variant:t,...n},s)=>r.jsx(G2,{ref:s,className:_e(S8({variant:t}),e),...n}));wT.displayName=G2.displayName;const C8=v.forwardRef(({className:e,...t},n)=>r.jsx(X2,{ref:n,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));C8.displayName=X2.displayName;const jT=v.forwardRef(({className:e,...t},n)=>r.jsx(J2,{ref:n,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:r.jsx(wc,{className:"h-4 w-4"})}));jT.displayName=J2.displayName;const _T=v.forwardRef(({className:e,...t},n)=>r.jsx(Y2,{ref:n,className:_e("text-sm font-semibold",e),...t}));_T.displayName=Y2.displayName;const bT=v.forwardRef(({className:e,...t},n)=>r.jsx(Q2,{ref:n,className:_e("text-sm opacity-90",e),...t}));bT.displayName=Q2.displayName;function P8(){const{toasts:e}=mn();return r.jsxs(N8,{children:[e.map(function({id:t,title:n,description:s,action:i,...o}){return r.jsxs(wT,{...o,children:[r.jsxs("div",{className:"grid gap-1",children:[n&&r.jsx(_T,{children:n}),s&&r.jsx(bT,{children:s})]}),i,r.jsx(jT,{})]},t)}),r.jsx(yT,{})]})}var k8=XC[" useId ".trim().toString()]||(()=>{}),T8=0;function os(e){const[t,n]=v.useState(k8());return hn(()=>{n(s=>s??String(T8++))},[e]),t?`radix-${t}`:""}const E8=["top","right","bottom","left"],Aa=Math.min,Lr=Math.max,Lh=Math.round,kf=Math.floor,si=e=>({x:e,y:e}),M8={left:"right",right:"left",bottom:"top",top:"bottom"},A8={start:"end",end:"start"};function rv(e,t,n){return Lr(e,Aa(t,n))}function Ii(e,t){return typeof e=="function"?e(t):e}function Oi(e){return e.split("-")[0]}function _c(e){return e.split("-")[1]}function Wy(e){return e==="x"?"y":"x"}function Hy(e){return e==="y"?"height":"width"}function Ra(e){return["top","bottom"].includes(Oi(e))?"y":"x"}function qy(e){return Wy(Ra(e))}function R8(e,t,n){n===void 0&&(n=!1);const s=_c(e),i=qy(e),o=Hy(i);let l=i==="x"?s===(n?"end":"start")?"right":"left":s==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(l=Ih(l)),[l,Ih(l)]}function L8(e){const t=Ih(e);return[sv(e),t,sv(t)]}function sv(e){return e.replace(/start|end/g,t=>A8[t])}function I8(e,t,n){const s=["left","right"],i=["right","left"],o=["top","bottom"],l=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:s:t?s:i;case"left":case"right":return t?o:l;default:return[]}}function O8(e,t,n,s){const i=_c(e);let o=I8(Oi(e),n==="start",s);return i&&(o=o.map(l=>l+"-"+i),t&&(o=o.concat(o.map(sv)))),o}function Ih(e){return e.replace(/left|right|bottom|top/g,t=>M8[t])}function D8(e){return{top:0,right:0,bottom:0,left:0,...e}}function NT(e){return typeof e!="number"?D8(e):{top:e,right:e,bottom:e,left:e}}function Oh(e){const{x:t,y:n,width:s,height:i}=e;return{width:s,height:i,top:n,left:t,right:t+s,bottom:n+i,x:t,y:n}}function V_(e,t,n){let{reference:s,floating:i}=e;const o=Ra(t),l=qy(t),d=Hy(l),u=Oi(t),h=o==="y",m=s.x+s.width/2-i.width/2,p=s.y+s.height/2-i.height/2,x=s[d]/2-i[d]/2;let j;switch(u){case"top":j={x:m,y:s.y-i.height};break;case"bottom":j={x:m,y:s.y+s.height};break;case"right":j={x:s.x+s.width,y:p};break;case"left":j={x:s.x-i.width,y:p};break;default:j={x:s.x,y:s.y}}switch(_c(t)){case"start":j[l]-=x*(n&&h?-1:1);break;case"end":j[l]+=x*(n&&h?-1:1);break}return j}const F8=async(e,t,n)=>{const{placement:s="bottom",strategy:i="absolute",middleware:o=[],platform:l}=n,d=o.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(t));let h=await l.getElementRects({reference:e,floating:t,strategy:i}),{x:m,y:p}=V_(h,s,u),x=s,j={},C=0;for(let g=0;g<d.length;g++){const{name:S,fn:_}=d[g],{x:w,y:N,data:P,reset:M}=await _({x:m,y:p,initialPlacement:s,placement:x,strategy:i,middlewareData:j,rects:h,platform:l,elements:{reference:e,floating:t}});m=w??m,p=N??p,j={...j,[S]:{...j[S],...P}},M&&C<=50&&(C++,typeof M=="object"&&(M.placement&&(x=M.placement),M.rects&&(h=M.rects===!0?await l.getElementRects({reference:e,floating:t,strategy:i}):M.rects),{x:m,y:p}=V_(h,x,u)),g=-1)}return{x:m,y:p,placement:x,strategy:i,middlewareData:j}};async function Kd(e,t){var n;t===void 0&&(t={});const{x:s,y:i,platform:o,rects:l,elements:d,strategy:u}=e,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:p="floating",altBoundary:x=!1,padding:j=0}=Ii(t,e),C=NT(j),S=d[x?p==="floating"?"reference":"floating":p],_=Oh(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(d.floating)),boundary:h,rootBoundary:m,strategy:u})),w=p==="floating"?{x:s,y:i,width:l.floating.width,height:l.floating.height}:l.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d.floating)),P=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},M=Oh(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:w,offsetParent:N,strategy:u}):w);return{top:(_.top-M.top+C.top)/P.y,bottom:(M.bottom-_.bottom+C.bottom)/P.y,left:(_.left-M.left+C.left)/P.x,right:(M.right-_.right+C.right)/P.x}}const z8=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:s,placement:i,rects:o,platform:l,elements:d,middlewareData:u}=t,{element:h,padding:m=0}=Ii(e,t)||{};if(h==null)return{};const p=NT(m),x={x:n,y:s},j=qy(i),C=Hy(j),g=await l.getDimensions(h),S=j==="y",_=S?"top":"left",w=S?"bottom":"right",N=S?"clientHeight":"clientWidth",P=o.reference[C]+o.reference[j]-x[j]-o.floating[C],M=x[j]-o.reference[j],A=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let R=A?A[N]:0;(!R||!await(l.isElement==null?void 0:l.isElement(A)))&&(R=d.floating[N]||o.floating[C]);const F=P/2-M/2,Y=R/2-g[C]/2-1,z=Aa(p[_],Y),Z=Aa(p[w],Y),V=z,te=R-g[C]-Z,X=R/2-g[C]/2+F,J=rv(V,X,te),ne=!u.arrow&&_c(i)!=null&&X!==J&&o.reference[C]/2-(X<V?z:Z)-g[C]/2<0,U=ne?X<V?X-V:X-te:0;return{[j]:x[j]+U,data:{[j]:J,centerOffset:X-J-U,...ne&&{alignmentOffset:U}},reset:ne}}}),B8=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,s;const{placement:i,middlewareData:o,rects:l,initialPlacement:d,platform:u,elements:h}=t,{mainAxis:m=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:j="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:g=!0,...S}=Ii(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const _=Oi(i),w=Ra(d),N=Oi(d)===d,P=await(u.isRTL==null?void 0:u.isRTL(h.floating)),M=x||(N||!g?[Ih(d)]:L8(d)),A=C!=="none";!x&&A&&M.push(...O8(d,g,C,P));const R=[d,...M],F=await Kd(t,S),Y=[];let z=((s=o.flip)==null?void 0:s.overflows)||[];if(m&&Y.push(F[_]),p){const X=R8(i,l,P);Y.push(F[X[0]],F[X[1]])}if(z=[...z,{placement:i,overflows:Y}],!Y.every(X=>X<=0)){var Z,V;const X=(((Z=o.flip)==null?void 0:Z.index)||0)+1,J=R[X];if(J)return{data:{index:X,overflows:z},reset:{placement:J}};let ne=(V=z.filter(U=>U.overflows[0]<=0).sort((U,k)=>U.overflows[1]-k.overflows[1])[0])==null?void 0:V.placement;if(!ne)switch(j){case"bestFit":{var te;const U=(te=z.filter(k=>{if(A){const W=Ra(k.placement);return W===w||W==="y"}return!0}).map(k=>[k.placement,k.overflows.filter(W=>W>0).reduce((W,G)=>W+G,0)]).sort((k,W)=>k[1]-W[1])[0])==null?void 0:te[0];U&&(ne=U);break}case"initialPlacement":ne=d;break}if(i!==ne)return{reset:{placement:ne}}}return{}}}};function U_(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function W_(e){return E8.some(t=>e[t]>=0)}const $8=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:s="referenceHidden",...i}=Ii(e,t);switch(s){case"referenceHidden":{const o=await Kd(t,{...i,elementContext:"reference"}),l=U_(o,n.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:W_(l)}}}case"escaped":{const o=await Kd(t,{...i,altBoundary:!0}),l=U_(o,n.floating);return{data:{escapedOffsets:l,escaped:W_(l)}}}default:return{}}}}};async function V8(e,t){const{placement:n,platform:s,elements:i}=e,o=await(s.isRTL==null?void 0:s.isRTL(i.floating)),l=Oi(n),d=_c(n),u=Ra(n)==="y",h=["left","top"].includes(l)?-1:1,m=o&&u?-1:1,p=Ii(t,e);let{mainAxis:x,crossAxis:j,alignmentAxis:C}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return d&&typeof C=="number"&&(j=d==="end"?C*-1:C),u?{x:j*m,y:x*h}:{x:x*h,y:j*m}}const U8=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,s;const{x:i,y:o,placement:l,middlewareData:d}=t,u=await V8(t,e);return l===((n=d.offset)==null?void 0:n.placement)&&(s=d.arrow)!=null&&s.alignmentOffset?{}:{x:i+u.x,y:o+u.y,data:{...u,placement:l}}}}},W8=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:s,placement:i}=t,{mainAxis:o=!0,crossAxis:l=!1,limiter:d={fn:S=>{let{x:_,y:w}=S;return{x:_,y:w}}},...u}=Ii(e,t),h={x:n,y:s},m=await Kd(t,u),p=Ra(Oi(i)),x=Wy(p);let j=h[x],C=h[p];if(o){const S=x==="y"?"top":"left",_=x==="y"?"bottom":"right",w=j+m[S],N=j-m[_];j=rv(w,j,N)}if(l){const S=p==="y"?"top":"left",_=p==="y"?"bottom":"right",w=C+m[S],N=C-m[_];C=rv(w,C,N)}const g=d.fn({...t,[x]:j,[p]:C});return{...g,data:{x:g.x-n,y:g.y-s,enabled:{[x]:o,[p]:l}}}}}},H8=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:s,placement:i,rects:o,middlewareData:l}=t,{offset:d=0,mainAxis:u=!0,crossAxis:h=!0}=Ii(e,t),m={x:n,y:s},p=Ra(i),x=Wy(p);let j=m[x],C=m[p];const g=Ii(d,t),S=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(u){const N=x==="y"?"height":"width",P=o.reference[x]-o.floating[N]+S.mainAxis,M=o.reference[x]+o.reference[N]-S.mainAxis;j<P?j=P:j>M&&(j=M)}if(h){var _,w;const N=x==="y"?"width":"height",P=["top","left"].includes(Oi(i)),M=o.reference[p]-o.floating[N]+(P&&((_=l.offset)==null?void 0:_[p])||0)+(P?0:S.crossAxis),A=o.reference[p]+o.reference[N]+(P?0:((w=l.offset)==null?void 0:w[p])||0)-(P?S.crossAxis:0);C<M?C=M:C>A&&(C=A)}return{[x]:j,[p]:C}}}},q8=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,s;const{placement:i,rects:o,platform:l,elements:d}=t,{apply:u=()=>{},...h}=Ii(e,t),m=await Kd(t,h),p=Oi(i),x=_c(i),j=Ra(i)==="y",{width:C,height:g}=o.floating;let S,_;p==="top"||p==="bottom"?(S=p,_=x===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(_=p,S=x==="end"?"top":"bottom");const w=g-m.top-m.bottom,N=C-m.left-m.right,P=Aa(g-m[S],w),M=Aa(C-m[_],N),A=!t.middlewareData.shift;let R=P,F=M;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(F=N),(s=t.middlewareData.shift)!=null&&s.enabled.y&&(R=w),A&&!x){const z=Lr(m.left,0),Z=Lr(m.right,0),V=Lr(m.top,0),te=Lr(m.bottom,0);j?F=C-2*(z!==0||Z!==0?z+Z:Lr(m.left,m.right)):R=g-2*(V!==0||te!==0?V+te:Lr(m.top,m.bottom))}await u({...t,availableWidth:F,availableHeight:R});const Y=await l.getDimensions(d.floating);return C!==Y.width||g!==Y.height?{reset:{rects:!0}}:{}}}};function Rm(){return typeof window<"u"}function bc(e){return ST(e)?(e.nodeName||"").toLowerCase():"#document"}function Fr(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function di(e){var t;return(t=(ST(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function ST(e){return Rm()?e instanceof Node||e instanceof Fr(e).Node:!1}function Ms(e){return Rm()?e instanceof Element||e instanceof Fr(e).Element:!1}function ai(e){return Rm()?e instanceof HTMLElement||e instanceof Fr(e).HTMLElement:!1}function H_(e){return!Rm()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Fr(e).ShadowRoot}function Cu(e){const{overflow:t,overflowX:n,overflowY:s,display:i}=As(e);return/auto|scroll|overlay|hidden|clip/.test(t+s+n)&&!["inline","contents"].includes(i)}function Z8(e){return["table","td","th"].includes(bc(e))}function Lm(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Zy(e){const t=Ky(),n=Ms(e)?As(e):e;return["transform","translate","scale","rotate","perspective"].some(s=>n[s]?n[s]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(s=>(n.willChange||"").includes(s))||["paint","layout","strict","content"].some(s=>(n.contain||"").includes(s))}function K8(e){let t=La(e);for(;ai(t)&&!sc(t);){if(Zy(t))return t;if(Lm(t))return null;t=La(t)}return null}function Ky(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function sc(e){return["html","body","#document"].includes(bc(e))}function As(e){return Fr(e).getComputedStyle(e)}function Im(e){return Ms(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function La(e){if(bc(e)==="html")return e;const t=e.assignedSlot||e.parentNode||H_(e)&&e.host||di(e);return H_(t)?t.host:t}function CT(e){const t=La(e);return sc(t)?e.ownerDocument?e.ownerDocument.body:e.body:ai(t)&&Cu(t)?t:CT(t)}function Gd(e,t,n){var s;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=CT(e),o=i===((s=e.ownerDocument)==null?void 0:s.body),l=Fr(i);if(o){const d=iv(l);return t.concat(l,l.visualViewport||[],Cu(i)?i:[],d&&n?Gd(d):[])}return t.concat(i,Gd(i,[],n))}function iv(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function PT(e){const t=As(e);let n=parseFloat(t.width)||0,s=parseFloat(t.height)||0;const i=ai(e),o=i?e.offsetWidth:n,l=i?e.offsetHeight:s,d=Lh(n)!==o||Lh(s)!==l;return d&&(n=o,s=l),{width:n,height:s,$:d}}function Gy(e){return Ms(e)?e:e.contextElement}function Ml(e){const t=Gy(e);if(!ai(t))return si(1);const n=t.getBoundingClientRect(),{width:s,height:i,$:o}=PT(t);let l=(o?Lh(n.width):n.width)/s,d=(o?Lh(n.height):n.height)/i;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const G8=si(0);function kT(e){const t=Fr(e);return!Ky()||!t.visualViewport?G8:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function Y8(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Fr(e)?!1:t}function Mo(e,t,n,s){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),o=Gy(e);let l=si(1);t&&(s?Ms(s)&&(l=Ml(s)):l=Ml(e));const d=Y8(o,n,s)?kT(o):si(0);let u=(i.left+d.x)/l.x,h=(i.top+d.y)/l.y,m=i.width/l.x,p=i.height/l.y;if(o){const x=Fr(o),j=s&&Ms(s)?Fr(s):s;let C=x,g=iv(C);for(;g&&s&&j!==C;){const S=Ml(g),_=g.getBoundingClientRect(),w=As(g),N=_.left+(g.clientLeft+parseFloat(w.paddingLeft))*S.x,P=_.top+(g.clientTop+parseFloat(w.paddingTop))*S.y;u*=S.x,h*=S.y,m*=S.x,p*=S.y,u+=N,h+=P,C=Fr(g),g=iv(C)}}return Oh({width:m,height:p,x:u,y:h})}function Yy(e,t){const n=Im(e).scrollLeft;return t?t.left+n:Mo(di(e)).left+n}function TT(e,t,n){n===void 0&&(n=!1);const s=e.getBoundingClientRect(),i=s.left+t.scrollLeft-(n?0:Yy(e,s)),o=s.top+t.scrollTop;return{x:i,y:o}}function Q8(e){let{elements:t,rect:n,offsetParent:s,strategy:i}=e;const o=i==="fixed",l=di(s),d=t?Lm(t.floating):!1;if(s===l||d&&o)return n;let u={scrollLeft:0,scrollTop:0},h=si(1);const m=si(0),p=ai(s);if((p||!p&&!o)&&((bc(s)!=="body"||Cu(l))&&(u=Im(s)),ai(s))){const j=Mo(s);h=Ml(s),m.x=j.x+s.clientLeft,m.y=j.y+s.clientTop}const x=l&&!p&&!o?TT(l,u,!0):si(0);return{width:n.width*h.x,height:n.height*h.y,x:n.x*h.x-u.scrollLeft*h.x+m.x+x.x,y:n.y*h.y-u.scrollTop*h.y+m.y+x.y}}function X8(e){return Array.from(e.getClientRects())}function J8(e){const t=di(e),n=Im(e),s=e.ownerDocument.body,i=Lr(t.scrollWidth,t.clientWidth,s.scrollWidth,s.clientWidth),o=Lr(t.scrollHeight,t.clientHeight,s.scrollHeight,s.clientHeight);let l=-n.scrollLeft+Yy(e);const d=-n.scrollTop;return As(s).direction==="rtl"&&(l+=Lr(t.clientWidth,s.clientWidth)-i),{width:i,height:o,x:l,y:d}}function e6(e,t){const n=Fr(e),s=di(e),i=n.visualViewport;let o=s.clientWidth,l=s.clientHeight,d=0,u=0;if(i){o=i.width,l=i.height;const h=Ky();(!h||h&&t==="fixed")&&(d=i.offsetLeft,u=i.offsetTop)}return{width:o,height:l,x:d,y:u}}function t6(e,t){const n=Mo(e,!0,t==="fixed"),s=n.top+e.clientTop,i=n.left+e.clientLeft,o=ai(e)?Ml(e):si(1),l=e.clientWidth*o.x,d=e.clientHeight*o.y,u=i*o.x,h=s*o.y;return{width:l,height:d,x:u,y:h}}function q_(e,t,n){let s;if(t==="viewport")s=e6(e,n);else if(t==="document")s=J8(di(e));else if(Ms(t))s=t6(t,n);else{const i=kT(e);s={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return Oh(s)}function ET(e,t){const n=La(e);return n===t||!Ms(n)||sc(n)?!1:As(n).position==="fixed"||ET(n,t)}function n6(e,t){const n=t.get(e);if(n)return n;let s=Gd(e,[],!1).filter(d=>Ms(d)&&bc(d)!=="body"),i=null;const o=As(e).position==="fixed";let l=o?La(e):e;for(;Ms(l)&&!sc(l);){const d=As(l),u=Zy(l);!u&&d.position==="fixed"&&(i=null),(o?!u&&!i:!u&&d.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Cu(l)&&!u&&ET(e,l))?s=s.filter(m=>m!==l):i=d,l=La(l)}return t.set(e,s),s}function r6(e){let{element:t,boundary:n,rootBoundary:s,strategy:i}=e;const l=[...n==="clippingAncestors"?Lm(t)?[]:n6(t,this._c):[].concat(n),s],d=l[0],u=l.reduce((h,m)=>{const p=q_(t,m,i);return h.top=Lr(p.top,h.top),h.right=Aa(p.right,h.right),h.bottom=Aa(p.bottom,h.bottom),h.left=Lr(p.left,h.left),h},q_(t,d,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function s6(e){const{width:t,height:n}=PT(e);return{width:t,height:n}}function i6(e,t,n){const s=ai(t),i=di(t),o=n==="fixed",l=Mo(e,!0,o,t);let d={scrollLeft:0,scrollTop:0};const u=si(0);if(s||!s&&!o)if((bc(t)!=="body"||Cu(i))&&(d=Im(t)),s){const x=Mo(t,!0,o,t);u.x=x.x+t.clientLeft,u.y=x.y+t.clientTop}else i&&(u.x=Yy(i));const h=i&&!s&&!o?TT(i,d):si(0),m=l.left+d.scrollLeft-u.x-h.x,p=l.top+d.scrollTop-u.y-h.y;return{x:m,y:p,width:l.width,height:l.height}}function jg(e){return As(e).position==="static"}function Z_(e,t){if(!ai(e)||As(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return di(e)===n&&(n=n.ownerDocument.body),n}function MT(e,t){const n=Fr(e);if(Lm(e))return n;if(!ai(e)){let i=La(e);for(;i&&!sc(i);){if(Ms(i)&&!jg(i))return i;i=La(i)}return n}let s=Z_(e,t);for(;s&&Z8(s)&&jg(s);)s=Z_(s,t);return s&&sc(s)&&jg(s)&&!Zy(s)?n:s||K8(e)||n}const a6=async function(e){const t=this.getOffsetParent||MT,n=this.getDimensions,s=await n(e.floating);return{reference:i6(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:s.width,height:s.height}}};function o6(e){return As(e).direction==="rtl"}const l6={convertOffsetParentRelativeRectToViewportRelativeRect:Q8,getDocumentElement:di,getClippingRect:r6,getOffsetParent:MT,getElementRects:a6,getClientRects:X8,getDimensions:s6,getScale:Ml,isElement:Ms,isRTL:o6};function AT(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function c6(e,t){let n=null,s;const i=di(e);function o(){var d;clearTimeout(s),(d=n)==null||d.disconnect(),n=null}function l(d,u){d===void 0&&(d=!1),u===void 0&&(u=1),o();const h=e.getBoundingClientRect(),{left:m,top:p,width:x,height:j}=h;if(d||t(),!x||!j)return;const C=kf(p),g=kf(i.clientWidth-(m+x)),S=kf(i.clientHeight-(p+j)),_=kf(m),N={rootMargin:-C+"px "+-g+"px "+-S+"px "+-_+"px",threshold:Lr(0,Aa(1,u))||1};let P=!0;function M(A){const R=A[0].intersectionRatio;if(R!==u){if(!P)return l();R?l(!1,R):s=setTimeout(()=>{l(!1,1e-7)},1e3)}R===1&&!AT(h,e.getBoundingClientRect())&&l(),P=!1}try{n=new IntersectionObserver(M,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(M,N)}n.observe(e)}return l(!0),o}function d6(e,t,n,s){s===void 0&&(s={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:u=!1}=s,h=Gy(e),m=i||o?[...h?Gd(h):[],...Gd(t)]:[];m.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),o&&_.addEventListener("resize",n)});const p=h&&d?c6(h,n):null;let x=-1,j=null;l&&(j=new ResizeObserver(_=>{let[w]=_;w&&w.target===h&&j&&(j.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var N;(N=j)==null||N.observe(t)})),n()}),h&&!u&&j.observe(h),j.observe(t));let C,g=u?Mo(e):null;u&&S();function S(){const _=Mo(e);g&&!AT(g,_)&&n(),g=_,C=requestAnimationFrame(S)}return n(),()=>{var _;m.forEach(w=>{i&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),p==null||p(),(_=j)==null||_.disconnect(),j=null,u&&cancelAnimationFrame(C)}}const u6=U8,f6=W8,h6=B8,m6=q8,p6=$8,K_=z8,g6=H8,x6=(e,t,n)=>{const s=new Map,i={platform:l6,...n},o={...i.platform,_c:s};return F8(e,t,{...i,platform:o})};var Qf=typeof document<"u"?v.useLayoutEffect:v.useEffect;function Dh(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,s,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(s=n;s--!==0;)if(!Dh(e[s],t[s]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(s=n;s--!==0;)if(!{}.hasOwnProperty.call(t,i[s]))return!1;for(s=n;s--!==0;){const o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!Dh(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function RT(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function G_(e,t){const n=RT(e);return Math.round(t*n)/n}function _g(e){const t=v.useRef(e);return Qf(()=>{t.current=e}),t}function v6(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:s=[],platform:i,elements:{reference:o,floating:l}={},transform:d=!0,whileElementsMounted:u,open:h}=e,[m,p]=v.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,j]=v.useState(s);Dh(x,s)||j(s);const[C,g]=v.useState(null),[S,_]=v.useState(null),w=v.useCallback(k=>{k!==A.current&&(A.current=k,g(k))},[]),N=v.useCallback(k=>{k!==R.current&&(R.current=k,_(k))},[]),P=o||C,M=l||S,A=v.useRef(null),R=v.useRef(null),F=v.useRef(m),Y=u!=null,z=_g(u),Z=_g(i),V=_g(h),te=v.useCallback(()=>{if(!A.current||!R.current)return;const k={placement:t,strategy:n,middleware:x};Z.current&&(k.platform=Z.current),x6(A.current,R.current,k).then(W=>{const G={...W,isPositioned:V.current!==!1};X.current&&!Dh(F.current,G)&&(F.current=G,Va.flushSync(()=>{p(G)}))})},[x,t,n,Z,V]);Qf(()=>{h===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,p(k=>({...k,isPositioned:!1})))},[h]);const X=v.useRef(!1);Qf(()=>(X.current=!0,()=>{X.current=!1}),[]),Qf(()=>{if(P&&(A.current=P),M&&(R.current=M),P&&M){if(z.current)return z.current(P,M,te);te()}},[P,M,te,z,Y]);const J=v.useMemo(()=>({reference:A,floating:R,setReference:w,setFloating:N}),[w,N]),ne=v.useMemo(()=>({reference:P,floating:M}),[P,M]),U=v.useMemo(()=>{const k={position:n,left:0,top:0};if(!ne.floating)return k;const W=G_(ne.floating,m.x),G=G_(ne.floating,m.y);return d?{...k,transform:"translate("+W+"px, "+G+"px)",...RT(ne.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:W,top:G}},[n,d,ne.floating,m.x,m.y]);return v.useMemo(()=>({...m,update:te,refs:J,elements:ne,floatingStyles:U}),[m,te,J,ne,U])}const y6=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:s,padding:i}=typeof e=="function"?e(n):e;return s&&t(s)?s.current!=null?K_({element:s.current,padding:i}).fn(n):{}:s?K_({element:s,padding:i}).fn(n):{}}}},w6=(e,t)=>({...u6(e),options:[e,t]}),j6=(e,t)=>({...f6(e),options:[e,t]}),_6=(e,t)=>({...g6(e),options:[e,t]}),b6=(e,t)=>({...h6(e),options:[e,t]}),N6=(e,t)=>({...m6(e),options:[e,t]}),S6=(e,t)=>({...p6(e),options:[e,t]}),C6=(e,t)=>({...y6(e),options:[e,t]});var P6="Arrow",LT=v.forwardRef((e,t)=>{const{children:n,width:s=10,height:i=5,...o}=e;return r.jsx(Re.svg,{...o,ref:t,width:s,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:r.jsx("polygon",{points:"0,0 30,0 15,10"})})});LT.displayName=P6;var k6=LT;function Om(e){const[t,n]=v.useState(void 0);return hn(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const s=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const o=i[0];let l,d;if("borderBoxSize"in o){const u=o.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,d=h.blockSize}else l=e.offsetWidth,d=e.offsetHeight;n({width:l,height:d})});return s.observe(e,{box:"border-box"}),()=>s.unobserve(e)}else n(void 0)},[e]),t}var Qy="Popper",[IT,Nc]=nr(Qy),[T6,OT]=IT(Qy),DT=e=>{const{__scopePopper:t,children:n}=e,[s,i]=v.useState(null);return r.jsx(T6,{scope:t,anchor:s,onAnchorChange:i,children:n})};DT.displayName=Qy;var FT="PopperAnchor",zT=v.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:s,...i}=e,o=OT(FT,n),l=v.useRef(null),d=rt(t,l);return v.useEffect(()=>{o.onAnchorChange((s==null?void 0:s.current)||l.current)}),s?null:r.jsx(Re.div,{...i,ref:d})});zT.displayName=FT;var Xy="PopperContent",[E6,M6]=IT(Xy),BT=v.forwardRef((e,t)=>{var E,B,me,$e,Ze,lt;const{__scopePopper:n,side:s="bottom",sideOffset:i=0,align:o="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:j="optimized",onPlaced:C,...g}=e,S=OT(Xy,n),[_,w]=v.useState(null),N=rt(t,xn=>w(xn)),[P,M]=v.useState(null),A=Om(P),R=(A==null?void 0:A.width)??0,F=(A==null?void 0:A.height)??0,Y=s+(o!=="center"?"-"+o:""),z=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},Z=Array.isArray(h)?h:[h],V=Z.length>0,te={padding:z,boundary:Z.filter(R6),altBoundary:V},{refs:X,floatingStyles:J,placement:ne,isPositioned:U,middlewareData:k}=v6({strategy:"fixed",placement:Y,whileElementsMounted:(...xn)=>d6(...xn,{animationFrame:j==="always"}),elements:{reference:S.anchor},middleware:[w6({mainAxis:i+F,alignmentAxis:l}),u&&j6({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?_6():void 0,...te}),u&&b6({...te}),N6({...te,apply:({elements:xn,rects:rr,availableWidth:Fs,availableHeight:us})=>{const{width:Kr,height:Vi}=rr.reference,Ui=xn.floating.style;Ui.setProperty("--radix-popper-available-width",`${Fs}px`),Ui.setProperty("--radix-popper-available-height",`${us}px`),Ui.setProperty("--radix-popper-anchor-width",`${Kr}px`),Ui.setProperty("--radix-popper-anchor-height",`${Vi}px`)}}),P&&C6({element:P,padding:d}),L6({arrowWidth:R,arrowHeight:F}),x&&S6({strategy:"referenceHidden",...te})]}),[W,G]=UT(ne),le=Zn(C);hn(()=>{U&&(le==null||le())},[U,le]);const Me=(E=k.arrow)==null?void 0:E.x,qe=(B=k.arrow)==null?void 0:B.y,Pe=((me=k.arrow)==null?void 0:me.centerOffset)!==0,[Oe,ke]=v.useState();return hn(()=>{_&&ke(window.getComputedStyle(_).zIndex)},[_]),r.jsx("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...J,transform:U?J.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Oe,"--radix-popper-transform-origin":[($e=k.transformOrigin)==null?void 0:$e.x,(Ze=k.transformOrigin)==null?void 0:Ze.y].join(" "),...((lt=k.hide)==null?void 0:lt.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:r.jsx(E6,{scope:n,placedSide:W,onArrowChange:M,arrowX:Me,arrowY:qe,shouldHideArrow:Pe,children:r.jsx(Re.div,{"data-side":W,"data-align":G,...g,ref:N,style:{...g.style,animation:U?void 0:"none"}})})})});BT.displayName=Xy;var $T="PopperArrow",A6={top:"bottom",right:"left",bottom:"top",left:"right"},VT=v.forwardRef(function(t,n){const{__scopePopper:s,...i}=t,o=M6($T,s),l=A6[o.placedSide];return r.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:r.jsx(k6,{...i,ref:n,style:{...i.style,display:"block"}})})});VT.displayName=$T;function R6(e){return e!==null}var L6=e=>({name:"transformOrigin",options:e,fn(t){var S,_,w;const{placement:n,rects:s,middlewareData:i}=t,l=((S=i.arrow)==null?void 0:S.centerOffset)!==0,d=l?0:e.arrowWidth,u=l?0:e.arrowHeight,[h,m]=UT(n),p={start:"0%",center:"50%",end:"100%"}[m],x=(((_=i.arrow)==null?void 0:_.x)??0)+d/2,j=(((w=i.arrow)==null?void 0:w.y)??0)+u/2;let C="",g="";return h==="bottom"?(C=l?p:`${x}px`,g=`${-u}px`):h==="top"?(C=l?p:`${x}px`,g=`${s.floating.height+u}px`):h==="right"?(C=`${-u}px`,g=l?p:`${j}px`):h==="left"&&(C=`${s.floating.width+u}px`,g=l?p:`${j}px`),{data:{x:C,y:g}}}});function UT(e){const[t,n="center"]=e.split("-");return[t,n]}var WT=DT,Jy=zT,ew=BT,tw=VT,[Dm,BG]=nr("Tooltip",[Nc]),nw=Nc(),HT="TooltipProvider",I6=700,Y_="tooltip.open",[O6,qT]=Dm(HT),ZT=e=>{const{__scopeTooltip:t,delayDuration:n=I6,skipDelayDuration:s=300,disableHoverableContent:i=!1,children:o}=e,l=v.useRef(!0),d=v.useRef(!1),u=v.useRef(0);return v.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),r.jsx(O6,{scope:t,isOpenDelayedRef:l,delayDuration:n,onOpen:v.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:v.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,s)},[s]),isPointerInTransitRef:d,onPointerInTransitChange:v.useCallback(h=>{d.current=h},[]),disableHoverableContent:i,children:o})};ZT.displayName=HT;var KT="Tooltip",[$G,Fm]=Dm(KT),av="TooltipTrigger",D6=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=Fm(av,n),o=qT(av,n),l=nw(n),d=v.useRef(null),u=rt(t,d,i.onTriggerChange),h=v.useRef(!1),m=v.useRef(!1),p=v.useCallback(()=>h.current=!1,[]);return v.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),r.jsx(Jy,{asChild:!0,...l,children:r.jsx(Re.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...s,ref:u,onPointerMove:fe(e.onPointerMove,x=>{x.pointerType!=="touch"&&!m.current&&!o.isPointerInTransitRef.current&&(i.onTriggerEnter(),m.current=!0)}),onPointerLeave:fe(e.onPointerLeave,()=>{i.onTriggerLeave(),m.current=!1}),onPointerDown:fe(e.onPointerDown,()=>{i.open&&i.onClose(),h.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:fe(e.onFocus,()=>{h.current||i.onOpen()}),onBlur:fe(e.onBlur,i.onClose),onClick:fe(e.onClick,i.onClose)})})});D6.displayName=av;var F6="TooltipPortal",[VG,z6]=Dm(F6,{forceMount:void 0}),ic="TooltipContent",GT=v.forwardRef((e,t)=>{const n=z6(ic,e.__scopeTooltip),{forceMount:s=n.forceMount,side:i="top",...o}=e,l=Fm(ic,e.__scopeTooltip);return r.jsx(Zr,{present:s||l.open,children:l.disableHoverableContent?r.jsx(YT,{side:i,...o,ref:t}):r.jsx(B6,{side:i,...o,ref:t})})}),B6=v.forwardRef((e,t)=>{const n=Fm(ic,e.__scopeTooltip),s=qT(ic,e.__scopeTooltip),i=v.useRef(null),o=rt(t,i),[l,d]=v.useState(null),{trigger:u,onClose:h}=n,m=i.current,{onPointerInTransitChange:p}=s,x=v.useCallback(()=>{d(null),p(!1)},[p]),j=v.useCallback((C,g)=>{const S=C.currentTarget,_={x:C.clientX,y:C.clientY},w=H6(_,S.getBoundingClientRect()),N=q6(_,w),P=Z6(g.getBoundingClientRect()),M=G6([...N,...P]);d(M),p(!0)},[p]);return v.useEffect(()=>()=>x(),[x]),v.useEffect(()=>{if(u&&m){const C=S=>j(S,m),g=S=>j(S,u);return u.addEventListener("pointerleave",C),m.addEventListener("pointerleave",g),()=>{u.removeEventListener("pointerleave",C),m.removeEventListener("pointerleave",g)}}},[u,m,j,x]),v.useEffect(()=>{if(l){const C=g=>{const S=g.target,_={x:g.clientX,y:g.clientY},w=(u==null?void 0:u.contains(S))||(m==null?void 0:m.contains(S)),N=!K6(_,l);w?x():N&&(x(),h())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[u,m,l,h,x]),r.jsx(YT,{...e,ref:o})}),[$6,V6]=Dm(KT,{isInside:!1}),U6=$5("TooltipContent"),YT=v.forwardRef((e,t)=>{const{__scopeTooltip:n,children:s,"aria-label":i,onEscapeKeyDown:o,onPointerDownOutside:l,...d}=e,u=Fm(ic,n),h=nw(n),{onClose:m}=u;return v.useEffect(()=>(document.addEventListener(Y_,m),()=>document.removeEventListener(Y_,m)),[m]),v.useEffect(()=>{if(u.trigger){const p=x=>{const j=x.target;j!=null&&j.contains(u.trigger)&&m()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[u.trigger,m]),r.jsx(xc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:p=>p.preventDefault(),onDismiss:m,children:r.jsxs(ew,{"data-state":u.stateAttribute,...h,...d,ref:t,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[r.jsx(U6,{children:s}),r.jsx($6,{scope:n,isInside:!0,children:r.jsx(oz,{id:u.contentId,role:"tooltip",children:i||s})})]})})});GT.displayName=ic;var QT="TooltipArrow",W6=v.forwardRef((e,t)=>{const{__scopeTooltip:n,...s}=e,i=nw(n);return V6(QT,n).isInside?null:r.jsx(tw,{...i,...s,ref:t})});W6.displayName=QT;function H6(e,t){const n=Math.abs(t.top-e.y),s=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,s,i,o)){case o:return"left";case i:return"right";case n:return"top";case s:return"bottom";default:throw new Error("unreachable")}}function q6(e,t,n=5){const s=[];switch(t){case"top":s.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":s.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":s.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":s.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return s}function Z6(e){const{top:t,right:n,bottom:s,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:s},{x:i,y:s}]}function K6(e,t){const{x:n,y:s}=e;let i=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const d=t[o].x,u=t[o].y,h=t[l].x,m=t[l].y;u>s!=m>s&&n<(h-d)*(s-u)/(m-u)+d&&(i=!i)}return i}function G6(e){const t=e.slice();return t.sort((n,s)=>n.x<s.x?-1:n.x>s.x?1:n.y<s.y?-1:n.y>s.y?1:0),Y6(t)}function Y6(e){if(e.length<=1)return e.slice();const t=[];for(let s=0;s<e.length;s++){const i=e[s];for(;t.length>=2;){const o=t[t.length-1],l=t[t.length-2];if((o.x-l.x)*(i.y-l.y)>=(o.y-l.y)*(i.x-l.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let s=e.length-1;s>=0;s--){const i=e[s];for(;n.length>=2;){const o=n[n.length-1],l=n[n.length-2];if((o.x-l.x)*(i.y-l.y)>=(o.y-l.y)*(i.x-l.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Q6=ZT,XT=GT;const X6=Q6,J6=v.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(XT,{ref:s,sideOffset:t,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));J6.displayName=XT.displayName;const JT=v.createContext(null);function eB({children:e}){const{toast:t}=mn(),{data:n,error:s,isLoading:i}=Je({queryKey:["/api/user"],queryFn:T2({on401:"returnNull"})}),o=ut({mutationFn:async u=>await(await Xe("POST","/api/login",u)).json(),onSuccess:u=>{wt.setQueryData(["/api/user"],u),t({title:"Welcome back!",description:"You have been successfully logged in."})},onError:u=>{t({title:"Login failed",description:u.message,variant:"destructive"})}}),l=ut({mutationFn:async u=>await(await Xe("POST","/api/register",u)).json(),onSuccess:u=>{wt.setQueryData(["/api/user"],u),t({title:"Welcome to OmahaShareHub!",description:"Your account has been created successfully."})},onError:u=>{t({title:"Registration failed",description:u.message,variant:"destructive"})}}),d=ut({mutationFn:async()=>{await Xe("POST","/api/logout")},onSuccess:()=>{wt.setQueryData(["/api/user"],null),t({title:"Logged out",description:"You have been successfully logged out."})},onError:u=>{t({title:"Logout failed",description:u.message,variant:"destructive"})}});return r.jsx(JT.Provider,{value:{user:n??null,isLoading:i,error:s,loginMutation:o,logoutMutation:d,registerMutation:l},children:e})}function Sn(){const e=v.useContext(JT);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e}function Er({path:e,component:t}){const{user:n,isLoading:s}=Sn();return s?r.jsx(Pn,{path:e,children:r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx(oT,{className:"h-8 w-8 animate-spin text-border"})})}):n?r.jsx(Pn,{path:e,component:t}):r.jsx(Pn,{path:e,children:r.jsx(h2,{to:"/auth"})})}var bg="focusScope.autoFocusOnMount",Ng="focusScope.autoFocusOnUnmount",Q_={bubbles:!1,cancelable:!0},tB="FocusScope",zm=v.forwardRef((e,t)=>{const{loop:n=!1,trapped:s=!1,onMountAutoFocus:i,onUnmountAutoFocus:o,...l}=e,[d,u]=v.useState(null),h=Zn(i),m=Zn(o),p=v.useRef(null),x=rt(t,g=>u(g)),j=v.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;v.useEffect(()=>{if(s){let g=function(N){if(j.paused||!d)return;const P=N.target;d.contains(P)?p.current=P:Qi(p.current,{select:!0})},S=function(N){if(j.paused||!d)return;const P=N.relatedTarget;P!==null&&(d.contains(P)||Qi(p.current,{select:!0}))},_=function(N){if(document.activeElement===document.body)for(const M of N)M.removedNodes.length>0&&Qi(d)};document.addEventListener("focusin",g),document.addEventListener("focusout",S);const w=new MutationObserver(_);return d&&w.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",S),w.disconnect()}}},[s,d,j.paused]),v.useEffect(()=>{if(d){J_.add(j);const g=document.activeElement;if(!d.contains(g)){const _=new CustomEvent(bg,Q_);d.addEventListener(bg,h),d.dispatchEvent(_),_.defaultPrevented||(nB(oB(eE(d)),{select:!0}),document.activeElement===g&&Qi(d))}return()=>{d.removeEventListener(bg,h),setTimeout(()=>{const _=new CustomEvent(Ng,Q_);d.addEventListener(Ng,m),d.dispatchEvent(_),_.defaultPrevented||Qi(g??document.body,{select:!0}),d.removeEventListener(Ng,m),J_.remove(j)},0)}}},[d,h,m,j]);const C=v.useCallback(g=>{if(!n&&!s||j.paused)return;const S=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,_=document.activeElement;if(S&&_){const w=g.currentTarget,[N,P]=rB(w);N&&P?!g.shiftKey&&_===P?(g.preventDefault(),n&&Qi(N,{select:!0})):g.shiftKey&&_===N&&(g.preventDefault(),n&&Qi(P,{select:!0})):_===w&&g.preventDefault()}},[n,s,j.paused]);return r.jsx(Re.div,{tabIndex:-1,...l,ref:x,onKeyDown:C})});zm.displayName=tB;function nB(e,{select:t=!1}={}){const n=document.activeElement;for(const s of e)if(Qi(s,{select:t}),document.activeElement!==n)return}function rB(e){const t=eE(e),n=X_(t,e),s=X_(t.reverse(),e);return[n,s]}function eE(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:s=>{const i=s.tagName==="INPUT"&&s.type==="hidden";return s.disabled||s.hidden||i?NodeFilter.FILTER_SKIP:s.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function X_(e,t){for(const n of e)if(!sB(n,{upTo:t}))return n}function sB(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function iB(e){return e instanceof HTMLInputElement&&"select"in e}function Qi(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&iB(e)&&t&&e.select()}}var J_=aB();function aB(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=eb(e,t),e.unshift(t)},remove(t){var n;e=eb(e,t),(n=e[0])==null||n.resume()}}}function eb(e,t){const n=[...e],s=n.indexOf(t);return s!==-1&&n.splice(s,1),n}function oB(e){return e.filter(t=>t.tagName!=="A")}var Sg=0;function rw(){v.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??tb()),document.body.insertAdjacentElement("beforeend",e[1]??tb()),Sg++,()=>{Sg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Sg--}},[])}function tb(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var Qs=function(){return Qs=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Qs.apply(this,arguments)};function tE(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function lB(e,t,n){if(n||arguments.length===2)for(var s=0,i=t.length,o;s<i;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}var Xf="right-scroll-bar-position",Jf="width-before-scroll-bar",cB="with-scroll-bars-hidden",dB="--removed-body-scroll-bar-size";function Cg(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function uB(e,t){var n=v.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(s){var i=n.value;i!==s&&(n.value=s,n.callback(s,i))}}}})[0];return n.callback=t,n.facade}var fB=typeof window<"u"?v.useLayoutEffect:v.useEffect,nb=new WeakMap;function hB(e,t){var n=uB(null,function(s){return e.forEach(function(i){return Cg(i,s)})});return fB(function(){var s=nb.get(n);if(s){var i=new Set(s),o=new Set(e),l=n.current;i.forEach(function(d){o.has(d)||Cg(d,null)}),o.forEach(function(d){i.has(d)||Cg(d,l)})}nb.set(n,e)},[e]),n}function mB(e){return e}function pB(e,t){t===void 0&&(t=mB);var n=[],s=!1,i={read:function(){if(s)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var l=t(o,s);return n.push(l),function(){n=n.filter(function(d){return d!==l})}},assignSyncMedium:function(o){for(s=!0;n.length;){var l=n;n=[],l.forEach(o)}n={push:function(d){return o(d)},filter:function(){return n}}},assignMedium:function(o){s=!0;var l=[];if(n.length){var d=n;n=[],d.forEach(o),l=n}var u=function(){var m=l;l=[],m.forEach(o)},h=function(){return Promise.resolve().then(u)};h(),n={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),n}}}};return i}function gB(e){e===void 0&&(e={});var t=pB(null);return t.options=Qs({async:!0,ssr:!1},e),t}var nE=function(e){var t=e.sideCar,n=tE(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var s=t.read();if(!s)throw new Error("Sidecar medium not found");return v.createElement(s,Qs({},n))};nE.isSideCarExport=!0;function xB(e,t){return e.useMedium(t),nE}var rE=gB(),Pg=function(){},Bm=v.forwardRef(function(e,t){var n=v.useRef(null),s=v.useState({onScrollCapture:Pg,onWheelCapture:Pg,onTouchMoveCapture:Pg}),i=s[0],o=s[1],l=e.forwardProps,d=e.children,u=e.className,h=e.removeScrollBar,m=e.enabled,p=e.shards,x=e.sideCar,j=e.noIsolation,C=e.inert,g=e.allowPinchZoom,S=e.as,_=S===void 0?"div":S,w=e.gapMode,N=tE(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=x,M=hB([n,t]),A=Qs(Qs({},N),i);return v.createElement(v.Fragment,null,m&&v.createElement(P,{sideCar:rE,removeScrollBar:h,shards:p,noIsolation:j,inert:C,setCallbacks:o,allowPinchZoom:!!g,lockRef:n,gapMode:w}),l?v.cloneElement(v.Children.only(d),Qs(Qs({},A),{ref:M})):v.createElement(_,Qs({},A,{className:u,ref:M}),d))});Bm.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Bm.classNames={fullWidth:Jf,zeroRight:Xf};var vB=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function yB(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=vB();return t&&e.setAttribute("nonce",t),e}function wB(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function jB(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _B=function(){var e=0,t=null;return{add:function(n){e==0&&(t=yB())&&(wB(t,n),jB(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},bB=function(){var e=_B();return function(t,n){v.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},sE=function(){var e=bB(),t=function(n){var s=n.styles,i=n.dynamic;return e(s,i),null};return t},NB={left:0,top:0,right:0,gap:0},kg=function(e){return parseInt(e||"",10)||0},SB=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],s=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[kg(n),kg(s),kg(i)]},CB=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return NB;var t=SB(e),n=document.documentElement.clientWidth,s=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,s-n+t[2]-t[0])}},PB=sE(),Al="data-scroll-locked",kB=function(e,t,n,s){var i=e.left,o=e.top,l=e.right,d=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(cB,` {
   overflow: hidden `).concat(s,`;
   padding-right: `).concat(d,"px ").concat(s,`;
  }
  body[`).concat(Al,`] {
    overflow: hidden `).concat(s,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(s,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(s,`;
    `),n==="padding"&&"padding-right: ".concat(d,"px ").concat(s,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Xf,` {
    right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Jf,` {
    margin-right: `).concat(d,"px ").concat(s,`;
  }
  
  .`).concat(Xf," .").concat(Xf,` {
    right: 0 `).concat(s,`;
  }
  
  .`).concat(Jf," .").concat(Jf,` {
    margin-right: 0 `).concat(s,`;
  }
  
  body[`).concat(Al,`] {
    `).concat(dB,": ").concat(d,`px;
  }
`)},rb=function(){var e=parseInt(document.body.getAttribute(Al)||"0",10);return isFinite(e)?e:0},TB=function(){v.useEffect(function(){return document.body.setAttribute(Al,(rb()+1).toString()),function(){var e=rb()-1;e<=0?document.body.removeAttribute(Al):document.body.setAttribute(Al,e.toString())}},[])},EB=function(e){var t=e.noRelative,n=e.noImportant,s=e.gapMode,i=s===void 0?"margin":s;TB();var o=v.useMemo(function(){return CB(i)},[i]);return v.createElement(PB,{styles:kB(o,!t,i,n?"":"!important")})},ov=!1;if(typeof window<"u")try{var Tf=Object.defineProperty({},"passive",{get:function(){return ov=!0,!0}});window.addEventListener("test",Tf,Tf),window.removeEventListener("test",Tf,Tf)}catch{ov=!1}var tl=ov?{passive:!1}:!1,MB=function(e){return e.tagName==="TEXTAREA"},iE=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!MB(e)&&n[t]==="visible")},AB=function(e){return iE(e,"overflowY")},RB=function(e){return iE(e,"overflowX")},sb=function(e,t){var n=t.ownerDocument,s=t;do{typeof ShadowRoot<"u"&&s instanceof ShadowRoot&&(s=s.host);var i=aE(e,s);if(i){var o=oE(e,s),l=o[1],d=o[2];if(l>d)return!0}s=s.parentNode}while(s&&s!==n.body);return!1},LB=function(e){var t=e.scrollTop,n=e.scrollHeight,s=e.clientHeight;return[t,n,s]},IB=function(e){var t=e.scrollLeft,n=e.scrollWidth,s=e.clientWidth;return[t,n,s]},aE=function(e,t){return e==="v"?AB(t):RB(t)},oE=function(e,t){return e==="v"?LB(t):IB(t)},OB=function(e,t){return e==="h"&&t==="rtl"?-1:1},DB=function(e,t,n,s,i){var o=OB(e,window.getComputedStyle(t).direction),l=o*s,d=n.target,u=t.contains(d),h=!1,m=l>0,p=0,x=0;do{var j=oE(e,d),C=j[0],g=j[1],S=j[2],_=g-S-o*C;(C||_)&&aE(e,d)&&(p+=_,x+=C),d instanceof ShadowRoot?d=d.host:d=d.parentNode}while(!u&&d!==document.body||u&&(t.contains(d)||t===d));return(m&&(Math.abs(p)<1||!i)||!m&&(Math.abs(x)<1||!i))&&(h=!0),h},Ef=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},ib=function(e){return[e.deltaX,e.deltaY]},ab=function(e){return e&&"current"in e?e.current:e},FB=function(e,t){return e[0]===t[0]&&e[1]===t[1]},zB=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},BB=0,nl=[];function $B(e){var t=v.useRef([]),n=v.useRef([0,0]),s=v.useRef(),i=v.useState(BB++)[0],o=v.useState(sE)[0],l=v.useRef(e);v.useEffect(function(){l.current=e},[e]),v.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var g=lB([e.lockRef.current],(e.shards||[]).map(ab),!0).filter(Boolean);return g.forEach(function(S){return S.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var d=v.useCallback(function(g,S){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!l.current.allowPinchZoom;var _=Ef(g),w=n.current,N="deltaX"in g?g.deltaX:w[0]-_[0],P="deltaY"in g?g.deltaY:w[1]-_[1],M,A=g.target,R=Math.abs(N)>Math.abs(P)?"h":"v";if("touches"in g&&R==="h"&&A.type==="range")return!1;var F=sb(R,A);if(!F)return!0;if(F?M=R:(M=R==="v"?"h":"v",F=sb(R,A)),!F)return!1;if(!s.current&&"changedTouches"in g&&(N||P)&&(s.current=M),!M)return!0;var Y=s.current||M;return DB(Y,S,g,Y==="h"?N:P,!0)},[]),u=v.useCallback(function(g){var S=g;if(!(!nl.length||nl[nl.length-1]!==o)){var _="deltaY"in S?ib(S):Ef(S),w=t.current.filter(function(M){return M.name===S.type&&(M.target===S.target||S.target===M.shadowParent)&&FB(M.delta,_)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var N=(l.current.shards||[]).map(ab).filter(Boolean).filter(function(M){return M.contains(S.target)}),P=N.length>0?d(S,N[0]):!l.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),h=v.useCallback(function(g,S,_,w){var N={name:g,delta:S,target:_,should:w,shadowParent:VB(_)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(P){return P!==N})},1)},[]),m=v.useCallback(function(g){n.current=Ef(g),s.current=void 0},[]),p=v.useCallback(function(g){h(g.type,ib(g),g.target,d(g,e.lockRef.current))},[]),x=v.useCallback(function(g){h(g.type,Ef(g),g.target,d(g,e.lockRef.current))},[]);v.useEffect(function(){return nl.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",u,tl),document.addEventListener("touchmove",u,tl),document.addEventListener("touchstart",m,tl),function(){nl=nl.filter(function(g){return g!==o}),document.removeEventListener("wheel",u,tl),document.removeEventListener("touchmove",u,tl),document.removeEventListener("touchstart",m,tl)}},[]);var j=e.removeScrollBar,C=e.inert;return v.createElement(v.Fragment,null,C?v.createElement(o,{styles:zB(i)}):null,j?v.createElement(EB,{gapMode:e.gapMode}):null)}function VB(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const UB=xB(rE,$B);var $m=v.forwardRef(function(e,t){return v.createElement(Bm,Qs({},e,{ref:t,sideCar:UB}))});$m.classNames=Bm.classNames;var WB=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},rl=new WeakMap,Mf=new WeakMap,Af={},Tg=0,lE=function(e){return e&&(e.host||lE(e.parentNode))},HB=function(e,t){return t.map(function(n){if(e.contains(n))return n;var s=lE(n);return s&&e.contains(s)?s:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},qB=function(e,t,n,s){var i=HB(t,Array.isArray(e)?e:[e]);Af[n]||(Af[n]=new WeakMap);var o=Af[n],l=[],d=new Set,u=new Set(i),h=function(p){!p||d.has(p)||(d.add(p),h(p.parentNode))};i.forEach(h);var m=function(p){!p||u.has(p)||Array.prototype.forEach.call(p.children,function(x){if(d.has(x))m(x);else try{var j=x.getAttribute(s),C=j!==null&&j!=="false",g=(rl.get(x)||0)+1,S=(o.get(x)||0)+1;rl.set(x,g),o.set(x,S),l.push(x),g===1&&C&&Mf.set(x,!0),S===1&&x.setAttribute(n,"true"),C||x.setAttribute(s,"true")}catch(_){console.error("aria-hidden: cannot operate on ",x,_)}})};return m(t),d.clear(),Tg++,function(){l.forEach(function(p){var x=rl.get(p)-1,j=o.get(p)-1;rl.set(p,x),o.set(p,j),x||(Mf.has(p)||p.removeAttribute(s),Mf.delete(p)),j||p.removeAttribute(n)}),Tg--,Tg||(rl=new WeakMap,rl=new WeakMap,Mf=new WeakMap,Af={})}},sw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var s=Array.from(Array.isArray(e)?e:[e]),i=WB(e);return i?(s.push.apply(s,Array.from(i.querySelectorAll("[aria-live]"))),qB(s,i,n,"aria-hidden")):function(){return null}},iw="Dialog",[cE,UG]=nr(iw),[ZB,Ds]=cE(iw),dE=e=>{const{__scopeDialog:t,children:n,open:s,defaultOpen:i,onOpenChange:o,modal:l=!0}=e,d=v.useRef(null),u=v.useRef(null),[h=!1,m]=Ur({prop:s,defaultProp:i,onChange:o});return r.jsx(ZB,{scope:t,triggerRef:d,contentRef:u,contentId:os(),titleId:os(),descriptionId:os(),open:h,onOpenChange:m,onOpenToggle:v.useCallback(()=>m(p=>!p),[m]),modal:l,children:n})};dE.displayName=iw;var uE="DialogTrigger",fE=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ds(uE,n),o=rt(t,i.triggerRef);return r.jsx(Re.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":lw(i.open),...s,ref:o,onClick:fe(e.onClick,i.onOpenToggle)})});fE.displayName=uE;var aw="DialogPortal",[KB,hE]=cE(aw,{forceMount:void 0}),mE=e=>{const{__scopeDialog:t,forceMount:n,children:s,container:i}=e,o=Ds(aw,t);return r.jsx(KB,{scope:t,forceMount:n,children:v.Children.map(s,l=>r.jsx(Zr,{present:n||o.open,children:r.jsx(Nu,{asChild:!0,container:i,children:l})}))})};mE.displayName=aw;var Fh="DialogOverlay",pE=v.forwardRef((e,t)=>{const n=hE(Fh,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,o=Ds(Fh,e.__scopeDialog);return o.modal?r.jsx(Zr,{present:s||o.open,children:r.jsx(YB,{...i,ref:t})}):null});pE.displayName=Fh;var GB=ko("DialogOverlay.RemoveScroll"),YB=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ds(Fh,n);return r.jsx($m,{as:GB,allowPinchZoom:!0,shards:[i.contentRef],children:r.jsx(Re.div,{"data-state":lw(i.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),Ao="DialogContent",gE=v.forwardRef((e,t)=>{const n=hE(Ao,e.__scopeDialog),{forceMount:s=n.forceMount,...i}=e,o=Ds(Ao,e.__scopeDialog);return r.jsx(Zr,{present:s||o.open,children:o.modal?r.jsx(QB,{...i,ref:t}):r.jsx(XB,{...i,ref:t})})});gE.displayName=Ao;var QB=v.forwardRef((e,t)=>{const n=Ds(Ao,e.__scopeDialog),s=v.useRef(null),i=rt(t,n.contentRef,s);return v.useEffect(()=>{const o=s.current;if(o)return sw(o)},[]),r.jsx(xE,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:fe(e.onCloseAutoFocus,o=>{var l;o.preventDefault(),(l=n.triggerRef.current)==null||l.focus()}),onPointerDownOutside:fe(e.onPointerDownOutside,o=>{const l=o.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&o.preventDefault()}),onFocusOutside:fe(e.onFocusOutside,o=>o.preventDefault())})}),XB=v.forwardRef((e,t)=>{const n=Ds(Ao,e.__scopeDialog),s=v.useRef(!1),i=v.useRef(!1);return r.jsx(xE,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var l,d;(l=e.onCloseAutoFocus)==null||l.call(e,o),o.defaultPrevented||(s.current||(d=n.triggerRef.current)==null||d.focus(),o.preventDefault()),s.current=!1,i.current=!1},onInteractOutside:o=>{var u,h;(u=e.onInteractOutside)==null||u.call(e,o),o.defaultPrevented||(s.current=!0,o.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const l=o.target;((h=n.triggerRef.current)==null?void 0:h.contains(l))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&i.current&&o.preventDefault()}})}),xE=v.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,...l}=e,d=Ds(Ao,n),u=v.useRef(null),h=rt(t,u);return rw(),r.jsxs(r.Fragment,{children:[r.jsx(zm,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:i,onUnmountAutoFocus:o,children:r.jsx(xc,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":lw(d.open),...l,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),r.jsxs(r.Fragment,{children:[r.jsx(JB,{titleId:d.titleId}),r.jsx(t$,{contentRef:u,descriptionId:d.descriptionId})]})]})}),ow="DialogTitle",vE=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ds(ow,n);return r.jsx(Re.h2,{id:i.titleId,...s,ref:t})});vE.displayName=ow;var yE="DialogDescription",wE=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ds(yE,n);return r.jsx(Re.p,{id:i.descriptionId,...s,ref:t})});wE.displayName=yE;var jE="DialogClose",_E=v.forwardRef((e,t)=>{const{__scopeDialog:n,...s}=e,i=Ds(jE,n);return r.jsx(Re.button,{type:"button",...s,ref:t,onClick:fe(e.onClick,()=>i.onOpenChange(!1))})});_E.displayName=jE;function lw(e){return e?"open":"closed"}var bE="DialogTitleWarning",[WG,NE]=F5(bE,{contentName:Ao,titleName:ow,docsSlug:"dialog"}),JB=({titleId:e})=>{const t=NE(bE),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return v.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},e$="DialogDescriptionWarning",t$=({contentRef:e,descriptionId:t})=>{const s=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${NE(e$).contentName}}.`;return v.useEffect(()=>{var o;const i=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(s))},[s,e,t]),null},SE=dE,CE=fE,PE=mE,Vm=pE,Um=gE,Wm=vE,Hm=wE,kE=_E;const bn=SE,Xs=CE,n$=PE,TE=v.forwardRef(({className:e,...t},n)=>r.jsx(Vm,{ref:n,className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));TE.displayName=Vm.displayName;const ln=v.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(n$,{children:[r.jsx(TE,{}),r.jsxs(Um,{ref:s,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,r.jsxs(kE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[r.jsx(wc,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ln.displayName=Um.displayName;const cn=({className:e,...t})=>r.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});cn.displayName="DialogHeader";const cw=({className:e,...t})=>r.jsx("div",{className:_e("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});cw.displayName="DialogFooter";const dn=v.forwardRef(({className:e,...t},n)=>r.jsx(Wm,{ref:n,className:_e("text-lg font-semibold leading-none tracking-tight",e),...t}));dn.displayName=Wm.displayName;const Pu=v.forwardRef(({className:e,...t},n)=>r.jsx(Hm,{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));Pu.displayName=Hm.displayName;const lv=vc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),q=v.forwardRef(({className:e,variant:t,size:n,asChild:s=!1,...i},o)=>{const l=s?E2:"button";return r.jsx(l,{className:_e(lv({variant:t,size:n,className:e})),ref:o,...i})});q.displayName="Button";const ze=v.forwardRef(({className:e,type:t,...n},s)=>r.jsx("input",{type:t,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:s,...n}));ze.displayName="Input";var r$="Label",EE=v.forwardRef((e,t)=>r.jsx(Re.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));EE.displayName=r$;var ME=EE;const s$=vc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),pe=v.forwardRef(({className:e,...t},n)=>r.jsx(ME,{ref:n,className:_e(s$(),e),...t}));pe.displayName=ME.displayName;function i$({open:e}){const[t,n]=v.useState(""),[s,i]=v.useState(""),[o,l]=v.useState(""),[d,u]=v.useState(!1),{toast:h}=mn(),m=async p=>{if(p.preventDefault(),s!==o){h({title:"Passwords don't match",description:"Please make sure your new passwords match.",variant:"destructive"});return}if(s.length<8){h({title:"Password too short",description:"Your new password must be at least 8 characters long.",variant:"destructive"});return}u(!0);try{await Xe("POST","/api/change-password",{currentPassword:t,newPassword:s}),await wt.invalidateQueries({queryKey:["/api/user"]}),h({title:"Password updated",description:"Your password has been changed successfully."}),n(""),i(""),l("")}catch(x){h({title:"Password change failed",description:x.message||"Failed to update password. Please try again.",variant:"destructive"})}finally{u(!1)}};return r.jsx(bn,{open:e,modal:!0,children:r.jsxs(ln,{className:"sm:max-w-[425px]",onInteractOutside:p=>p.preventDefault(),onEscapeKeyDown:p=>p.preventDefault(),children:[r.jsxs(cn,{children:[r.jsxs(dn,{className:"flex items-center gap-2",children:[r.jsx(_i,{className:"h-5 w-5 text-orange-500"}),"Password Change Required"]}),r.jsx(Pu,{children:"For security reasons, you must change your password before continuing."})]}),r.jsxs("form",{onSubmit:m,className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"current-password",children:"Current Password"}),r.jsx(ze,{id:"current-password",type:"password",value:t,onChange:p=>n(p.target.value),required:!0,disabled:d,"data-testid":"input-current-password"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"new-password",children:"New Password"}),r.jsx(ze,{id:"new-password",type:"password",value:s,onChange:p=>i(p.target.value),required:!0,minLength:8,disabled:d,"data-testid":"input-new-password"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Must be at least 8 characters long"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"confirm-password",children:"Confirm New Password"}),r.jsx(ze,{id:"confirm-password",type:"password",value:o,onChange:p=>l(p.target.value),required:!0,minLength:8,disabled:d,"data-testid":"input-confirm-password"})]}),r.jsx(q,{type:"submit",className:"w-full",disabled:d,"data-testid":"button-change-password",children:d?"Updating...":"Change Password"})]})]})})}function zh(e,[t,n]){return Math.min(n,Math.max(t,e))}var a$=v.createContext(void 0);function Sc(e){const t=v.useContext(a$);return e||t||"ltr"}function qm(e){const t=v.useRef({value:e,previous:e});return v.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var o$=[" ","Enter","ArrowUp","ArrowDown"],l$=[" ","Enter"],ku="Select",[Zm,Km,c$]=gc(ku),[Cc,HG]=nr(ku,[c$,Nc]),Gm=Nc(),[d$,Wa]=Cc(ku),[u$,f$]=Cc(ku),AE=e=>{const{__scopeSelect:t,children:n,open:s,defaultOpen:i,onOpenChange:o,value:l,defaultValue:d,onValueChange:u,dir:h,name:m,autoComplete:p,disabled:x,required:j,form:C}=e,g=Gm(t),[S,_]=v.useState(null),[w,N]=v.useState(null),[P,M]=v.useState(!1),A=Sc(h),[R=!1,F]=Ur({prop:s,defaultProp:i,onChange:o}),[Y,z]=Ur({prop:l,defaultProp:d,onChange:u}),Z=v.useRef(null),V=S?C||!!S.closest("form"):!0,[te,X]=v.useState(new Set),J=Array.from(te).map(ne=>ne.props.value).join(";");return r.jsx(WT,{...g,children:r.jsxs(d$,{required:j,scope:t,trigger:S,onTriggerChange:_,valueNode:w,onValueNodeChange:N,valueNodeHasChildren:P,onValueNodeHasChildrenChange:M,contentId:os(),value:Y,onValueChange:z,open:R,onOpenChange:F,dir:A,triggerPointerDownPosRef:Z,disabled:x,children:[r.jsx(Zm.Provider,{scope:t,children:r.jsx(u$,{scope:e.__scopeSelect,onNativeOptionAdd:v.useCallback(ne=>{X(U=>new Set(U).add(ne))},[]),onNativeOptionRemove:v.useCallback(ne=>{X(U=>{const k=new Set(U);return k.delete(ne),k})},[]),children:n})}),V?r.jsxs(rM,{"aria-hidden":!0,required:j,tabIndex:-1,name:m,autoComplete:p,value:Y,onChange:ne=>z(ne.target.value),disabled:x,form:C,children:[Y===void 0?r.jsx("option",{value:""}):null,Array.from(te)]},J):null]})})};AE.displayName=ku;var RE="SelectTrigger",LE=v.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:s=!1,...i}=e,o=Gm(n),l=Wa(RE,n),d=l.disabled||s,u=rt(t,l.onTriggerChange),h=Km(n),m=v.useRef("touch"),[p,x,j]=sM(g=>{const S=h().filter(N=>!N.disabled),_=S.find(N=>N.value===l.value),w=iM(S,g,_);w!==void 0&&l.onValueChange(w.value)}),C=g=>{d||(l.onOpenChange(!0),j()),g&&(l.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return r.jsx(Jy,{asChild:!0,...o,children:r.jsx(Re.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":nM(l.value)?"":void 0,...i,ref:u,onClick:fe(i.onClick,g=>{g.currentTarget.focus(),m.current!=="mouse"&&C(g)}),onPointerDown:fe(i.onPointerDown,g=>{m.current=g.pointerType;const S=g.target;S.hasPointerCapture(g.pointerId)&&S.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(C(g),g.preventDefault())}),onKeyDown:fe(i.onKeyDown,g=>{const S=p.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&x(g.key),!(S&&g.key===" ")&&o$.includes(g.key)&&(C(),g.preventDefault())})})})});LE.displayName=RE;var IE="SelectValue",OE=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,children:o,placeholder:l="",...d}=e,u=Wa(IE,n),{onValueNodeHasChildrenChange:h}=u,m=o!==void 0,p=rt(t,u.onValueNodeChange);return hn(()=>{h(m)},[h,m]),r.jsx(Re.span,{...d,ref:p,style:{pointerEvents:"none"},children:nM(u.value)?r.jsx(r.Fragment,{children:l}):o})});OE.displayName=IE;var h$="SelectIcon",DE=v.forwardRef((e,t)=>{const{__scopeSelect:n,children:s,...i}=e;return r.jsx(Re.span,{"aria-hidden":!0,...i,ref:t,children:s||""})});DE.displayName=h$;var m$="SelectPortal",FE=e=>r.jsx(Nu,{asChild:!0,...e});FE.displayName=m$;var Ro="SelectContent",zE=v.forwardRef((e,t)=>{const n=Wa(Ro,e.__scopeSelect),[s,i]=v.useState();if(hn(()=>{i(new DocumentFragment)},[]),!n.open){const o=s;return o?Va.createPortal(r.jsx(BE,{scope:e.__scopeSelect,children:r.jsx(Zm.Slot,{scope:e.__scopeSelect,children:r.jsx("div",{children:e.children})})}),o):null}return r.jsx($E,{...e,ref:t})});zE.displayName=Ro;var ps=10,[BE,Ha]=Cc(Ro),p$="SelectContentImpl",g$=ko("SelectContent.RemoveScroll"),$E=v.forwardRef((e,t)=>{const{__scopeSelect:n,position:s="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:o,onPointerDownOutside:l,side:d,sideOffset:u,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:j,sticky:C,hideWhenDetached:g,avoidCollisions:S,..._}=e,w=Wa(Ro,n),[N,P]=v.useState(null),[M,A]=v.useState(null),R=rt(t,E=>P(E)),[F,Y]=v.useState(null),[z,Z]=v.useState(null),V=Km(n),[te,X]=v.useState(!1),J=v.useRef(!1);v.useEffect(()=>{if(N)return sw(N)},[N]),rw();const ne=v.useCallback(E=>{const[B,...me]=V().map(lt=>lt.ref.current),[$e]=me.slice(-1),Ze=document.activeElement;for(const lt of E)if(lt===Ze||(lt==null||lt.scrollIntoView({block:"nearest"}),lt===B&&M&&(M.scrollTop=0),lt===$e&&M&&(M.scrollTop=M.scrollHeight),lt==null||lt.focus(),document.activeElement!==Ze))return},[V,M]),U=v.useCallback(()=>ne([F,N]),[ne,F,N]);v.useEffect(()=>{te&&U()},[te,U]);const{onOpenChange:k,triggerPointerDownPosRef:W}=w;v.useEffect(()=>{if(N){let E={x:0,y:0};const B=$e=>{var Ze,lt;E={x:Math.abs(Math.round($e.pageX)-(((Ze=W.current)==null?void 0:Ze.x)??0)),y:Math.abs(Math.round($e.pageY)-(((lt=W.current)==null?void 0:lt.y)??0))}},me=$e=>{E.x<=10&&E.y<=10?$e.preventDefault():N.contains($e.target)||k(!1),document.removeEventListener("pointermove",B),W.current=null};return W.current!==null&&(document.addEventListener("pointermove",B),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",B),document.removeEventListener("pointerup",me,{capture:!0})}}},[N,k,W]),v.useEffect(()=>{const E=()=>k(!1);return window.addEventListener("blur",E),window.addEventListener("resize",E),()=>{window.removeEventListener("blur",E),window.removeEventListener("resize",E)}},[k]);const[G,le]=sM(E=>{const B=V().filter(Ze=>!Ze.disabled),me=B.find(Ze=>Ze.ref.current===document.activeElement),$e=iM(B,E,me);$e&&setTimeout(()=>$e.ref.current.focus())}),Me=v.useCallback((E,B,me)=>{const $e=!J.current&&!me;(w.value!==void 0&&w.value===B||$e)&&(Y(E),$e&&(J.current=!0))},[w.value]),qe=v.useCallback(()=>N==null?void 0:N.focus(),[N]),Pe=v.useCallback((E,B,me)=>{const $e=!J.current&&!me;(w.value!==void 0&&w.value===B||$e)&&Z(E)},[w.value]),Oe=s==="popper"?cv:VE,ke=Oe===cv?{side:d,sideOffset:u,align:h,alignOffset:m,arrowPadding:p,collisionBoundary:x,collisionPadding:j,sticky:C,hideWhenDetached:g,avoidCollisions:S}:{};return r.jsx(BE,{scope:n,content:N,viewport:M,onViewportChange:A,itemRefCallback:Me,selectedItem:F,onItemLeave:qe,itemTextRefCallback:Pe,focusSelectedItem:U,selectedItemText:z,position:s,isPositioned:te,searchRef:G,children:r.jsx($m,{as:g$,allowPinchZoom:!0,children:r.jsx(zm,{asChild:!0,trapped:w.open,onMountAutoFocus:E=>{E.preventDefault()},onUnmountAutoFocus:fe(i,E=>{var B;(B=w.trigger)==null||B.focus({preventScroll:!0}),E.preventDefault()}),children:r.jsx(xc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:l,onFocusOutside:E=>E.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:r.jsx(Oe,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:E=>E.preventDefault(),..._,...ke,onPlaced:()=>X(!0),ref:R,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:fe(_.onKeyDown,E=>{const B=E.ctrlKey||E.altKey||E.metaKey;if(E.key==="Tab"&&E.preventDefault(),!B&&E.key.length===1&&le(E.key),["ArrowUp","ArrowDown","Home","End"].includes(E.key)){let $e=V().filter(Ze=>!Ze.disabled).map(Ze=>Ze.ref.current);if(["ArrowUp","End"].includes(E.key)&&($e=$e.slice().reverse()),["ArrowUp","ArrowDown"].includes(E.key)){const Ze=E.target,lt=$e.indexOf(Ze);$e=$e.slice(lt+1)}setTimeout(()=>ne($e)),E.preventDefault()}})})})})})})});$E.displayName=p$;var x$="SelectItemAlignedPosition",VE=v.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:s,...i}=e,o=Wa(Ro,n),l=Ha(Ro,n),[d,u]=v.useState(null),[h,m]=v.useState(null),p=rt(t,R=>m(R)),x=Km(n),j=v.useRef(!1),C=v.useRef(!0),{viewport:g,selectedItem:S,selectedItemText:_,focusSelectedItem:w}=l,N=v.useCallback(()=>{if(o.trigger&&o.valueNode&&d&&h&&g&&S&&_){const R=o.trigger.getBoundingClientRect(),F=h.getBoundingClientRect(),Y=o.valueNode.getBoundingClientRect(),z=_.getBoundingClientRect();if(o.dir!=="rtl"){const Ze=z.left-F.left,lt=Y.left-Ze,xn=R.left-lt,rr=R.width+xn,Fs=Math.max(rr,F.width),us=window.innerWidth-ps,Kr=zh(lt,[ps,Math.max(ps,us-Fs)]);d.style.minWidth=rr+"px",d.style.left=Kr+"px"}else{const Ze=F.right-z.right,lt=window.innerWidth-Y.right-Ze,xn=window.innerWidth-R.right-lt,rr=R.width+xn,Fs=Math.max(rr,F.width),us=window.innerWidth-ps,Kr=zh(lt,[ps,Math.max(ps,us-Fs)]);d.style.minWidth=rr+"px",d.style.right=Kr+"px"}const Z=x(),V=window.innerHeight-ps*2,te=g.scrollHeight,X=window.getComputedStyle(h),J=parseInt(X.borderTopWidth,10),ne=parseInt(X.paddingTop,10),U=parseInt(X.borderBottomWidth,10),k=parseInt(X.paddingBottom,10),W=J+ne+te+k+U,G=Math.min(S.offsetHeight*5,W),le=window.getComputedStyle(g),Me=parseInt(le.paddingTop,10),qe=parseInt(le.paddingBottom,10),Pe=R.top+R.height/2-ps,Oe=V-Pe,ke=S.offsetHeight/2,E=S.offsetTop+ke,B=J+ne+E,me=W-B;if(B<=Pe){const Ze=Z.length>0&&S===Z[Z.length-1].ref.current;d.style.bottom="0px";const lt=h.clientHeight-g.offsetTop-g.offsetHeight,xn=Math.max(Oe,ke+(Ze?qe:0)+lt+U),rr=B+xn;d.style.height=rr+"px"}else{const Ze=Z.length>0&&S===Z[0].ref.current;d.style.top="0px";const xn=Math.max(Pe,J+g.offsetTop+(Ze?Me:0)+ke)+me;d.style.height=xn+"px",g.scrollTop=B-Pe+g.offsetTop}d.style.margin=`${ps}px 0`,d.style.minHeight=G+"px",d.style.maxHeight=V+"px",s==null||s(),requestAnimationFrame(()=>j.current=!0)}},[x,o.trigger,o.valueNode,d,h,g,S,_,o.dir,s]);hn(()=>N(),[N]);const[P,M]=v.useState();hn(()=>{h&&M(window.getComputedStyle(h).zIndex)},[h]);const A=v.useCallback(R=>{R&&C.current===!0&&(N(),w==null||w(),C.current=!1)},[N,w]);return r.jsx(y$,{scope:n,contentWrapper:d,shouldExpandOnScrollRef:j,onScrollButtonChange:A,children:r.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:r.jsx(Re.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});VE.displayName=x$;var v$="SelectPopperPosition",cv=v.forwardRef((e,t)=>{const{__scopeSelect:n,align:s="start",collisionPadding:i=ps,...o}=e,l=Gm(n);return r.jsx(ew,{...l,...o,ref:t,align:s,collisionPadding:i,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});cv.displayName=v$;var[y$,dw]=Cc(Ro,{}),dv="SelectViewport",UE=v.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:s,...i}=e,o=Ha(dv,n),l=dw(dv,n),d=rt(t,o.onViewportChange),u=v.useRef(0);return r.jsxs(r.Fragment,{children:[r.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),r.jsx(Zm.Slot,{scope:n,children:r.jsx(Re.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:fe(i.onScroll,h=>{const m=h.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:x}=l;if(x!=null&&x.current&&p){const j=Math.abs(u.current-m.scrollTop);if(j>0){const C=window.innerHeight-ps*2,g=parseFloat(p.style.minHeight),S=parseFloat(p.style.height),_=Math.max(g,S);if(_<C){const w=_+j,N=Math.min(C,w),P=w-N;p.style.height=N+"px",p.style.bottom==="0px"&&(m.scrollTop=P>0?P:0,p.style.justifyContent="flex-end")}}}u.current=m.scrollTop})})})]})});UE.displayName=dv;var WE="SelectGroup",[w$,j$]=Cc(WE),_$=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=os();return r.jsx(w$,{scope:n,id:i,children:r.jsx(Re.div,{role:"group","aria-labelledby":i,...s,ref:t})})});_$.displayName=WE;var HE="SelectLabel",qE=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=j$(HE,n);return r.jsx(Re.div,{id:i.id,...s,ref:t})});qE.displayName=HE;var Bh="SelectItem",[b$,ZE]=Cc(Bh),KE=v.forwardRef((e,t)=>{const{__scopeSelect:n,value:s,disabled:i=!1,textValue:o,...l}=e,d=Wa(Bh,n),u=Ha(Bh,n),h=d.value===s,[m,p]=v.useState(o??""),[x,j]=v.useState(!1),C=rt(t,w=>{var N;return(N=u.itemRefCallback)==null?void 0:N.call(u,w,s,i)}),g=os(),S=v.useRef("touch"),_=()=>{i||(d.onValueChange(s),d.onOpenChange(!1))};if(s==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return r.jsx(b$,{scope:n,value:s,disabled:i,textId:g,isSelected:h,onItemTextChange:v.useCallback(w=>{p(N=>N||((w==null?void 0:w.textContent)??"").trim())},[]),children:r.jsx(Zm.ItemSlot,{scope:n,value:s,disabled:i,textValue:m,children:r.jsx(Re.div,{role:"option","aria-labelledby":g,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...l,ref:C,onFocus:fe(l.onFocus,()=>j(!0)),onBlur:fe(l.onBlur,()=>j(!1)),onClick:fe(l.onClick,()=>{S.current!=="mouse"&&_()}),onPointerUp:fe(l.onPointerUp,()=>{S.current==="mouse"&&_()}),onPointerDown:fe(l.onPointerDown,w=>{S.current=w.pointerType}),onPointerMove:fe(l.onPointerMove,w=>{var N;S.current=w.pointerType,i?(N=u.onItemLeave)==null||N.call(u):S.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:fe(l.onPointerLeave,w=>{var N;w.currentTarget===document.activeElement&&((N=u.onItemLeave)==null||N.call(u))}),onKeyDown:fe(l.onKeyDown,w=>{var P;((P=u.searchRef)==null?void 0:P.current)!==""&&w.key===" "||(l$.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});KE.displayName=Bh;var ld="SelectItemText",GE=v.forwardRef((e,t)=>{const{__scopeSelect:n,className:s,style:i,...o}=e,l=Wa(ld,n),d=Ha(ld,n),u=ZE(ld,n),h=f$(ld,n),[m,p]=v.useState(null),x=rt(t,_=>p(_),u.onItemTextChange,_=>{var w;return(w=d.itemTextRefCallback)==null?void 0:w.call(d,_,u.value,u.disabled)}),j=m==null?void 0:m.textContent,C=v.useMemo(()=>r.jsx("option",{value:u.value,disabled:u.disabled,children:j},u.value),[u.disabled,u.value,j]),{onNativeOptionAdd:g,onNativeOptionRemove:S}=h;return hn(()=>(g(C),()=>S(C)),[g,S,C]),r.jsxs(r.Fragment,{children:[r.jsx(Re.span,{id:u.textId,...o,ref:x}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Va.createPortal(o.children,l.valueNode):null]})});GE.displayName=ld;var YE="SelectItemIndicator",QE=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return ZE(YE,n).isSelected?r.jsx(Re.span,{"aria-hidden":!0,...s,ref:t}):null});QE.displayName=YE;var uv="SelectScrollUpButton",XE=v.forwardRef((e,t)=>{const n=Ha(uv,e.__scopeSelect),s=dw(uv,e.__scopeSelect),[i,o]=v.useState(!1),l=rt(t,s.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=u.scrollTop>0;o(h)};const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?r.jsx(eM,{...e,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=n;d&&u&&(d.scrollTop=d.scrollTop-u.offsetHeight)}}):null});XE.displayName=uv;var fv="SelectScrollDownButton",JE=v.forwardRef((e,t)=>{const n=Ha(fv,e.__scopeSelect),s=dw(fv,e.__scopeSelect),[i,o]=v.useState(!1),l=rt(t,s.onScrollButtonChange);return hn(()=>{if(n.viewport&&n.isPositioned){let d=function(){const h=u.scrollHeight-u.clientHeight,m=Math.ceil(u.scrollTop)<h;o(m)};const u=n.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),i?r.jsx(eM,{...e,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=n;d&&u&&(d.scrollTop=d.scrollTop+u.offsetHeight)}}):null});JE.displayName=fv;var eM=v.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:s,...i}=e,o=Ha("SelectScrollButton",n),l=v.useRef(null),d=Km(n),u=v.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return v.useEffect(()=>()=>u(),[u]),hn(()=>{var m;const h=d().find(p=>p.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[d]),r.jsx(Re.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:fe(i.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(s,50))}),onPointerMove:fe(i.onPointerMove,()=>{var h;(h=o.onItemLeave)==null||h.call(o),l.current===null&&(l.current=window.setInterval(s,50))}),onPointerLeave:fe(i.onPointerLeave,()=>{u()})})}),N$="SelectSeparator",tM=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e;return r.jsx(Re.div,{"aria-hidden":!0,...s,ref:t})});tM.displayName=N$;var hv="SelectArrow",S$=v.forwardRef((e,t)=>{const{__scopeSelect:n,...s}=e,i=Gm(n),o=Wa(hv,n),l=Ha(hv,n);return o.open&&l.position==="popper"?r.jsx(tw,{...i,...s,ref:t}):null});S$.displayName=hv;function nM(e){return e===""||e===void 0}var rM=v.forwardRef((e,t)=>{const{value:n,...s}=e,i=v.useRef(null),o=rt(t,i),l=qm(n);return v.useEffect(()=>{const d=i.current,u=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==n&&m){const p=new Event("change",{bubbles:!0});m.call(d,n),d.dispatchEvent(p)}},[l,n]),r.jsx(Su,{asChild:!0,children:r.jsx("select",{...s,ref:o,defaultValue:n})})});rM.displayName="BubbleSelect";function sM(e){const t=Zn(e),n=v.useRef(""),s=v.useRef(0),i=v.useCallback(l=>{const d=n.current+l;t(d),function u(h){n.current=h,window.clearTimeout(s.current),h!==""&&(s.current=window.setTimeout(()=>u(""),1e3))}(d)},[t]),o=v.useCallback(()=>{n.current="",window.clearTimeout(s.current)},[]);return v.useEffect(()=>()=>window.clearTimeout(s.current),[]),[n,i,o]}function iM(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=C$(e,Math.max(o,0));i.length===1&&(l=l.filter(h=>h!==n));const u=l.find(h=>h.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function C$(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var P$=AE,aM=LE,k$=OE,T$=DE,E$=FE,oM=zE,M$=UE,lM=qE,cM=KE,A$=GE,R$=QE,dM=XE,uM=JE,fM=tM;const Bn=P$,$n=k$,Mn=v.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(aM,{ref:s,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,r.jsx(T$,{asChild:!0,children:r.jsx(By,{className:"h-4 w-4 opacity-50"})})]}));Mn.displayName=aM.displayName;const hM=v.forwardRef(({className:e,...t},n)=>r.jsx(dM,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(Rz,{className:"h-4 w-4"})}));hM.displayName=dM.displayName;const mM=v.forwardRef(({className:e,...t},n)=>r.jsx(uM,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:r.jsx(By,{className:"h-4 w-4"})}));mM.displayName=uM.displayName;const An=v.forwardRef(({className:e,children:t,position:n="popper",...s},i)=>r.jsx(E$,{children:r.jsxs(oM,{ref:i,className:_e("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...s,children:[r.jsx(hM,{}),r.jsx(M$,{className:_e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),r.jsx(mM,{})]})}));An.displayName=oM.displayName;const L$=v.forwardRef(({className:e,...t},n)=>r.jsx(lM,{ref:n,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));L$.displayName=lM.displayName;const je=v.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(cM,{ref:s,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(R$,{children:r.jsx(zy,{className:"h-4 w-4"})})}),r.jsx(A$,{children:t})]}));je.displayName=cM.displayName;const I$=v.forwardRef(({className:e,...t},n)=>r.jsx(fM,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));I$.displayName=fM.displayName;const se=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));se.displayName="Card";const Ie=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));Ie.displayName="CardHeader";const Fe=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("text-2xl font-semibold leading-none tracking-tight",e),...t}));Fe.displayName="CardTitle";const br=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));br.displayName="CardDescription";const ie=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("p-6 pt-0",e),...t}));ie.displayName="CardContent";const O$=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("flex items-center p-6 pt-0",e),...t}));O$.displayName="CardFooter";var uw="Collapsible",[D$,pM]=nr(uw),[F$,fw]=D$(uw),gM=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:s,defaultOpen:i,disabled:o,onOpenChange:l,...d}=e,[u=!1,h]=Ur({prop:s,defaultProp:i,onChange:l});return r.jsx(F$,{scope:n,disabled:o,contentId:os(),open:u,onOpenToggle:v.useCallback(()=>h(m=>!m),[h]),children:r.jsx(Re.div,{"data-state":mw(u),"data-disabled":o?"":void 0,...d,ref:t})})});gM.displayName=uw;var xM="CollapsibleTrigger",vM=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,...s}=e,i=fw(xM,n);return r.jsx(Re.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":mw(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...s,ref:t,onClick:fe(e.onClick,i.onOpenToggle)})});vM.displayName=xM;var hw="CollapsibleContent",yM=v.forwardRef((e,t)=>{const{forceMount:n,...s}=e,i=fw(hw,e.__scopeCollapsible);return r.jsx(Zr,{present:n||i.open,children:({present:o})=>r.jsx(z$,{...s,ref:t,present:o})})});yM.displayName=hw;var z$=v.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:s,children:i,...o}=e,l=fw(hw,n),[d,u]=v.useState(s),h=v.useRef(null),m=rt(t,h),p=v.useRef(0),x=p.current,j=v.useRef(0),C=j.current,g=l.open||d,S=v.useRef(g),_=v.useRef(void 0);return v.useEffect(()=>{const w=requestAnimationFrame(()=>S.current=!1);return()=>cancelAnimationFrame(w)},[]),hn(()=>{const w=h.current;if(w){_.current=_.current||{transitionDuration:w.style.transitionDuration,animationName:w.style.animationName},w.style.transitionDuration="0s",w.style.animationName="none";const N=w.getBoundingClientRect();p.current=N.height,j.current=N.width,S.current||(w.style.transitionDuration=_.current.transitionDuration,w.style.animationName=_.current.animationName),u(s)}},[l.open,s]),r.jsx(Re.div,{"data-state":mw(l.open),"data-disabled":l.disabled?"":void 0,id:l.contentId,hidden:!g,...o,ref:m,style:{"--radix-collapsible-content-height":x?`${x}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style},children:g&&i})});function mw(e){return e?"open":"closed"}var B$=gM,$$=vM,V$=yM,Bi="Accordion",U$=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[pw,W$,H$]=gc(Bi),[Ym,qG]=nr(Bi,[H$,pM]),gw=pM(),wM=he.forwardRef((e,t)=>{const{type:n,...s}=e,i=s,o=s;return r.jsx(pw.Provider,{scope:e.__scopeAccordion,children:n==="multiple"?r.jsx(G$,{...o,ref:t}):r.jsx(K$,{...i,ref:t})})});wM.displayName=Bi;var[jM,q$]=Ym(Bi),[_M,Z$]=Ym(Bi,{collapsible:!1}),K$=he.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:i=()=>{},collapsible:o=!1,...l}=e,[d,u]=Ur({prop:n,defaultProp:s,onChange:i});return r.jsx(jM,{scope:e.__scopeAccordion,value:d?[d]:[],onItemOpen:u,onItemClose:he.useCallback(()=>o&&u(""),[o,u]),children:r.jsx(_M,{scope:e.__scopeAccordion,collapsible:o,children:r.jsx(bM,{...l,ref:t})})})}),G$=he.forwardRef((e,t)=>{const{value:n,defaultValue:s,onValueChange:i=()=>{},...o}=e,[l=[],d]=Ur({prop:n,defaultProp:s,onChange:i}),u=he.useCallback(m=>d((p=[])=>[...p,m]),[d]),h=he.useCallback(m=>d((p=[])=>p.filter(x=>x!==m)),[d]);return r.jsx(jM,{scope:e.__scopeAccordion,value:l,onItemOpen:u,onItemClose:h,children:r.jsx(_M,{scope:e.__scopeAccordion,collapsible:!0,children:r.jsx(bM,{...o,ref:t})})})}),[Y$,Qm]=Ym(Bi),bM=he.forwardRef((e,t)=>{const{__scopeAccordion:n,disabled:s,dir:i,orientation:o="vertical",...l}=e,d=he.useRef(null),u=rt(d,t),h=W$(n),p=Sc(i)==="ltr",x=fe(e.onKeyDown,j=>{var F;if(!U$.includes(j.key))return;const C=j.target,g=h().filter(Y=>{var z;return!((z=Y.ref.current)!=null&&z.disabled)}),S=g.findIndex(Y=>Y.ref.current===C),_=g.length;if(S===-1)return;j.preventDefault();let w=S;const N=0,P=_-1,M=()=>{w=S+1,w>P&&(w=N)},A=()=>{w=S-1,w<N&&(w=P)};switch(j.key){case"Home":w=N;break;case"End":w=P;break;case"ArrowRight":o==="horizontal"&&(p?M():A());break;case"ArrowDown":o==="vertical"&&M();break;case"ArrowLeft":o==="horizontal"&&(p?A():M());break;case"ArrowUp":o==="vertical"&&A();break}const R=w%_;(F=g[R].ref.current)==null||F.focus()});return r.jsx(Y$,{scope:n,disabled:s,direction:i,orientation:o,children:r.jsx(pw.Slot,{scope:n,children:r.jsx(Re.div,{...l,"data-orientation":o,ref:u,onKeyDown:s?void 0:x})})})}),$h="AccordionItem",[Q$,xw]=Ym($h),NM=he.forwardRef((e,t)=>{const{__scopeAccordion:n,value:s,...i}=e,o=Qm($h,n),l=q$($h,n),d=gw(n),u=os(),h=s&&l.value.includes(s)||!1,m=o.disabled||e.disabled;return r.jsx(Q$,{scope:n,open:h,disabled:m,triggerId:u,children:r.jsx(B$,{"data-orientation":o.orientation,"data-state":EM(h),...d,...i,ref:t,disabled:m,open:h,onOpenChange:p=>{p?l.onItemOpen(s):l.onItemClose(s)}})})});NM.displayName=$h;var SM="AccordionHeader",CM=he.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,i=Qm(Bi,n),o=xw(SM,n);return r.jsx(Re.h3,{"data-orientation":i.orientation,"data-state":EM(o.open),"data-disabled":o.disabled?"":void 0,...s,ref:t})});CM.displayName=SM;var mv="AccordionTrigger",PM=he.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,i=Qm(Bi,n),o=xw(mv,n),l=Z$(mv,n),d=gw(n);return r.jsx(pw.ItemSlot,{scope:n,children:r.jsx($$,{"aria-disabled":o.open&&!l.collapsible||void 0,"data-orientation":i.orientation,id:o.triggerId,...d,...s,ref:t})})});PM.displayName=mv;var kM="AccordionContent",TM=he.forwardRef((e,t)=>{const{__scopeAccordion:n,...s}=e,i=Qm(Bi,n),o=xw(kM,n),l=gw(n);return r.jsx(V$,{role:"region","aria-labelledby":o.triggerId,"data-orientation":i.orientation,...l,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});TM.displayName=kM;function EM(e){return e?"open":"closed"}var X$=wM,J$=NM,eV=CM,MM=PM,AM=TM;const tV=X$,Xi=v.forwardRef(({className:e,...t},n)=>r.jsx(J$,{ref:n,className:_e("border-b",e),...t}));Xi.displayName="AccordionItem";const Ji=v.forwardRef(({className:e,children:t,...n},s)=>r.jsx(eV,{className:"flex",children:r.jsxs(MM,{ref:s,className:_e("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",e),...n,children:[t,r.jsx(By,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})}));Ji.displayName=MM.displayName;const ea=v.forwardRef(({className:e,children:t,...n},s)=>r.jsx(AM,{ref:s,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:r.jsx("div",{className:_e("pb-4 pt-0",e),children:t})}));ea.displayName=AM.displayName;var vw="Avatar",[nV,ZG]=nr(vw),[rV,RM]=nV(vw),LM=v.forwardRef((e,t)=>{const{__scopeAvatar:n,...s}=e,[i,o]=v.useState("idle");return r.jsx(rV,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:o,children:r.jsx(Re.span,{...s,ref:t})})});LM.displayName=vw;var IM="AvatarImage",OM=v.forwardRef((e,t)=>{const{__scopeAvatar:n,src:s,onLoadingStatusChange:i=()=>{},...o}=e,l=RM(IM,n),d=sV(s,o),u=Zn(h=>{i(h),l.onImageLoadingStatusChange(h)});return hn(()=>{d!=="idle"&&u(d)},[d,u]),d==="loaded"?r.jsx(Re.img,{...o,ref:t,src:s}):null});OM.displayName=IM;var DM="AvatarFallback",FM=v.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:s,...i}=e,o=RM(DM,n),[l,d]=v.useState(s===void 0);return v.useEffect(()=>{if(s!==void 0){const u=window.setTimeout(()=>d(!0),s);return()=>window.clearTimeout(u)}},[s]),l&&o.imageLoadingStatus!=="loaded"?r.jsx(Re.span,{...i,ref:t}):null});FM.displayName=DM;function ob(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function sV(e,{referrerPolicy:t,crossOrigin:n}){const s=aV(),i=v.useRef(null),o=s?(i.current||(i.current=new window.Image),i.current):null,[l,d]=v.useState(()=>ob(o,e));return hn(()=>{d(ob(o,e))},[o,e]),hn(()=>{const u=p=>()=>{d(p)};if(!o)return;const h=u("loaded"),m=u("error");return o.addEventListener("load",h),o.addEventListener("error",m),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",h),o.removeEventListener("error",m)}},[o,n,t]),l}function iV(){return()=>{}}function aV(){return v.useSyncExternalStore(iV,()=>!0,()=>!1)}var zM=LM,BM=OM,$M=FM;const zr=v.forwardRef(({className:e,...t},n)=>r.jsx(zM,{ref:n,className:_e("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",e),...t}));zr.displayName=zM.displayName;const VM=v.forwardRef(({className:e,...t},n)=>r.jsx(BM,{ref:n,className:_e("aspect-square h-full w-full",e),...t}));VM.displayName=BM.displayName;const Br=v.forwardRef(({className:e,...t},n)=>r.jsx($M,{ref:n,className:_e("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));Br.displayName=$M.displayName;var Eg="rovingFocusGroup.onEntryFocus",oV={bubbles:!1,cancelable:!0},Xm="RovingFocusGroup",[pv,UM,lV]=gc(Xm),[cV,Jm]=nr(Xm,[lV]),[dV,uV]=cV(Xm),WM=v.forwardRef((e,t)=>r.jsx(pv.Provider,{scope:e.__scopeRovingFocusGroup,children:r.jsx(pv.Slot,{scope:e.__scopeRovingFocusGroup,children:r.jsx(fV,{...e,ref:t})})}));WM.displayName=Xm;var fV=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:s,loop:i=!1,dir:o,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...p}=e,x=v.useRef(null),j=rt(t,x),C=Sc(o),[g=null,S]=Ur({prop:l,defaultProp:d,onChange:u}),[_,w]=v.useState(!1),N=Zn(h),P=UM(n),M=v.useRef(!1),[A,R]=v.useState(0);return v.useEffect(()=>{const F=x.current;if(F)return F.addEventListener(Eg,N),()=>F.removeEventListener(Eg,N)},[N]),r.jsx(dV,{scope:n,orientation:s,dir:C,loop:i,currentTabStopId:g,onItemFocus:v.useCallback(F=>S(F),[S]),onItemShiftTab:v.useCallback(()=>w(!0),[]),onFocusableItemAdd:v.useCallback(()=>R(F=>F+1),[]),onFocusableItemRemove:v.useCallback(()=>R(F=>F-1),[]),children:r.jsx(Re.div,{tabIndex:_||A===0?-1:0,"data-orientation":s,...p,ref:j,style:{outline:"none",...e.style},onMouseDown:fe(e.onMouseDown,()=>{M.current=!0}),onFocus:fe(e.onFocus,F=>{const Y=!M.current;if(F.target===F.currentTarget&&Y&&!_){const z=new CustomEvent(Eg,oV);if(F.currentTarget.dispatchEvent(z),!z.defaultPrevented){const Z=P().filter(ne=>ne.focusable),V=Z.find(ne=>ne.active),te=Z.find(ne=>ne.id===g),J=[V,te,...Z].filter(Boolean).map(ne=>ne.ref.current);ZM(J,m)}}M.current=!1}),onBlur:fe(e.onBlur,()=>w(!1))})})}),HM="RovingFocusGroupItem",qM=v.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:s=!0,active:i=!1,tabStopId:o,...l}=e,d=os(),u=o||d,h=uV(HM,n),m=h.currentTabStopId===u,p=UM(n),{onFocusableItemAdd:x,onFocusableItemRemove:j}=h;return v.useEffect(()=>{if(s)return x(),()=>j()},[s,x,j]),r.jsx(pv.ItemSlot,{scope:n,id:u,focusable:s,active:i,children:r.jsx(Re.span,{tabIndex:m?0:-1,"data-orientation":h.orientation,...l,ref:t,onMouseDown:fe(e.onMouseDown,C=>{s?h.onItemFocus(u):C.preventDefault()}),onFocus:fe(e.onFocus,()=>h.onItemFocus(u)),onKeyDown:fe(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){h.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const g=pV(C,h.orientation,h.dir);if(g!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let _=p().filter(w=>w.focusable).map(w=>w.ref.current);if(g==="last")_.reverse();else if(g==="prev"||g==="next"){g==="prev"&&_.reverse();const w=_.indexOf(C.currentTarget);_=h.loop?gV(_,w+1):_.slice(w+1)}setTimeout(()=>ZM(_))}})})})});qM.displayName=HM;var hV={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mV(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function pV(e,t,n){const s=mV(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(s))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(s)))return hV[s]}function ZM(e,t=!1){const n=document.activeElement;for(const s of e)if(s===n||(s.focus({preventScroll:t}),document.activeElement!==n))return}function gV(e,t){return e.map((n,s)=>e[(t+s)%e.length])}var KM=WM,GM=qM,gv=["Enter"," "],xV=["ArrowDown","PageUp","Home"],YM=["ArrowUp","PageDown","End"],vV=[...xV,...YM],yV={ltr:[...gv,"ArrowRight"],rtl:[...gv,"ArrowLeft"]},wV={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Tu="Menu",[Yd,jV,_V]=gc(Tu),[Bo,QM]=nr(Tu,[_V,Nc,Jm]),ep=Nc(),XM=Jm(),[bV,$o]=Bo(Tu),[NV,Eu]=Bo(Tu),JM=e=>{const{__scopeMenu:t,open:n=!1,children:s,dir:i,onOpenChange:o,modal:l=!0}=e,d=ep(t),[u,h]=v.useState(null),m=v.useRef(!1),p=Zn(o),x=Sc(i);return v.useEffect(()=>{const j=()=>{m.current=!0,document.addEventListener("pointerdown",C,{capture:!0,once:!0}),document.addEventListener("pointermove",C,{capture:!0,once:!0})},C=()=>m.current=!1;return document.addEventListener("keydown",j,{capture:!0}),()=>{document.removeEventListener("keydown",j,{capture:!0}),document.removeEventListener("pointerdown",C,{capture:!0}),document.removeEventListener("pointermove",C,{capture:!0})}},[]),r.jsx(WT,{...d,children:r.jsx(bV,{scope:t,open:n,onOpenChange:p,content:u,onContentChange:h,children:r.jsx(NV,{scope:t,onClose:v.useCallback(()=>p(!1),[p]),isUsingKeyboardRef:m,dir:x,modal:l,children:s})})})};JM.displayName=Tu;var SV="MenuAnchor",yw=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=ep(n);return r.jsx(Jy,{...i,...s,ref:t})});yw.displayName=SV;var ww="MenuPortal",[CV,eA]=Bo(ww,{forceMount:void 0}),tA=e=>{const{__scopeMenu:t,forceMount:n,children:s,container:i}=e,o=$o(ww,t);return r.jsx(CV,{scope:t,forceMount:n,children:r.jsx(Zr,{present:n||o.open,children:r.jsx(Nu,{asChild:!0,container:i,children:s})})})};tA.displayName=ww;var ls="MenuContent",[PV,jw]=Bo(ls),nA=v.forwardRef((e,t)=>{const n=eA(ls,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,o=$o(ls,e.__scopeMenu),l=Eu(ls,e.__scopeMenu);return r.jsx(Yd.Provider,{scope:e.__scopeMenu,children:r.jsx(Zr,{present:s||o.open,children:r.jsx(Yd.Slot,{scope:e.__scopeMenu,children:l.modal?r.jsx(kV,{...i,ref:t}):r.jsx(TV,{...i,ref:t})})})})}),kV=v.forwardRef((e,t)=>{const n=$o(ls,e.__scopeMenu),s=v.useRef(null),i=rt(t,s);return v.useEffect(()=>{const o=s.current;if(o)return sw(o)},[]),r.jsx(_w,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:fe(e.onFocusOutside,o=>o.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),TV=v.forwardRef((e,t)=>{const n=$o(ls,e.__scopeMenu);return r.jsx(_w,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),EV=ko("MenuContent.ScrollLock"),_w=v.forwardRef((e,t)=>{const{__scopeMenu:n,loop:s=!1,trapFocus:i,onOpenAutoFocus:o,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:x,onDismiss:j,disableOutsideScroll:C,...g}=e,S=$o(ls,n),_=Eu(ls,n),w=ep(n),N=XM(n),P=jV(n),[M,A]=v.useState(null),R=v.useRef(null),F=rt(t,R,S.onContentChange),Y=v.useRef(0),z=v.useRef(""),Z=v.useRef(0),V=v.useRef(null),te=v.useRef("right"),X=v.useRef(0),J=C?$m:v.Fragment,ne=C?{as:EV,allowPinchZoom:!0}:void 0,U=W=>{var E,B;const G=z.current+W,le=P().filter(me=>!me.disabled),Me=document.activeElement,qe=(E=le.find(me=>me.ref.current===Me))==null?void 0:E.textValue,Pe=le.map(me=>me.textValue),Oe=VV(Pe,G,qe),ke=(B=le.find(me=>me.textValue===Oe))==null?void 0:B.ref.current;(function me($e){z.current=$e,window.clearTimeout(Y.current),$e!==""&&(Y.current=window.setTimeout(()=>me(""),1e3))})(G),ke&&setTimeout(()=>ke.focus())};v.useEffect(()=>()=>window.clearTimeout(Y.current),[]),rw();const k=v.useCallback(W=>{var le,Me;return te.current===((le=V.current)==null?void 0:le.side)&&WV(W,(Me=V.current)==null?void 0:Me.area)},[]);return r.jsx(PV,{scope:n,searchRef:z,onItemEnter:v.useCallback(W=>{k(W)&&W.preventDefault()},[k]),onItemLeave:v.useCallback(W=>{var G;k(W)||((G=R.current)==null||G.focus(),A(null))},[k]),onTriggerLeave:v.useCallback(W=>{k(W)&&W.preventDefault()},[k]),pointerGraceTimerRef:Z,onPointerGraceIntentChange:v.useCallback(W=>{V.current=W},[]),children:r.jsx(J,{...ne,children:r.jsx(zm,{asChild:!0,trapped:i,onMountAutoFocus:fe(o,W=>{var G;W.preventDefault(),(G=R.current)==null||G.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:r.jsx(xc,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:p,onInteractOutside:x,onDismiss:j,children:r.jsx(KM,{asChild:!0,...N,dir:_.dir,orientation:"vertical",loop:s,currentTabStopId:M,onCurrentTabStopIdChange:A,onEntryFocus:fe(u,W=>{_.isUsingKeyboardRef.current||W.preventDefault()}),preventScrollOnEntryFocus:!0,children:r.jsx(ew,{role:"menu","aria-orientation":"vertical","data-state":vA(S.open),"data-radix-menu-content":"",dir:_.dir,...w,...g,ref:F,style:{outline:"none",...g.style},onKeyDown:fe(g.onKeyDown,W=>{const le=W.target.closest("[data-radix-menu-content]")===W.currentTarget,Me=W.ctrlKey||W.altKey||W.metaKey,qe=W.key.length===1;le&&(W.key==="Tab"&&W.preventDefault(),!Me&&qe&&U(W.key));const Pe=R.current;if(W.target!==Pe||!vV.includes(W.key))return;W.preventDefault();const ke=P().filter(E=>!E.disabled).map(E=>E.ref.current);YM.includes(W.key)&&ke.reverse(),BV(ke)}),onBlur:fe(e.onBlur,W=>{W.currentTarget.contains(W.target)||(window.clearTimeout(Y.current),z.current="")}),onPointerMove:fe(e.onPointerMove,Qd(W=>{const G=W.target,le=X.current!==W.clientX;if(W.currentTarget.contains(G)&&le){const Me=W.clientX>X.current?"right":"left";te.current=Me,X.current=W.clientX}}))})})})})})})});nA.displayName=ls;var MV="MenuGroup",bw=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Re.div,{role:"group",...s,ref:t})});bw.displayName=MV;var AV="MenuLabel",rA=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Re.div,{...s,ref:t})});rA.displayName=AV;var Vh="MenuItem",lb="menu.itemSelect",tp=v.forwardRef((e,t)=>{const{disabled:n=!1,onSelect:s,...i}=e,o=v.useRef(null),l=Eu(Vh,e.__scopeMenu),d=jw(Vh,e.__scopeMenu),u=rt(t,o),h=v.useRef(!1),m=()=>{const p=o.current;if(!n&&p){const x=new CustomEvent(lb,{bubbles:!0,cancelable:!0});p.addEventListener(lb,j=>s==null?void 0:s(j),{once:!0}),Ly(p,x),x.defaultPrevented?h.current=!1:l.onClose()}};return r.jsx(sA,{...i,ref:u,disabled:n,onClick:fe(e.onClick,m),onPointerDown:p=>{var x;(x=e.onPointerDown)==null||x.call(e,p),h.current=!0},onPointerUp:fe(e.onPointerUp,p=>{var x;h.current||(x=p.currentTarget)==null||x.click()}),onKeyDown:fe(e.onKeyDown,p=>{const x=d.searchRef.current!=="";n||x&&p.key===" "||gv.includes(p.key)&&(p.currentTarget.click(),p.preventDefault())})})});tp.displayName=Vh;var sA=v.forwardRef((e,t)=>{const{__scopeMenu:n,disabled:s=!1,textValue:i,...o}=e,l=jw(Vh,n),d=XM(n),u=v.useRef(null),h=rt(t,u),[m,p]=v.useState(!1),[x,j]=v.useState("");return v.useEffect(()=>{const C=u.current;C&&j((C.textContent??"").trim())},[o.children]),r.jsx(Yd.ItemSlot,{scope:n,disabled:s,textValue:i??x,children:r.jsx(GM,{asChild:!0,...d,focusable:!s,children:r.jsx(Re.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":s||void 0,"data-disabled":s?"":void 0,...o,ref:h,onPointerMove:fe(e.onPointerMove,Qd(C=>{s?l.onItemLeave(C):(l.onItemEnter(C),C.defaultPrevented||C.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:fe(e.onPointerLeave,Qd(C=>l.onItemLeave(C))),onFocus:fe(e.onFocus,()=>p(!0)),onBlur:fe(e.onBlur,()=>p(!1))})})})}),RV="MenuCheckboxItem",iA=v.forwardRef((e,t)=>{const{checked:n=!1,onCheckedChange:s,...i}=e;return r.jsx(dA,{scope:e.__scopeMenu,checked:n,children:r.jsx(tp,{role:"menuitemcheckbox","aria-checked":Uh(n)?"mixed":n,...i,ref:t,"data-state":Sw(n),onSelect:fe(i.onSelect,()=>s==null?void 0:s(Uh(n)?!0:!n),{checkForDefaultPrevented:!1})})})});iA.displayName=RV;var aA="MenuRadioGroup",[LV,IV]=Bo(aA,{value:void 0,onValueChange:()=>{}}),oA=v.forwardRef((e,t)=>{const{value:n,onValueChange:s,...i}=e,o=Zn(s);return r.jsx(LV,{scope:e.__scopeMenu,value:n,onValueChange:o,children:r.jsx(bw,{...i,ref:t})})});oA.displayName=aA;var lA="MenuRadioItem",cA=v.forwardRef((e,t)=>{const{value:n,...s}=e,i=IV(lA,e.__scopeMenu),o=n===i.value;return r.jsx(dA,{scope:e.__scopeMenu,checked:o,children:r.jsx(tp,{role:"menuitemradio","aria-checked":o,...s,ref:t,"data-state":Sw(o),onSelect:fe(s.onSelect,()=>{var l;return(l=i.onValueChange)==null?void 0:l.call(i,n)},{checkForDefaultPrevented:!1})})})});cA.displayName=lA;var Nw="MenuItemIndicator",[dA,OV]=Bo(Nw,{checked:!1}),uA=v.forwardRef((e,t)=>{const{__scopeMenu:n,forceMount:s,...i}=e,o=OV(Nw,n);return r.jsx(Zr,{present:s||Uh(o.checked)||o.checked===!0,children:r.jsx(Re.span,{...i,ref:t,"data-state":Sw(o.checked)})})});uA.displayName=Nw;var DV="MenuSeparator",fA=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e;return r.jsx(Re.div,{role:"separator","aria-orientation":"horizontal",...s,ref:t})});fA.displayName=DV;var FV="MenuArrow",hA=v.forwardRef((e,t)=>{const{__scopeMenu:n,...s}=e,i=ep(n);return r.jsx(tw,{...i,...s,ref:t})});hA.displayName=FV;var zV="MenuSub",[KG,mA]=Bo(zV),cd="MenuSubTrigger",pA=v.forwardRef((e,t)=>{const n=$o(cd,e.__scopeMenu),s=Eu(cd,e.__scopeMenu),i=mA(cd,e.__scopeMenu),o=jw(cd,e.__scopeMenu),l=v.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:u}=o,h={__scopeMenu:e.__scopeMenu},m=v.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return v.useEffect(()=>m,[m]),v.useEffect(()=>{const p=d.current;return()=>{window.clearTimeout(p),u(null)}},[d,u]),r.jsx(yw,{asChild:!0,...h,children:r.jsx(sA,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":vA(n.open),...e,ref:Tm(t,i.onTriggerChange),onClick:p=>{var x;(x=e.onClick)==null||x.call(e,p),!(e.disabled||p.defaultPrevented)&&(p.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:fe(e.onPointerMove,Qd(p=>{o.onItemEnter(p),!p.defaultPrevented&&!e.disabled&&!n.open&&!l.current&&(o.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{n.onOpenChange(!0),m()},100))})),onPointerLeave:fe(e.onPointerLeave,Qd(p=>{var j,C;m();const x=(j=n.content)==null?void 0:j.getBoundingClientRect();if(x){const g=(C=n.content)==null?void 0:C.dataset.side,S=g==="right",_=S?-5:5,w=x[S?"left":"right"],N=x[S?"right":"left"];o.onPointerGraceIntentChange({area:[{x:p.clientX+_,y:p.clientY},{x:w,y:x.top},{x:N,y:x.top},{x:N,y:x.bottom},{x:w,y:x.bottom}],side:g}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.onPointerGraceIntentChange(null),300)}else{if(o.onTriggerLeave(p),p.defaultPrevented)return;o.onPointerGraceIntentChange(null)}})),onKeyDown:fe(e.onKeyDown,p=>{var j;const x=o.searchRef.current!=="";e.disabled||x&&p.key===" "||yV[s.dir].includes(p.key)&&(n.onOpenChange(!0),(j=n.content)==null||j.focus(),p.preventDefault())})})})});pA.displayName=cd;var gA="MenuSubContent",xA=v.forwardRef((e,t)=>{const n=eA(ls,e.__scopeMenu),{forceMount:s=n.forceMount,...i}=e,o=$o(ls,e.__scopeMenu),l=Eu(ls,e.__scopeMenu),d=mA(gA,e.__scopeMenu),u=v.useRef(null),h=rt(t,u);return r.jsx(Yd.Provider,{scope:e.__scopeMenu,children:r.jsx(Zr,{present:s||o.open,children:r.jsx(Yd.Slot,{scope:e.__scopeMenu,children:r.jsx(_w,{id:d.contentId,"aria-labelledby":d.triggerId,...i,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{var p;l.isUsingKeyboardRef.current&&((p=u.current)==null||p.focus()),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:fe(e.onFocusOutside,m=>{m.target!==d.trigger&&o.onOpenChange(!1)}),onEscapeKeyDown:fe(e.onEscapeKeyDown,m=>{l.onClose(),m.preventDefault()}),onKeyDown:fe(e.onKeyDown,m=>{var j;const p=m.currentTarget.contains(m.target),x=wV[l.dir].includes(m.key);p&&x&&(o.onOpenChange(!1),(j=d.trigger)==null||j.focus(),m.preventDefault())})})})})})});xA.displayName=gA;function vA(e){return e?"open":"closed"}function Uh(e){return e==="indeterminate"}function Sw(e){return Uh(e)?"indeterminate":e?"checked":"unchecked"}function BV(e){const t=document.activeElement;for(const n of e)if(n===t||(n.focus(),document.activeElement!==t))return}function $V(e,t){return e.map((n,s)=>e[(t+s)%e.length])}function VV(e,t,n){const i=t.length>1&&Array.from(t).every(h=>h===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let l=$V(e,Math.max(o,0));i.length===1&&(l=l.filter(h=>h!==n));const u=l.find(h=>h.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function UV(e,t){const{x:n,y:s}=e;let i=!1;for(let o=0,l=t.length-1;o<t.length;l=o++){const d=t[o].x,u=t[o].y,h=t[l].x,m=t[l].y;u>s!=m>s&&n<(h-d)*(s-u)/(m-u)+d&&(i=!i)}return i}function WV(e,t){if(!t)return!1;const n={x:e.clientX,y:e.clientY};return UV(n,t)}function Qd(e){return t=>t.pointerType==="mouse"?e(t):void 0}var HV=JM,qV=yw,ZV=tA,KV=nA,GV=bw,YV=rA,QV=tp,XV=iA,JV=oA,e9=cA,t9=uA,n9=fA,r9=hA,s9=pA,i9=xA,Cw="DropdownMenu",[a9,GG]=nr(Cw,[QM]),vr=QM(),[o9,yA]=a9(Cw),wA=e=>{const{__scopeDropdownMenu:t,children:n,dir:s,open:i,defaultOpen:o,onOpenChange:l,modal:d=!0}=e,u=vr(t),h=v.useRef(null),[m=!1,p]=Ur({prop:i,defaultProp:o,onChange:l});return r.jsx(o9,{scope:t,triggerId:os(),triggerRef:h,contentId:os(),open:m,onOpenChange:p,onOpenToggle:v.useCallback(()=>p(x=>!x),[p]),modal:d,children:r.jsx(HV,{...u,open:m,onOpenChange:p,dir:s,modal:d,children:n})})};wA.displayName=Cw;var jA="DropdownMenuTrigger",_A=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,disabled:s=!1,...i}=e,o=yA(jA,n),l=vr(n);return r.jsx(qV,{asChild:!0,...l,children:r.jsx(Re.button,{type:"button",id:o.triggerId,"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":o.open?o.contentId:void 0,"data-state":o.open?"open":"closed","data-disabled":s?"":void 0,disabled:s,...i,ref:Tm(t,o.triggerRef),onPointerDown:fe(e.onPointerDown,d=>{!s&&d.button===0&&d.ctrlKey===!1&&(o.onOpenToggle(),o.open||d.preventDefault())}),onKeyDown:fe(e.onKeyDown,d=>{s||(["Enter"," "].includes(d.key)&&o.onOpenToggle(),d.key==="ArrowDown"&&o.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});_A.displayName=jA;var l9="DropdownMenuPortal",bA=e=>{const{__scopeDropdownMenu:t,...n}=e,s=vr(t);return r.jsx(ZV,{...s,...n})};bA.displayName=l9;var NA="DropdownMenuContent",SA=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=yA(NA,n),o=vr(n),l=v.useRef(!1);return r.jsx(KV,{id:i.contentId,"aria-labelledby":i.triggerId,...o,...s,ref:t,onCloseAutoFocus:fe(e.onCloseAutoFocus,d=>{var u;l.current||(u=i.triggerRef.current)==null||u.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:fe(e.onInteractOutside,d=>{const u=d.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,m=u.button===2||h;(!i.modal||m)&&(l.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SA.displayName=NA;var c9="DropdownMenuGroup",d9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=vr(n);return r.jsx(GV,{...i,...s,ref:t})});d9.displayName=c9;var u9="DropdownMenuLabel",CA=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=vr(n);return r.jsx(YV,{...i,...s,ref:t})});CA.displayName=u9;var f9="DropdownMenuItem",PA=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=vr(n);return r.jsx(QV,{...i,...s,ref:t})});PA.displayName=f9;var h9="DropdownMenuCheckboxItem",kA=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=vr(n);return r.jsx(XV,{...i,...s,ref:t})});kA.displayName=h9;var m9="DropdownMenuRadioGroup",p9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=vr(n);return r.jsx(JV,{...i,...s,ref:t})});p9.displayName=m9;var g9="DropdownMenuRadioItem",TA=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=vr(n);return r.jsx(e9,{...i,...s,ref:t})});TA.displayName=g9;var x9="DropdownMenuItemIndicator",EA=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=vr(n);return r.jsx(t9,{...i,...s,ref:t})});EA.displayName=x9;var v9="DropdownMenuSeparator",MA=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=vr(n);return r.jsx(n9,{...i,...s,ref:t})});MA.displayName=v9;var y9="DropdownMenuArrow",w9=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=vr(n);return r.jsx(r9,{...i,...s,ref:t})});w9.displayName=y9;var j9="DropdownMenuSubTrigger",AA=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=vr(n);return r.jsx(s9,{...i,...s,ref:t})});AA.displayName=j9;var _9="DropdownMenuSubContent",RA=v.forwardRef((e,t)=>{const{__scopeDropdownMenu:n,...s}=e,i=vr(n);return r.jsx(i9,{...i,...s,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});RA.displayName=_9;var b9=wA,N9=_A,S9=bA,LA=SA,IA=CA,OA=PA,DA=kA,FA=TA,zA=EA,BA=MA,$A=AA,VA=RA;const C9=b9,P9=N9,k9=v.forwardRef(({className:e,inset:t,children:n,...s},i)=>r.jsxs($A,{ref:i,className:_e("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...s,children:[n,r.jsx(sT,{className:"ml-auto"})]}));k9.displayName=$A.displayName;const T9=v.forwardRef(({className:e,...t},n)=>r.jsx(VA,{ref:n,className:_e("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...t}));T9.displayName=VA.displayName;const UA=v.forwardRef(({className:e,sideOffset:t=4,...n},s)=>r.jsx(S9,{children:r.jsx(LA,{ref:s,sideOffset:t,className:_e("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",e),...n})}));UA.displayName=LA.displayName;const ta=v.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(OA,{ref:s,className:_e("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",t&&"pl-8",e),...n}));ta.displayName=OA.displayName;const E9=v.forwardRef(({className:e,children:t,checked:n,...s},i)=>r.jsxs(DA,{ref:i,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),checked:n,...s,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(zA,{children:r.jsx(zy,{className:"h-4 w-4"})})}),t]}));E9.displayName=DA.displayName;const M9=v.forwardRef(({className:e,children:t,...n},s)=>r.jsxs(FA,{ref:s,className:_e("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[r.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:r.jsx(zA,{children:r.jsx(Lz,{className:"h-2 w-2 fill-current"})})}),t]}));M9.displayName=FA.displayName;const WA=v.forwardRef(({className:e,inset:t,...n},s)=>r.jsx(IA,{ref:s,className:_e("px-2 py-1.5 text-sm font-semibold",t&&"pl-8",e),...n}));WA.displayName=IA.displayName;const dd=v.forwardRef(({className:e,...t},n)=>r.jsx(BA,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));dd.displayName=BA.displayName;const A9=SE,R9=CE,L9=PE,HA=v.forwardRef(({className:e,...t},n)=>r.jsx(Vm,{className:_e("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));HA.displayName=Vm.displayName;const I9=vc("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),qA=v.forwardRef(({side:e="right",className:t,children:n,...s},i)=>r.jsxs(L9,{children:[r.jsx(HA,{}),r.jsxs(Um,{ref:i,className:_e(I9({side:e}),t),...s,children:[n,r.jsxs(kE,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[r.jsx(wc,{className:"h-4 w-4"}),r.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));qA.displayName=Um.displayName;const O9=v.forwardRef(({className:e,...t},n)=>r.jsx(Wm,{ref:n,className:_e("text-lg font-semibold text-foreground",e),...t}));O9.displayName=Wm.displayName;const D9=v.forwardRef(({className:e,...t},n)=>r.jsx(Hm,{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));D9.displayName=Hm.displayName;function Tt({onAuthClick:e,onPostProjectClick:t}){var g,S;const[,n]=Ua(),{user:s,logoutMutation:i}=Sn(),[o,l]=v.useState(!1),{data:d=[]}=Je({queryKey:["/api/bookings"],enabled:!!s}),u=s?d.filter(_=>_.sellerUserId===s.id&&_.status==="pending").length:0,h=s?d.filter(_=>_.buyerUserId===s.id&&_.status==="accepted").length:0,m=u+h,p=()=>{i.mutate(),n("/")},x=()=>{t?t():s?n("/post-project"):e==null||e()},j=_=>{const w=document.getElementById(_);w&&w.scrollIntoView({behavior:"smooth",block:"start"})},C=[{href:"/search",label:"Browse Projects",testId:"nav-browse",type:"link"},{href:"how-it-works",label:"How it Works",testId:"nav-how-it-works",type:"scroll"},{href:"help",label:"Help",testId:"nav-help",type:"scroll"}];return r.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-border bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:r.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:r.jsxs("div",{className:"flex h-16 items-center justify-between",children:[r.jsx("div",{className:"flex items-center space-x-4",children:r.jsxs(Ct,{href:"/",className:"flex items-center space-x-2","data-testid":"link-home",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary flex items-center justify-center",children:r.jsx($y,{className:"h-4 w-4 text-primary-foreground"})}),r.jsx("span",{className:"text-xl font-bold text-primary",children:"OmahaShareHub"})]})}),r.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:C.map(_=>_.type==="scroll"?r.jsx("button",{onClick:()=>j(_.href),className:"text-muted-foreground hover:text-foreground transition-colors cursor-pointer","data-testid":_.testId,children:_.label},_.href):r.jsx(Ct,{href:_.href,className:"text-muted-foreground hover:text-foreground transition-colors","data-testid":_.testId,children:_.label},_.href))}),r.jsxs("div",{className:"flex items-center space-x-4",children:[s?r.jsxs(r.Fragment,{children:[r.jsxs(q,{variant:"ghost",size:"sm",className:"text-muted-foreground hover:text-foreground relative",onClick:()=>n("/bookings"),"data-testid":"button-notifications",children:[r.jsx(Fy,{className:"h-5 w-5"}),m>0&&r.jsx("span",{className:"absolute -top-1 -right-1 h-5 w-5 rounded-full bg-[hsl(15,80%,55%)] text-white text-xs font-bold flex items-center justify-center animate-pulse","data-testid":"notification-badge",children:m}),r.jsx("span",{className:"sr-only",children:"Notifications"})]}),r.jsxs(q,{size:"sm",onClick:x,className:"hidden sm:flex bg-secondary text-secondary-foreground hover:bg-secondary/90","data-testid":"button-post-project",children:[r.jsx(Li,{className:"h-4 w-4 mr-2"}),"Post Project"]}),r.jsxs(C9,{children:[r.jsx(P9,{asChild:!0,children:r.jsx(q,{variant:"ghost",className:"relative h-10 w-10 rounded-full","data-testid":"button-user-menu",children:r.jsx(zr,{className:"h-10 w-10",children:r.jsx(Br,{children:((S=(g=s.name)==null?void 0:g.charAt(0))==null?void 0:S.toUpperCase())||"U"})})})}),r.jsxs(UA,{className:"w-56",align:"end",forceMount:!0,children:[r.jsx(WA,{className:"font-normal",children:r.jsxs("div",{className:"flex flex-col space-y-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("p",{className:"text-sm font-medium leading-none",children:s.name}),s.isAdmin&&r.jsxs("span",{className:"inline-flex items-center rounded-full bg-orange-100 dark:bg-orange-900/30 px-2 py-0.5 text-xs font-medium text-orange-800 dark:text-orange-300",children:[r.jsx(Ln,{className:"mr-1 h-3 w-3"}),"Admin"]})]}),r.jsx("p",{className:"text-xs leading-none text-muted-foreground",children:s.email})]})}),r.jsx(dd,{}),r.jsx(ta,{asChild:!0,children:r.jsxs(Ct,{href:"/dashboard",className:"flex items-center w-full","data-testid":"menu-dashboard",children:[r.jsx(ki,{className:"mr-2 h-4 w-4"}),"Dashboard"]})}),r.jsx(ta,{asChild:!0,children:r.jsxs(Ct,{href:"/messages",className:"flex items-center w-full","data-testid":"menu-messages",children:[r.jsx(Ps,{className:"mr-2 h-4 w-4"}),"Messages"]})}),r.jsx(ta,{asChild:!0,children:r.jsxs(Ct,{href:"/saved",className:"flex items-center w-full","data-testid":"menu-saved",children:[r.jsx(To,{className:"mr-2 h-4 w-4"}),"Saved Projects"]})}),r.jsx(ta,{asChild:!0,children:r.jsxs(Ct,{href:"/profile",className:"flex items-center w-full","data-testid":"menu-profile",children:[r.jsx(ki,{className:"mr-2 h-4 w-4"}),"Profile"]})}),s.isAdmin&&r.jsxs(r.Fragment,{children:[r.jsx(dd,{}),r.jsx(ta,{asChild:!0,children:r.jsxs(Ct,{href:"/admin",className:"flex items-center w-full","data-testid":"menu-admin",children:[r.jsx(Ln,{className:"mr-2 h-4 w-4"}),"Admin Dashboard"]})})]}),r.jsx(dd,{}),r.jsx(ta,{asChild:!0,children:r.jsxs(Ct,{href:"/dashboard/settings",className:"flex items-center w-full","data-testid":"menu-settings",children:[r.jsx(Ah,{className:"mr-2 h-4 w-4"}),"Settings"]})}),r.jsx(dd,{}),r.jsxs(ta,{onClick:p,className:"text-destructive focus:text-destructive","data-testid":"menu-logout",children:[r.jsx(Dz,{className:"mr-2 h-4 w-4"}),"Log out"]})]})]})]}):r.jsxs(r.Fragment,{children:[r.jsx(q,{variant:"default",size:"sm",onClick:e,className:"hidden md:inline-flex","data-testid":"button-signin",children:"Sign In"}),r.jsx(q,{variant:"outline",size:"sm",onClick:e,className:"hidden md:inline-flex","data-testid":"button-get-started",children:"Get Started"})]}),r.jsxs(A9,{open:o,onOpenChange:l,children:[r.jsx(R9,{asChild:!0,children:r.jsxs(q,{variant:"ghost",size:"sm",className:"md:hidden","data-testid":"button-mobile-menu",children:[r.jsx(zz,{className:"h-5 w-5"}),r.jsx("span",{className:"sr-only",children:"Menu"})]})}),r.jsx(qA,{side:"right",className:"w-[300px] sm:w-[400px]",children:r.jsxs("nav",{className:"flex flex-col space-y-4",children:[C.map(_=>_.type==="scroll"?r.jsx("button",{onClick:()=>{j(_.href),l(!1)},className:"block px-2 py-1 text-lg font-medium text-foreground hover:text-primary transition-colors text-left",children:_.label},_.href):r.jsx(Ct,{href:_.href,className:"block px-2 py-1 text-lg font-medium text-foreground hover:text-primary transition-colors",onClick:()=>l(!1),children:_.label},_.href)),s?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"border-t pt-4 mt-4",children:[r.jsx(Ct,{href:"/dashboard",className:"block px-2 py-1 text-lg font-medium text-foreground hover:text-primary transition-colors",onClick:()=>l(!1),children:"Dashboard"}),r.jsx(Ct,{href:"/messages",className:"block px-2 py-1 text-lg font-medium text-foreground hover:text-primary transition-colors",onClick:()=>l(!1),children:"Messages"}),r.jsx(Ct,{href:"/saved",className:"block px-2 py-1 text-lg font-medium text-foreground hover:text-primary transition-colors",onClick:()=>l(!1),children:"Saved Projects"}),r.jsx(Ct,{href:"/profile",className:"block px-2 py-1 text-lg font-medium text-foreground hover:text-primary transition-colors",onClick:()=>l(!1),children:"Profile"}),s.isAdmin&&r.jsxs(Ct,{href:"/admin",className:"block px-2 py-1 text-lg font-medium text-orange-600 dark:text-orange-400 hover:text-primary transition-colors",onClick:()=>l(!1),children:[r.jsx(Ln,{className:"inline-block mr-2 h-5 w-5"}),"Admin Dashboard"]})]}),r.jsxs(q,{onClick:x,className:"bg-secondary text-secondary-foreground hover:bg-secondary/90",children:[r.jsx(Li,{className:"h-4 w-4 mr-2"}),"Post Project"]}),r.jsx(q,{variant:"outline",onClick:()=>{p(),l(!1)},children:"Log out"})]}):r.jsxs("div",{className:"border-t pt-4 mt-4 space-y-2",children:[r.jsx(q,{onClick:()=>{e==null||e(),l(!1)},className:"w-full",children:"Sign In"}),r.jsx(q,{variant:"outline",onClick:()=>{e==null||e(),l(!1)},className:"w-full",children:"Get Started"})]})]})})]})]})]})})})}function Lt(){const e=new Date().getFullYear(),t=[{title:"For Property Owners",links:[{href:"/post-project",label:"Post a Project"},{href:"/how-it-works",label:"How It Works"},{href:"/safety",label:"Safety & Trust"},{href:"/pricing",label:"Pricing"}]},{title:"For Service Providers",links:[{href:"/search",label:"Find Work"},{href:"/resources",label:"Provider Resources"},{href:"/success-stories",label:"Success Stories"},{href:"/community",label:"Community"}]},{title:"Support",links:[{href:"/help",label:"Help Center"},{href:"/contact",label:"Contact Us"},{href:"/terms",label:"Terms of Service"},{href:"/privacy",label:"Privacy Policy"}]}],n=[{href:"https://facebook.com",label:"Facebook",icon:"fab fa-facebook-f"},{href:"https://twitter.com",label:"Twitter",icon:"fab fa-twitter"},{href:"https://linkedin.com",label:"LinkedIn",icon:"fab fa-linkedin-in"},{href:"https://instagram.com",label:"Instagram",icon:"fab fa-instagram"}];return r.jsx("footer",{className:"bg-primary text-primary-foreground",children:r.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-12",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[r.jsx("div",{className:"h-8 w-8 rounded-lg bg-secondary flex items-center justify-center",children:r.jsx($y,{className:"h-4 w-4 text-white"})}),r.jsx("span",{className:"text-xl font-bold",children:"OmahaShareHub"})]}),r.jsx("p",{className:"text-primary-foreground/80 text-sm mb-4",children:"Connecting property owners with skilled service providers for seamless project completion."}),r.jsx("div",{className:"flex space-x-4",children:n.map(s=>r.jsx("a",{href:s.href,target:"_blank",rel:"noopener noreferrer",className:"text-primary-foreground/80 hover:text-primary-foreground transition-colors","aria-label":s.label,"data-testid":`link-social-${s.label.toLowerCase()}`,children:r.jsx("i",{className:s.icon})},s.label))})]}),t.map(s=>r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold mb-4",children:s.title}),r.jsx("ul",{className:"space-y-2 text-primary-foreground/80 text-sm",children:s.links.map(i=>r.jsx("li",{children:r.jsx(Ct,{href:i.href,className:"hover:text-primary-foreground transition-colors","data-testid":`link-footer-${i.label.toLowerCase().replace(/\s+/g,"-")}`,children:i.label})},i.href))})]},s.title))]}),r.jsx("div",{className:"border-t border-primary-foreground/20 mt-8 pt-8 text-center text-primary-foreground/80 text-sm",children:r.jsxs("p",{children:[" ",e," OmahaShareHub. All rights reserved."]})})]})})}var Pw="Checkbox",[F9,YG]=nr(Pw),[z9,B9]=F9(Pw),ZA=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:s,checked:i,defaultChecked:o,required:l,disabled:d,value:u="on",onCheckedChange:h,form:m,...p}=e,[x,j]=v.useState(null),C=rt(t,P=>j(P)),g=v.useRef(!1),S=x?m||!!x.closest("form"):!0,[_=!1,w]=Ur({prop:i,defaultProp:o,onChange:h}),N=v.useRef(_);return v.useEffect(()=>{const P=x==null?void 0:x.form;if(P){const M=()=>w(N.current);return P.addEventListener("reset",M),()=>P.removeEventListener("reset",M)}},[x,w]),r.jsxs(z9,{scope:n,state:_,disabled:d,children:[r.jsx(Re.button,{type:"button",role:"checkbox","aria-checked":Ta(_)?"mixed":_,"aria-required":l,"data-state":YA(_),"data-disabled":d?"":void 0,disabled:d,value:u,...p,ref:C,onKeyDown:fe(e.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:fe(e.onClick,P=>{w(M=>Ta(M)?!0:!M),S&&(g.current=P.isPropagationStopped(),g.current||P.stopPropagation())})}),S&&r.jsx($9,{control:x,bubbles:!g.current,name:s,value:u,checked:_,required:l,disabled:d,form:m,style:{transform:"translateX(-100%)"},defaultChecked:Ta(o)?!1:o})]})});ZA.displayName=Pw;var KA="CheckboxIndicator",GA=v.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:s,...i}=e,o=B9(KA,n);return r.jsx(Zr,{present:s||Ta(o.state)||o.state===!0,children:r.jsx(Re.span,{"data-state":YA(o.state),"data-disabled":o.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});GA.displayName=KA;var $9=e=>{const{control:t,checked:n,bubbles:s=!0,defaultChecked:i,...o}=e,l=v.useRef(null),d=qm(n),u=Om(t);v.useEffect(()=>{const m=l.current,p=window.HTMLInputElement.prototype,j=Object.getOwnPropertyDescriptor(p,"checked").set;if(d!==n&&j){const C=new Event("click",{bubbles:s});m.indeterminate=Ta(n),j.call(m,Ta(n)?!1:n),m.dispatchEvent(C)}},[d,n,s]);const h=v.useRef(Ta(n)?!1:n);return r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??h.current,...o,tabIndex:-1,ref:l,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ta(e){return e==="indeterminate"}function YA(e){return Ta(e)?"indeterminate":e?"checked":"unchecked"}var QA=ZA,V9=GA;const Di=v.forwardRef(({className:e,...t},n)=>r.jsx(QA,{ref:n,className:_e("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:r.jsx(V9,{className:_e("flex items-center justify-center text-current"),children:r.jsx(zy,{className:"h-4 w-4"})})}));Di.displayName=QA.displayName;var kw="Tabs",[U9,QG]=nr(kw,[Jm]),XA=Jm(),[W9,Tw]=U9(kw),JA=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,onValueChange:i,defaultValue:o,orientation:l="horizontal",dir:d,activationMode:u="automatic",...h}=e,m=Sc(d),[p,x]=Ur({prop:s,onChange:i,defaultProp:o});return r.jsx(W9,{scope:n,baseId:os(),value:p,onValueChange:x,orientation:l,dir:m,activationMode:u,children:r.jsx(Re.div,{dir:m,"data-orientation":l,...h,ref:t})})});JA.displayName=kw;var e4="TabsList",t4=v.forwardRef((e,t)=>{const{__scopeTabs:n,loop:s=!0,...i}=e,o=Tw(e4,n),l=XA(n);return r.jsx(KM,{asChild:!0,...l,orientation:o.orientation,dir:o.dir,loop:s,children:r.jsx(Re.div,{role:"tablist","aria-orientation":o.orientation,...i,ref:t})})});t4.displayName=e4;var n4="TabsTrigger",r4=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,disabled:i=!1,...o}=e,l=Tw(n4,n),d=XA(n),u=a4(l.baseId,s),h=o4(l.baseId,s),m=s===l.value;return r.jsx(GM,{asChild:!0,...d,focusable:!i,active:m,children:r.jsx(Re.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...o,ref:t,onMouseDown:fe(e.onMouseDown,p=>{!i&&p.button===0&&p.ctrlKey===!1?l.onValueChange(s):p.preventDefault()}),onKeyDown:fe(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&l.onValueChange(s)}),onFocus:fe(e.onFocus,()=>{const p=l.activationMode!=="manual";!m&&!i&&p&&l.onValueChange(s)})})})});r4.displayName=n4;var s4="TabsContent",i4=v.forwardRef((e,t)=>{const{__scopeTabs:n,value:s,forceMount:i,children:o,...l}=e,d=Tw(s4,n),u=a4(d.baseId,s),h=o4(d.baseId,s),m=s===d.value,p=v.useRef(m);return v.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),r.jsx(Zr,{present:i||m,children:({present:x})=>r.jsx(Re.div,{"data-state":m?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!x,id:h,tabIndex:0,...l,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:x&&o})})});i4.displayName=s4;function a4(e,t){return`${e}-trigger-${t}`}function o4(e,t){return`${e}-content-${t}`}var H9=JA,l4=t4,c4=r4,d4=i4;const qa=H9,$i=v.forwardRef(({className:e,...t},n)=>r.jsx(l4,{ref:n,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));$i.displayName=l4.displayName;const bt=v.forwardRef(({className:e,...t},n)=>r.jsx(c4,{ref:n,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));bt.displayName=c4.displayName;const Nt=v.forwardRef(({className:e,...t},n)=>r.jsx(d4,{ref:n,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Nt.displayName=d4.displayName;var Mu=e=>e.type==="checkbox",lo=e=>e instanceof Date,dr=e=>e==null;const u4=e=>typeof e=="object";var nn=e=>!dr(e)&&!Array.isArray(e)&&u4(e)&&!lo(e),f4=e=>nn(e)&&e.target?Mu(e.target)?e.target.checked:e.target.value:e,q9=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,h4=(e,t)=>e.has(q9(t)),Z9=e=>{const t=e.constructor&&e.constructor.prototype;return nn(t)&&t.hasOwnProperty("isPrototypeOf")},Ew=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Dn(e){let t;const n=Array.isArray(e),s=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Ew&&(e instanceof Blob||s))&&(n||nn(e)))if(t=n?[]:{},!n&&!Z9(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Dn(e[i]));else return e;return t}var np=e=>Array.isArray(e)?e.filter(Boolean):[],en=e=>e===void 0,ve=(e,t,n)=>{if(!t||!nn(e))return n;const s=np(t.split(/[,[\].]+?/)).reduce((i,o)=>dr(i)?i:i[o],e);return en(s)||s===e?en(e[t])?n:e[t]:s},Rr=e=>typeof e=="boolean",Mw=e=>/^\w*$/.test(e),m4=e=>np(e.replace(/["|']|\]/g,"").split(/\.|\[/)),St=(e,t,n)=>{let s=-1;const i=Mw(t)?[t]:m4(t),o=i.length,l=o-1;for(;++s<o;){const d=i[s];let u=n;if(s!==l){const h=e[d];u=nn(h)||Array.isArray(h)?h:isNaN(+i[s+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;e[d]=u,e=e[d]}};const Wh={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},js={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},gi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},p4=he.createContext(null),rp=()=>he.useContext(p4),K9=e=>{const{children:t,...n}=e;return he.createElement(p4.Provider,{value:n},t)};var g4=(e,t,n,s=!0)=>{const i={defaultValues:t._defaultValues};for(const o in e)Object.defineProperty(i,o,{get:()=>{const l=o;return t._proxyFormState[l]!==js.all&&(t._proxyFormState[l]=!s||js.all),n&&(n[l]=!0),e[l]}});return i};function G9(e){const t=rp(),{control:n=t.control,disabled:s,name:i,exact:o}=e||{},[l,d]=he.useState(n._formState),u=he.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),h=he.useRef(i);return h.current=i,he.useEffect(()=>n._subscribe({name:h.current,formState:u.current,exact:o,callback:m=>{!s&&d({...n._formState,...m})}}),[n,s,o]),he.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),he.useMemo(()=>g4(l,n,u.current,!1),[l,n])}var Js=e=>typeof e=="string",x4=(e,t,n,s,i)=>Js(e)?(s&&t.watch.add(e),ve(n,e,i)):Array.isArray(e)?e.map(o=>(s&&t.watch.add(o),ve(n,o))):(s&&(t.watchAll=!0),n);function Y9(e){const t=rp(),{control:n=t.control,name:s,defaultValue:i,disabled:o,exact:l}=e||{},d=he.useRef(s),u=he.useRef(i);d.current=s,he.useEffect(()=>n._subscribe({name:d.current,formState:{values:!0},exact:l,callback:p=>!o&&m(x4(d.current,n._names,p.values||n._formValues,!1,u.current))}),[n,o,l]);const[h,m]=he.useState(n._getWatch(s,i));return he.useEffect(()=>n._removeUnmounted()),h}function Q9(e){const t=rp(),{name:n,disabled:s,control:i=t.control,shouldUnregister:o}=e,l=h4(i._names.array,n),d=Y9({control:i,name:n,defaultValue:ve(i._formValues,n,ve(i._defaultValues,n,e.defaultValue)),exact:!0}),u=G9({control:i,name:n,exact:!0}),h=he.useRef(e),m=he.useRef(i.register(n,{...e.rules,value:d,...Rr(e.disabled)?{disabled:e.disabled}:{}})),p=he.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ve(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!ve(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!ve(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!ve(u.validatingFields,n)},error:{enumerable:!0,get:()=>ve(u.errors,n)}}),[u,n]),x=he.useCallback(S=>m.current.onChange({target:{value:f4(S),name:n},type:Wh.CHANGE}),[n]),j=he.useCallback(()=>m.current.onBlur({target:{value:ve(i._formValues,n),name:n},type:Wh.BLUR}),[n,i._formValues]),C=he.useCallback(S=>{const _=ve(i._fields,n);_&&S&&(_._f.ref={focus:()=>S.focus(),select:()=>S.select(),setCustomValidity:w=>S.setCustomValidity(w),reportValidity:()=>S.reportValidity()})},[i._fields,n]),g=he.useMemo(()=>({name:n,value:d,...Rr(s)||u.disabled?{disabled:u.disabled||s}:{},onChange:x,onBlur:j,ref:C}),[n,s,u.disabled,x,j,C,d]);return he.useEffect(()=>{const S=i._options.shouldUnregister||o;i.register(n,{...h.current.rules,...Rr(h.current.disabled)?{disabled:h.current.disabled}:{}});const _=(w,N)=>{const P=ve(i._fields,w);P&&P._f&&(P._f.mount=N)};if(_(n,!0),S){const w=Dn(ve(i._options.defaultValues,n));St(i._defaultValues,n,w),en(ve(i._formValues,n))&&St(i._formValues,n,w)}return!l&&i.register(n),()=>{(l?S&&!i._state.action:S)?i.unregister(n):_(n,!1)}},[n,i,l,o]),he.useEffect(()=>{i._setDisabledField({disabled:s,name:n})},[s,n,i]),he.useMemo(()=>({field:g,formState:u,fieldState:p}),[g,u,p])}const Xd=e=>e.render(Q9(e));var v4=(e,t,n,s,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[s]:i||!0}}:{},Sd=e=>Array.isArray(e)?e:[e],cb=()=>{let e=[];return{get observers(){return e},next:i=>{for(const o of e)o.next&&o.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(o=>o!==i)}}),unsubscribe:()=>{e=[]}}},xv=e=>dr(e)||!u4(e);function aa(e,t){if(xv(e)||xv(t))return e===t;if(lo(e)&&lo(t))return e.getTime()===t.getTime();const n=Object.keys(e),s=Object.keys(t);if(n.length!==s.length)return!1;for(const i of n){const o=e[i];if(!s.includes(i))return!1;if(i!=="ref"){const l=t[i];if(lo(o)&&lo(l)||nn(o)&&nn(l)||Array.isArray(o)&&Array.isArray(l)?!aa(o,l):o!==l)return!1}}return!0}var lr=e=>nn(e)&&!Object.keys(e).length,Aw=e=>e.type==="file",_s=e=>typeof e=="function",Hh=e=>{if(!Ew)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},y4=e=>e.type==="select-multiple",Rw=e=>e.type==="radio",X9=e=>Rw(e)||Mu(e),Mg=e=>Hh(e)&&e.isConnected;function J9(e,t){const n=t.slice(0,-1).length;let s=0;for(;s<n;)e=en(e)?s++:e[t[s++]];return e}function eU(e){for(const t in e)if(e.hasOwnProperty(t)&&!en(e[t]))return!1;return!0}function yn(e,t){const n=Array.isArray(t)?t:Mw(t)?[t]:m4(t),s=n.length===1?e:J9(e,n),i=n.length-1,o=n[i];return s&&delete s[o],i!==0&&(nn(s)&&lr(s)||Array.isArray(s)&&eU(s))&&yn(e,n.slice(0,-1)),e}var w4=e=>{for(const t in e)if(_s(e[t]))return!0;return!1};function qh(e,t={}){const n=Array.isArray(e);if(nn(e)||n)for(const s in e)Array.isArray(e[s])||nn(e[s])&&!w4(e[s])?(t[s]=Array.isArray(e[s])?[]:{},qh(e[s],t[s])):dr(e[s])||(t[s]=!0);return t}function j4(e,t,n){const s=Array.isArray(e);if(nn(e)||s)for(const i in e)Array.isArray(e[i])||nn(e[i])&&!w4(e[i])?en(t)||xv(n[i])?n[i]=Array.isArray(e[i])?qh(e[i],[]):{...qh(e[i])}:j4(e[i],dr(t)?{}:t[i],n[i]):n[i]=!aa(e[i],t[i]);return n}var Qc=(e,t)=>j4(e,t,qh(t));const db={value:!1,isValid:!1},ub={value:!0,isValid:!0};var _4=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!en(e[0].attributes.value)?en(e[0].value)||e[0].value===""?ub:{value:e[0].value,isValid:!0}:ub:db}return db},b4=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:s})=>en(e)?e:t?e===""?NaN:e&&+e:n&&Js(e)?new Date(e):s?s(e):e;const fb={isValid:!1,value:null};var N4=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,fb):fb;function hb(e){const t=e.ref;return Aw(t)?t.files:Rw(t)?N4(e.refs).value:y4(t)?[...t.selectedOptions].map(({value:n})=>n):Mu(t)?_4(e.refs).value:b4(en(t.value)?e.ref.value:t.value,e)}var tU=(e,t,n,s)=>{const i={};for(const o of e){const l=ve(t,o);l&&St(i,o,l._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:s}},Zh=e=>e instanceof RegExp,Xc=e=>en(e)?e:Zh(e)?e.source:nn(e)?Zh(e.value)?e.value.source:e.value:e,mb=e=>({isOnSubmit:!e||e===js.onSubmit,isOnBlur:e===js.onBlur,isOnChange:e===js.onChange,isOnAll:e===js.all,isOnTouch:e===js.onTouched});const pb="AsyncFunction";var nU=e=>!!e&&!!e.validate&&!!(_s(e.validate)&&e.validate.constructor.name===pb||nn(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===pb)),rU=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),gb=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(s=>e.startsWith(s)&&/^\.\w+/.test(e.slice(s.length))));const Cd=(e,t,n,s)=>{for(const i of n||Object.keys(e)){const o=ve(e,i);if(o){const{_f:l,...d}=o;if(l){if(l.refs&&l.refs[0]&&t(l.refs[0],i)&&!s)return!0;if(l.ref&&t(l.ref,l.name)&&!s)return!0;if(Cd(d,t))break}else if(nn(d)&&Cd(d,t))break}}};function xb(e,t,n){const s=ve(e,n);if(s||Mw(n))return{error:s,name:n};const i=n.split(".");for(;i.length;){const o=i.join("."),l=ve(t,o),d=ve(e,o);if(l&&!Array.isArray(l)&&n!==o)return{name:n};if(d&&d.type)return{name:o,error:d};i.pop()}return{name:n}}var sU=(e,t,n,s)=>{n(e);const{name:i,...o}=e;return lr(o)||Object.keys(o).length>=Object.keys(t).length||Object.keys(o).find(l=>t[l]===(!s||js.all))},iU=(e,t,n)=>!e||!t||e===t||Sd(e).some(s=>s&&(n?s===t:s.startsWith(t)||t.startsWith(s))),aU=(e,t,n,s,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?s.isOnBlur:i.isOnBlur)?!e:(n?s.isOnChange:i.isOnChange)?e:!0,oU=(e,t)=>!np(ve(e,t)).length&&yn(e,t),lU=(e,t,n)=>{const s=Sd(ve(e,n));return St(s,"root",t[n]),St(e,n,s),e},eh=e=>Js(e);function vb(e,t,n="validate"){if(eh(e)||Array.isArray(e)&&e.every(eh)||Rr(e)&&!e)return{type:n,message:eh(e)?e:"",ref:t}}var sl=e=>nn(e)&&!Zh(e)?e:{value:e,message:""},yb=async(e,t,n,s,i,o)=>{const{ref:l,refs:d,required:u,maxLength:h,minLength:m,min:p,max:x,pattern:j,validate:C,name:g,valueAsNumber:S,mount:_}=e._f,w=ve(n,g);if(!_||t.has(g))return{};const N=d?d[0]:l,P=V=>{i&&N.reportValidity&&(N.setCustomValidity(Rr(V)?"":V||""),N.reportValidity())},M={},A=Rw(l),R=Mu(l),F=A||R,Y=(S||Aw(l))&&en(l.value)&&en(w)||Hh(l)&&l.value===""||w===""||Array.isArray(w)&&!w.length,z=v4.bind(null,g,s,M),Z=(V,te,X,J=gi.maxLength,ne=gi.minLength)=>{const U=V?te:X;M[g]={type:V?J:ne,message:U,ref:l,...z(V?J:ne,U)}};if(o?!Array.isArray(w)||!w.length:u&&(!F&&(Y||dr(w))||Rr(w)&&!w||R&&!_4(d).isValid||A&&!N4(d).isValid)){const{value:V,message:te}=eh(u)?{value:!!u,message:u}:sl(u);if(V&&(M[g]={type:gi.required,message:te,ref:N,...z(gi.required,te)},!s))return P(te),M}if(!Y&&(!dr(p)||!dr(x))){let V,te;const X=sl(x),J=sl(p);if(!dr(w)&&!isNaN(w)){const ne=l.valueAsNumber||w&&+w;dr(X.value)||(V=ne>X.value),dr(J.value)||(te=ne<J.value)}else{const ne=l.valueAsDate||new Date(w),U=G=>new Date(new Date().toDateString()+" "+G),k=l.type=="time",W=l.type=="week";Js(X.value)&&w&&(V=k?U(w)>U(X.value):W?w>X.value:ne>new Date(X.value)),Js(J.value)&&w&&(te=k?U(w)<U(J.value):W?w<J.value:ne<new Date(J.value))}if((V||te)&&(Z(!!V,X.message,J.message,gi.max,gi.min),!s))return P(M[g].message),M}if((h||m)&&!Y&&(Js(w)||o&&Array.isArray(w))){const V=sl(h),te=sl(m),X=!dr(V.value)&&w.length>+V.value,J=!dr(te.value)&&w.length<+te.value;if((X||J)&&(Z(X,V.message,te.message),!s))return P(M[g].message),M}if(j&&!Y&&Js(w)){const{value:V,message:te}=sl(j);if(Zh(V)&&!w.match(V)&&(M[g]={type:gi.pattern,message:te,ref:l,...z(gi.pattern,te)},!s))return P(te),M}if(C){if(_s(C)){const V=await C(w,n),te=vb(V,N);if(te&&(M[g]={...te,...z(gi.validate,te.message)},!s))return P(te.message),M}else if(nn(C)){let V={};for(const te in C){if(!lr(V)&&!s)break;const X=vb(await C[te](w,n),N,te);X&&(V={...X,...z(te,X.message)},P(X.message),s&&(M[g]=V))}if(!lr(V)&&(M[g]={ref:N,...V},!s))return M}}return P(!0),M};const cU={mode:js.onSubmit,reValidateMode:js.onChange,shouldFocusError:!0};function dU(e={}){let t={...cU,...e},n={submitCount:0,isDirty:!1,isLoading:_s(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const s={};let i=nn(t.defaultValues)||nn(t.values)?Dn(t.values||t.defaultValues)||{}:{},o=t.shouldUnregister?{}:Dn(i),l={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,h=0;const m={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let p={...m};const x={array:cb(),state:cb()},j=mb(t.mode),C=mb(t.reValidateMode),g=t.criteriaMode===js.all,S=O=>K=>{clearTimeout(h),h=setTimeout(O,K)},_=async O=>{if(!t.disabled&&(m.isValid||p.isValid||O)){const K=t.resolver?lr((await Y()).errors):await Z(s,!0);K!==n.isValid&&x.state.next({isValid:K})}},w=(O,K)=>{!t.disabled&&(m.isValidating||m.validatingFields||p.isValidating||p.validatingFields)&&((O||Array.from(d.mount)).forEach(re=>{re&&(K?St(n.validatingFields,re,K):yn(n.validatingFields,re))}),x.state.next({validatingFields:n.validatingFields,isValidating:!lr(n.validatingFields)}))},N=(O,K=[],re,be,ge=!0,ue=!0)=>{if(be&&re&&!t.disabled){if(l.action=!0,ue&&Array.isArray(ve(s,O))){const Ee=re(ve(s,O),be.argA,be.argB);ge&&St(s,O,Ee)}if(ue&&Array.isArray(ve(n.errors,O))){const Ee=re(ve(n.errors,O),be.argA,be.argB);ge&&St(n.errors,O,Ee),oU(n.errors,O)}if((m.touchedFields||p.touchedFields)&&ue&&Array.isArray(ve(n.touchedFields,O))){const Ee=re(ve(n.touchedFields,O),be.argA,be.argB);ge&&St(n.touchedFields,O,Ee)}(m.dirtyFields||p.dirtyFields)&&(n.dirtyFields=Qc(i,o)),x.state.next({name:O,isDirty:te(O,K),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else St(o,O,K)},P=(O,K)=>{St(n.errors,O,K),x.state.next({errors:n.errors})},M=O=>{n.errors=O,x.state.next({errors:n.errors,isValid:!1})},A=(O,K,re,be)=>{const ge=ve(s,O);if(ge){const ue=ve(o,O,en(re)?ve(i,O):re);en(ue)||be&&be.defaultChecked||K?St(o,O,K?ue:hb(ge._f)):ne(O,ue),l.mount&&_()}},R=(O,K,re,be,ge)=>{let ue=!1,Ee=!1;const pt={name:O};if(!t.disabled){if(!re||be){(m.isDirty||p.isDirty)&&(Ee=n.isDirty,n.isDirty=pt.isDirty=te(),ue=Ee!==pt.isDirty);const Ut=aa(ve(i,O),K);Ee=!!ve(n.dirtyFields,O),Ut?yn(n.dirtyFields,O):St(n.dirtyFields,O,!0),pt.dirtyFields=n.dirtyFields,ue=ue||(m.dirtyFields||p.dirtyFields)&&Ee!==!Ut}if(re){const Ut=ve(n.touchedFields,O);Ut||(St(n.touchedFields,O,re),pt.touchedFields=n.touchedFields,ue=ue||(m.touchedFields||p.touchedFields)&&Ut!==re)}ue&&ge&&x.state.next(pt)}return ue?pt:{}},F=(O,K,re,be)=>{const ge=ve(n.errors,O),ue=(m.isValid||p.isValid)&&Rr(K)&&n.isValid!==K;if(t.delayError&&re?(u=S(()=>P(O,re)),u(t.delayError)):(clearTimeout(h),u=null,re?St(n.errors,O,re):yn(n.errors,O)),(re?!aa(ge,re):ge)||!lr(be)||ue){const Ee={...be,...ue&&Rr(K)?{isValid:K}:{},errors:n.errors,name:O};n={...n,...Ee},x.state.next(Ee)}},Y=async O=>{w(O,!0);const K=await t.resolver(o,t.context,tU(O||d.mount,s,t.criteriaMode,t.shouldUseNativeValidation));return w(O),K},z=async O=>{const{errors:K}=await Y(O);if(O)for(const re of O){const be=ve(K,re);be?St(n.errors,re,be):yn(n.errors,re)}else n.errors=K;return K},Z=async(O,K,re={valid:!0})=>{for(const be in O){const ge=O[be];if(ge){const{_f:ue,...Ee}=ge;if(ue){const pt=d.array.has(ue.name),Ut=ge._f&&nU(ge._f);Ut&&m.validatingFields&&w([be],!0);const vn=await yb(ge,d.disabled,o,g,t.shouldUseNativeValidation&&!K,pt);if(Ut&&m.validatingFields&&w([be]),vn[ue.name]&&(re.valid=!1,K))break;!K&&(ve(vn,ue.name)?pt?lU(n.errors,vn,ue.name):St(n.errors,ue.name,vn[ue.name]):yn(n.errors,ue.name))}!lr(Ee)&&await Z(Ee,K,re)}}return re.valid},V=()=>{for(const O of d.unMount){const K=ve(s,O);K&&(K._f.refs?K._f.refs.every(re=>!Mg(re)):!Mg(K._f.ref))&&me(O)}d.unMount=new Set},te=(O,K)=>!t.disabled&&(O&&K&&St(o,O,K),!aa(Me(),i)),X=(O,K,re)=>x4(O,d,{...l.mount?o:en(K)?i:Js(O)?{[O]:K}:K},re,K),J=O=>np(ve(l.mount?o:i,O,t.shouldUnregister?ve(i,O,[]):[])),ne=(O,K,re={})=>{const be=ve(s,O);let ge=K;if(be){const ue=be._f;ue&&(!ue.disabled&&St(o,O,b4(K,ue)),ge=Hh(ue.ref)&&dr(K)?"":K,y4(ue.ref)?[...ue.ref.options].forEach(Ee=>Ee.selected=ge.includes(Ee.value)):ue.refs?Mu(ue.ref)?ue.refs.length>1?ue.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(ge)?!!ge.find(pt=>pt===Ee.value):ge===Ee.value)):ue.refs[0]&&(ue.refs[0].checked=!!ge):ue.refs.forEach(Ee=>Ee.checked=Ee.value===ge):Aw(ue.ref)?ue.ref.value="":(ue.ref.value=ge,ue.ref.type||x.state.next({name:O,values:Dn(o)})))}(re.shouldDirty||re.shouldTouch)&&R(O,ge,re.shouldTouch,re.shouldDirty,!0),re.shouldValidate&&le(O)},U=(O,K,re)=>{for(const be in K){const ge=K[be],ue=`${O}.${be}`,Ee=ve(s,ue);(d.array.has(O)||nn(ge)||Ee&&!Ee._f)&&!lo(ge)?U(ue,ge,re):ne(ue,ge,re)}},k=(O,K,re={})=>{const be=ve(s,O),ge=d.array.has(O),ue=Dn(K);St(o,O,ue),ge?(x.array.next({name:O,values:Dn(o)}),(m.isDirty||m.dirtyFields||p.isDirty||p.dirtyFields)&&re.shouldDirty&&x.state.next({name:O,dirtyFields:Qc(i,o),isDirty:te(O,ue)})):be&&!be._f&&!dr(ue)?U(O,ue,re):ne(O,ue,re),gb(O,d)&&x.state.next({...n}),x.state.next({name:l.mount?O:void 0,values:Dn(o)})},W=async O=>{l.mount=!0;const K=O.target;let re=K.name,be=!0;const ge=ve(s,re),ue=Ee=>{be=Number.isNaN(Ee)||lo(Ee)&&isNaN(Ee.getTime())||aa(Ee,ve(o,re,Ee))};if(ge){let Ee,pt;const Ut=K.type?hb(ge._f):f4(O),vn=O.type===Wh.BLUR||O.type===Wh.FOCUS_OUT,up=!rU(ge._f)&&!t.resolver&&!ve(n.errors,re)&&!ge._f.deps||aU(vn,ve(n.touchedFields,re),n.isSubmitted,C,j),Wo=gb(re,d,vn);St(o,re,Ut),vn?(ge._f.onBlur&&ge._f.onBlur(O),u&&u(0)):ge._f.onChange&&ge._f.onChange(O);const Ka=R(re,Ut,vn),zu=!lr(Ka)||Wo;if(!vn&&x.state.next({name:re,type:O.type,values:Dn(o)}),up)return(m.isValid||p.isValid)&&(t.mode==="onBlur"?vn&&_():vn||_()),zu&&x.state.next({name:re,...Wo?{}:Ka});if(!vn&&Wo&&x.state.next({...n}),t.resolver){const{errors:Bu}=await Y([re]);if(ue(Ut),be){const Ga=xb(n.errors,s,re),$u=xb(Bu,s,Ga.name||re);Ee=$u.error,re=$u.name,pt=lr(Bu)}}else w([re],!0),Ee=(await yb(ge,d.disabled,o,g,t.shouldUseNativeValidation))[re],w([re]),ue(Ut),be&&(Ee?pt=!1:(m.isValid||p.isValid)&&(pt=await Z(s,!0)));be&&(ge._f.deps&&le(ge._f.deps),F(re,pt,Ee,Ka))}},G=(O,K)=>{if(ve(n.errors,K)&&O.focus)return O.focus(),1},le=async(O,K={})=>{let re,be;const ge=Sd(O);if(t.resolver){const ue=await z(en(O)?O:ge);re=lr(ue),be=O?!ge.some(Ee=>ve(ue,Ee)):re}else O?(be=(await Promise.all(ge.map(async ue=>{const Ee=ve(s,ue);return await Z(Ee&&Ee._f?{[ue]:Ee}:Ee)}))).every(Boolean),!(!be&&!n.isValid)&&_()):be=re=await Z(s);return x.state.next({...!Js(O)||(m.isValid||p.isValid)&&re!==n.isValid?{}:{name:O},...t.resolver||!O?{isValid:re}:{},errors:n.errors}),K.shouldFocus&&!be&&Cd(s,G,O?ge:d.mount),be},Me=O=>{const K={...l.mount?o:i};return en(O)?K:Js(O)?ve(K,O):O.map(re=>ve(K,re))},qe=(O,K)=>({invalid:!!ve((K||n).errors,O),isDirty:!!ve((K||n).dirtyFields,O),error:ve((K||n).errors,O),isValidating:!!ve(n.validatingFields,O),isTouched:!!ve((K||n).touchedFields,O)}),Pe=O=>{O&&Sd(O).forEach(K=>yn(n.errors,K)),x.state.next({errors:O?n.errors:{}})},Oe=(O,K,re)=>{const be=(ve(s,O,{_f:{}})._f||{}).ref,ge=ve(n.errors,O)||{},{ref:ue,message:Ee,type:pt,...Ut}=ge;St(n.errors,O,{...Ut,...K,ref:be}),x.state.next({name:O,errors:n.errors,isValid:!1}),re&&re.shouldFocus&&be&&be.focus&&be.focus()},ke=(O,K)=>_s(O)?x.state.subscribe({next:re=>O(X(void 0,K),re)}):X(O,K,!0),E=O=>x.state.subscribe({next:K=>{iU(O.name,K.name,O.exact)&&sU(K,O.formState||m,Ui,O.reRenderRoot)&&O.callback({values:{...o},...n,...K})}}).unsubscribe,B=O=>(l.mount=!0,p={...p,...O.formState},E({...O,formState:p})),me=(O,K={})=>{for(const re of O?Sd(O):d.mount)d.mount.delete(re),d.array.delete(re),K.keepValue||(yn(s,re),yn(o,re)),!K.keepError&&yn(n.errors,re),!K.keepDirty&&yn(n.dirtyFields,re),!K.keepTouched&&yn(n.touchedFields,re),!K.keepIsValidating&&yn(n.validatingFields,re),!t.shouldUnregister&&!K.keepDefaultValue&&yn(i,re);x.state.next({values:Dn(o)}),x.state.next({...n,...K.keepDirty?{isDirty:te()}:{}}),!K.keepIsValid&&_()},$e=({disabled:O,name:K})=>{(Rr(O)&&l.mount||O||d.disabled.has(K))&&(O?d.disabled.add(K):d.disabled.delete(K))},Ze=(O,K={})=>{let re=ve(s,O);const be=Rr(K.disabled)||Rr(t.disabled);return St(s,O,{...re||{},_f:{...re&&re._f?re._f:{ref:{name:O}},name:O,mount:!0,...K}}),d.mount.add(O),re?$e({disabled:Rr(K.disabled)?K.disabled:t.disabled,name:O}):A(O,!0,K.value),{...be?{disabled:K.disabled||t.disabled}:{},...t.progressive?{required:!!K.required,min:Xc(K.min),max:Xc(K.max),minLength:Xc(K.minLength),maxLength:Xc(K.maxLength),pattern:Xc(K.pattern)}:{},name:O,onChange:W,onBlur:W,ref:ge=>{if(ge){Ze(O,K),re=ve(s,O);const ue=en(ge.value)&&ge.querySelectorAll&&ge.querySelectorAll("input,select,textarea")[0]||ge,Ee=X9(ue),pt=re._f.refs||[];if(Ee?pt.find(Ut=>Ut===ue):ue===re._f.ref)return;St(s,O,{_f:{...re._f,...Ee?{refs:[...pt.filter(Mg),ue,...Array.isArray(ve(i,O))?[{}]:[]],ref:{type:ue.type,name:O}}:{ref:ue}}}),A(O,!1,void 0,ue)}else re=ve(s,O,{}),re._f&&(re._f.mount=!1),(t.shouldUnregister||K.shouldUnregister)&&!(h4(d.array,O)&&l.action)&&d.unMount.add(O)}}},lt=()=>t.shouldFocusError&&Cd(s,G,d.mount),xn=O=>{Rr(O)&&(x.state.next({disabled:O}),Cd(s,(K,re)=>{const be=ve(s,re);be&&(K.disabled=be._f.disabled||O,Array.isArray(be._f.refs)&&be._f.refs.forEach(ge=>{ge.disabled=be._f.disabled||O}))},0,!1))},rr=(O,K)=>async re=>{let be;re&&(re.preventDefault&&re.preventDefault(),re.persist&&re.persist());let ge=Dn(o);if(x.state.next({isSubmitting:!0}),t.resolver){const{errors:ue,values:Ee}=await Y();n.errors=ue,ge=Ee}else await Z(s);if(d.disabled.size)for(const ue of d.disabled)St(ge,ue,void 0);if(yn(n.errors,"root"),lr(n.errors)){x.state.next({errors:{}});try{await O(ge,re)}catch(ue){be=ue}}else K&&await K({...n.errors},re),lt(),setTimeout(lt);if(x.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:lr(n.errors)&&!be,submitCount:n.submitCount+1,errors:n.errors}),be)throw be},Fs=(O,K={})=>{ve(s,O)&&(en(K.defaultValue)?k(O,Dn(ve(i,O))):(k(O,K.defaultValue),St(i,O,Dn(K.defaultValue))),K.keepTouched||yn(n.touchedFields,O),K.keepDirty||(yn(n.dirtyFields,O),n.isDirty=K.defaultValue?te(O,Dn(ve(i,O))):te()),K.keepError||(yn(n.errors,O),m.isValid&&_()),x.state.next({...n}))},us=(O,K={})=>{const re=O?Dn(O):i,be=Dn(re),ge=lr(O),ue=ge?i:be;if(K.keepDefaultValues||(i=re),!K.keepValues){if(K.keepDirtyValues){const Ee=new Set([...d.mount,...Object.keys(Qc(i,o))]);for(const pt of Array.from(Ee))ve(n.dirtyFields,pt)?St(ue,pt,ve(o,pt)):k(pt,ve(ue,pt))}else{if(Ew&&en(O))for(const Ee of d.mount){const pt=ve(s,Ee);if(pt&&pt._f){const Ut=Array.isArray(pt._f.refs)?pt._f.refs[0]:pt._f.ref;if(Hh(Ut)){const vn=Ut.closest("form");if(vn){vn.reset();break}}}}for(const Ee of d.mount)k(Ee,ve(ue,Ee))}o=Dn(ue),x.array.next({values:{...ue}}),x.state.next({values:{...ue}})}d={mount:K.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!m.isValid||!!K.keepIsValid||!!K.keepDirtyValues,l.watch=!!t.shouldUnregister,x.state.next({submitCount:K.keepSubmitCount?n.submitCount:0,isDirty:ge?!1:K.keepDirty?n.isDirty:!!(K.keepDefaultValues&&!aa(O,i)),isSubmitted:K.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:ge?{}:K.keepDirtyValues?K.keepDefaultValues&&o?Qc(i,o):n.dirtyFields:K.keepDefaultValues&&O?Qc(i,O):K.keepDirty?n.dirtyFields:{},touchedFields:K.keepTouched?n.touchedFields:{},errors:K.keepErrors?n.errors:{},isSubmitSuccessful:K.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Kr=(O,K)=>us(_s(O)?O(o):O,K),Vi=(O,K={})=>{const re=ve(s,O),be=re&&re._f;if(be){const ge=be.refs?be.refs[0]:be.ref;ge.focus&&(ge.focus(),K.shouldSelect&&_s(ge.select)&&ge.select())}},Ui=O=>{n={...n,...O}},Uo={control:{register:Ze,unregister:me,getFieldState:qe,handleSubmit:rr,setError:Oe,_subscribe:E,_runSchema:Y,_getWatch:X,_getDirty:te,_setValid:_,_setFieldArray:N,_setDisabledField:$e,_setErrors:M,_getFieldArray:J,_reset:us,_resetDefaultValues:()=>_s(t.defaultValues)&&t.defaultValues().then(O=>{Kr(O,t.resetOptions),x.state.next({isLoading:!1})}),_removeUnmounted:V,_disableForm:xn,_subjects:x,_proxyFormState:m,get _fields(){return s},get _formValues(){return o},get _state(){return l},set _state(O){l=O},get _defaultValues(){return i},get _names(){return d},set _names(O){d=O},get _formState(){return n},get _options(){return t},set _options(O){t={...t,...O}}},subscribe:B,trigger:le,register:Ze,handleSubmit:rr,watch:ke,setValue:k,getValues:Me,reset:Kr,resetField:Fs,clearErrors:Pe,unregister:me,setError:Oe,setFocus:Vi,getFieldState:qe};return{...Uo,formControl:Uo}}function Wn(e={}){const t=he.useRef(void 0),n=he.useRef(void 0),[s,i]=he.useState({isDirty:!1,isValidating:!1,isLoading:_s(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:_s(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:dU(e),formState:s},e.formControl&&e.defaultValues&&!_s(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const o=t.current.control;return o._options=e,he.useLayoutEffect(()=>o._subscribe({formState:o._proxyFormState,callback:()=>i({...o._formState}),reRenderRoot:!0}),[o]),he.useEffect(()=>o._disableForm(e.disabled),[o,e.disabled]),he.useEffect(()=>{if(o._proxyFormState.isDirty){const l=o._getDirty();l!==s.isDirty&&o._subjects.state.next({isDirty:l})}},[o,s.isDirty]),he.useEffect(()=>{e.values&&!aa(e.values,n.current)?(o._reset(e.values,o._options.resetOptions),n.current=e.values,i(l=>({...l}))):o._resetDefaultValues()},[e.values,o]),he.useEffect(()=>{e.errors&&!lr(e.errors)&&o._setErrors(e.errors)},[e.errors,o]),he.useEffect(()=>{o._state.mount||(o._setValid(),o._state.mount=!0),o._state.watch&&(o._state.watch=!1,o._subjects.state.next({...o._formState})),o._removeUnmounted()}),he.useEffect(()=>{e.shouldUnregister&&o._subjects.state.next({values:o._getWatch()})},[e.shouldUnregister,o]),t.current.formState=g4(s,o),t.current}const wb=(e,t,n)=>{if(e&&"reportValidity"in e){const s=ve(n,t);e.setCustomValidity(s&&s.message||""),e.reportValidity()}},S4=(e,t)=>{for(const n in t.fields){const s=t.fields[n];s&&s.ref&&"reportValidity"in s.ref?wb(s.ref,n,e):s.refs&&s.refs.forEach(i=>wb(i,n,e))}},uU=(e,t)=>{t.shouldUseNativeValidation&&S4(e,t);const n={};for(const s in e){const i=ve(t.fields,s),o=Object.assign(e[s]||{},{ref:i&&i.ref});if(fU(t.names||Object.keys(e),s)){const l=Object.assign({},ve(n,s));St(l,"root",o),St(n,s,l)}else St(n,s,o)}return n},fU=(e,t)=>e.some(n=>n.startsWith(t+"."));var hU=function(e,t){for(var n={};e.length;){var s=e[0],i=s.code,o=s.message,l=s.path.join(".");if(!n[l])if("unionErrors"in s){var d=s.unionErrors[0].errors[0];n[l]={message:d.message,type:d.code}}else n[l]={message:o,type:i};if("unionErrors"in s&&s.unionErrors.forEach(function(m){return m.errors.forEach(function(p){return e.push(p)})}),t){var u=n[l].types,h=u&&u[s.code];n[l]=v4(l,t,n,i,h?[].concat(h,s.message):s.message)}e.shift()}return n},Hn=function(e,t,n){return n===void 0&&(n={}),function(s,i,o){try{return Promise.resolve(function(l,d){try{var u=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](s,t)).then(function(h){return o.shouldUseNativeValidation&&S4({},o),{errors:{},values:n.raw?s:h}})}catch(h){return d(h)}return u&&u.then?u.then(void 0,d):u}(0,function(l){if(function(d){return Array.isArray(d==null?void 0:d.errors)}(l))return{values:{},errors:uU(hU(l.errors,!o.shouldUseNativeValidation&&o.criteriaMode==="all"),o)};throw l}))}catch(l){return Promise.reject(l)}}},xt;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const o={};for(const l of i)o[l]=l;return o},e.getValidEnumValues=i=>{const o=e.objectKeys(i).filter(d=>typeof i[i[d]]!="number"),l={};for(const d of o)l[d]=i[d];return e.objectValues(l)},e.objectValues=i=>e.objectKeys(i).map(function(o){return i[o]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const o=[];for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&o.push(l);return o},e.find=(i,o)=>{for(const l of i)if(o(l))return l},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function s(i,o=" | "){return i.map(l=>typeof l=="string"?`'${l}'`:l).join(o)}e.joinValues=s,e.jsonStringifyReplacer=(i,o)=>typeof o=="bigint"?o.toString():o})(xt||(xt={}));var vv;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(vv||(vv={}));const Ce=xt.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),bi=e=>{switch(typeof e){case"undefined":return Ce.undefined;case"string":return Ce.string;case"number":return isNaN(e)?Ce.nan:Ce.number;case"boolean":return Ce.boolean;case"function":return Ce.function;case"bigint":return Ce.bigint;case"symbol":return Ce.symbol;case"object":return Array.isArray(e)?Ce.array:e===null?Ce.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Ce.promise:typeof Map<"u"&&e instanceof Map?Ce.map:typeof Set<"u"&&e instanceof Set?Ce.set:typeof Date<"u"&&e instanceof Date?Ce.date:Ce.object;default:return Ce.unknown}},ce=xt.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),mU=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class $r extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=s=>{this.issues=[...this.issues,s]},this.addIssues=(s=[])=>{this.issues=[...this.issues,...s]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(o){return o.message},s={_errors:[]},i=o=>{for(const l of o.issues)if(l.code==="invalid_union")l.unionErrors.map(i);else if(l.code==="invalid_return_type")i(l.returnTypeError);else if(l.code==="invalid_arguments")i(l.argumentsError);else if(l.path.length===0)s._errors.push(n(l));else{let d=s,u=0;for(;u<l.path.length;){const h=l.path[u];u===l.path.length-1?(d[h]=d[h]||{_errors:[]},d[h]._errors.push(n(l))):d[h]=d[h]||{_errors:[]},d=d[h],u++}}};return i(this),s}static assert(t){if(!(t instanceof $r))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,xt.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},s=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):s.push(t(i));return{formErrors:s,fieldErrors:n}}get formErrors(){return this.flatten()}}$r.create=e=>new $r(e);const ac=(e,t)=>{let n;switch(e.code){case ce.invalid_type:e.received===Ce.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case ce.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,xt.jsonStringifyReplacer)}`;break;case ce.unrecognized_keys:n=`Unrecognized key(s) in object: ${xt.joinValues(e.keys,", ")}`;break;case ce.invalid_union:n="Invalid input";break;case ce.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${xt.joinValues(e.options)}`;break;case ce.invalid_enum_value:n=`Invalid enum value. Expected ${xt.joinValues(e.options)}, received '${e.received}'`;break;case ce.invalid_arguments:n="Invalid function arguments";break;case ce.invalid_return_type:n="Invalid function return type";break;case ce.invalid_date:n="Invalid date";break;case ce.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:xt.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case ce.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case ce.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case ce.custom:n="Invalid input";break;case ce.invalid_intersection_types:n="Intersection results could not be merged";break;case ce.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case ce.not_finite:n="Number must be finite";break;default:n=t.defaultError,xt.assertNever(e)}return{message:n}};let C4=ac;function pU(e){C4=e}function Kh(){return C4}const Gh=e=>{const{data:t,path:n,errorMaps:s,issueData:i}=e,o=[...n,...i.path||[]],l={...i,path:o};if(i.message!==void 0)return{...i,path:o,message:i.message};let d="";const u=s.filter(h=>!!h).slice().reverse();for(const h of u)d=h(l,{data:t,defaultError:d}).message;return{...i,path:o,message:d}},gU=[];function ye(e,t){const n=Kh(),s=Gh({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ac?void 0:ac].filter(i=>!!i)});e.common.issues.push(s)}class tr{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const s=[];for(const i of n){if(i.status==="aborted")return He;i.status==="dirty"&&t.dirty(),s.push(i.value)}return{status:t.value,value:s}}static async mergeObjectAsync(t,n){const s=[];for(const i of n){const o=await i.key,l=await i.value;s.push({key:o,value:l})}return tr.mergeObjectSync(t,s)}static mergeObjectSync(t,n){const s={};for(const i of n){const{key:o,value:l}=i;if(o.status==="aborted"||l.status==="aborted")return He;o.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),o.value!=="__proto__"&&(typeof l.value<"u"||i.alwaysSet)&&(s[o.value]=l.value)}return{status:t.value,value:s}}}const He=Object.freeze({status:"aborted"}),wl=e=>({status:"dirty",value:e}),pr=e=>({status:"valid",value:e}),yv=e=>e.status==="aborted",wv=e=>e.status==="dirty",Lo=e=>e.status==="valid",Jd=e=>typeof Promise<"u"&&e instanceof Promise;function Yh(e,t,n,s){if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return t.get(e)}function P4(e,t,n,s,i){if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return t.set(e,n),n}var Le;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Le||(Le={}));var ud,fd;class oi{constructor(t,n,s,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=s,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const jb=(e,t)=>{if(Lo(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new $r(e.common.issues);return this._error=n,this._error}}};function Ge(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:s,description:i}=e;if(t&&(n||s))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(l,d)=>{var u,h;const{message:m}=e;return l.code==="invalid_enum_value"?{message:m??d.defaultError}:typeof d.data>"u"?{message:(u=m??s)!==null&&u!==void 0?u:d.defaultError}:l.code!=="invalid_type"?{message:d.defaultError}:{message:(h=m??n)!==null&&h!==void 0?h:d.defaultError}},description:i}}class nt{get description(){return this._def.description}_getType(t){return bi(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:bi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new tr,ctx:{common:t.parent.common,data:t.data,parsedType:bi(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Jd(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const s=this.safeParse(t,n);if(s.success)return s.data;throw s.error}safeParse(t,n){var s;const i={common:{issues:[],async:(s=n==null?void 0:n.async)!==null&&s!==void 0?s:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bi(t)},o=this._parseSync({data:t,path:i.path,parent:i});return jb(i,o)}"~validate"(t){var n,s;const i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bi(t)};if(!this["~standard"].async)try{const o=this._parseSync({data:t,path:[],parent:i});return Lo(o)?{value:o.value}:{issues:i.common.issues}}catch(o){!((s=(n=o==null?void 0:o.message)===null||n===void 0?void 0:n.toLowerCase())===null||s===void 0)&&s.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(o=>Lo(o)?{value:o.value}:{issues:i.common.issues})}async parseAsync(t,n){const s=await this.safeParseAsync(t,n);if(s.success)return s.data;throw s.error}async safeParseAsync(t,n){const s={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:bi(t)},i=this._parse({data:t,path:s.path,parent:s}),o=await(Jd(i)?i:Promise.resolve(i));return jb(s,o)}refine(t,n){const s=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,o)=>{const l=t(i),d=()=>o.addIssue({code:ce.custom,...s(i)});return typeof Promise<"u"&&l instanceof Promise?l.then(u=>u?!0:(d(),!1)):l?!0:(d(),!1)})}refinement(t,n){return this._refinement((s,i)=>t(s)?!0:(i.addIssue(typeof n=="function"?n(s,i):n),!1))}_refinement(t){return new Rs({schema:this,typeName:Ue.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return ii.create(this,this._def)}nullable(){return Fa.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ks.create(this)}promise(){return lc.create(this,this._def)}or(t){return ru.create([this,t],this._def)}and(t){return su.create(this,t,this._def)}transform(t){return new Rs({...Ge(this._def),schema:this,typeName:Ue.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new cu({...Ge(this._def),innerType:this,defaultValue:n,typeName:Ue.ZodDefault})}brand(){return new Lw({typeName:Ue.ZodBranded,type:this,...Ge(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new du({...Ge(this._def),innerType:this,catchValue:n,typeName:Ue.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Au.create(this,t)}readonly(){return uu.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const xU=/^c[^\s-]{8,}$/i,vU=/^[0-9a-z]+$/,yU=/^[0-9A-HJKMNP-TV-Z]{26}$/i,wU=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,jU=/^[a-z0-9_-]{21}$/i,_U=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,bU=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,NU=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,SU="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Ag;const CU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,PU=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,kU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,TU=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,EU=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,MU=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,k4="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",AU=new RegExp(`^${k4}$`);function T4(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function RU(e){return new RegExp(`^${T4(e)}$`)}function E4(e){let t=`${k4}T${T4(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function LU(e,t){return!!((t==="v4"||!t)&&CU.test(e)||(t==="v6"||!t)&&kU.test(e))}function IU(e,t){if(!_U.test(e))return!1;try{const[n]=e.split("."),s=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(s));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function OU(e,t){return!!((t==="v4"||!t)&&PU.test(e)||(t==="v6"||!t)&&TU.test(e))}class bs extends nt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Ce.string){const o=this._getOrReturnCtx(t);return ye(o,{code:ce.invalid_type,expected:Ce.string,received:o.parsedType}),He}const s=new tr;let i;for(const o of this._def.checks)if(o.kind==="min")t.data.length<o.value&&(i=this._getOrReturnCtx(t,i),ye(i,{code:ce.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="max")t.data.length>o.value&&(i=this._getOrReturnCtx(t,i),ye(i,{code:ce.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!1,message:o.message}),s.dirty());else if(o.kind==="length"){const l=t.data.length>o.value,d=t.data.length<o.value;(l||d)&&(i=this._getOrReturnCtx(t,i),l?ye(i,{code:ce.too_big,maximum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}):d&&ye(i,{code:ce.too_small,minimum:o.value,type:"string",inclusive:!0,exact:!0,message:o.message}),s.dirty())}else if(o.kind==="email")NU.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"email",code:ce.invalid_string,message:o.message}),s.dirty());else if(o.kind==="emoji")Ag||(Ag=new RegExp(SU,"u")),Ag.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"emoji",code:ce.invalid_string,message:o.message}),s.dirty());else if(o.kind==="uuid")wU.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"uuid",code:ce.invalid_string,message:o.message}),s.dirty());else if(o.kind==="nanoid")jU.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"nanoid",code:ce.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid")xU.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"cuid",code:ce.invalid_string,message:o.message}),s.dirty());else if(o.kind==="cuid2")vU.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"cuid2",code:ce.invalid_string,message:o.message}),s.dirty());else if(o.kind==="ulid")yU.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"ulid",code:ce.invalid_string,message:o.message}),s.dirty());else if(o.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),ye(i,{validation:"url",code:ce.invalid_string,message:o.message}),s.dirty()}else o.kind==="regex"?(o.regex.lastIndex=0,o.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"regex",code:ce.invalid_string,message:o.message}),s.dirty())):o.kind==="trim"?t.data=t.data.trim():o.kind==="includes"?t.data.includes(o.value,o.position)||(i=this._getOrReturnCtx(t,i),ye(i,{code:ce.invalid_string,validation:{includes:o.value,position:o.position},message:o.message}),s.dirty()):o.kind==="toLowerCase"?t.data=t.data.toLowerCase():o.kind==="toUpperCase"?t.data=t.data.toUpperCase():o.kind==="startsWith"?t.data.startsWith(o.value)||(i=this._getOrReturnCtx(t,i),ye(i,{code:ce.invalid_string,validation:{startsWith:o.value},message:o.message}),s.dirty()):o.kind==="endsWith"?t.data.endsWith(o.value)||(i=this._getOrReturnCtx(t,i),ye(i,{code:ce.invalid_string,validation:{endsWith:o.value},message:o.message}),s.dirty()):o.kind==="datetime"?E4(o).test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{code:ce.invalid_string,validation:"datetime",message:o.message}),s.dirty()):o.kind==="date"?AU.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{code:ce.invalid_string,validation:"date",message:o.message}),s.dirty()):o.kind==="time"?RU(o).test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{code:ce.invalid_string,validation:"time",message:o.message}),s.dirty()):o.kind==="duration"?bU.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"duration",code:ce.invalid_string,message:o.message}),s.dirty()):o.kind==="ip"?LU(t.data,o.version)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"ip",code:ce.invalid_string,message:o.message}),s.dirty()):o.kind==="jwt"?IU(t.data,o.alg)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"jwt",code:ce.invalid_string,message:o.message}),s.dirty()):o.kind==="cidr"?OU(t.data,o.version)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"cidr",code:ce.invalid_string,message:o.message}),s.dirty()):o.kind==="base64"?EU.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"base64",code:ce.invalid_string,message:o.message}),s.dirty()):o.kind==="base64url"?MU.test(t.data)||(i=this._getOrReturnCtx(t,i),ye(i,{validation:"base64url",code:ce.invalid_string,message:o.message}),s.dirty()):xt.assertNever(o);return{status:s.value,value:t.data}}_regex(t,n,s){return this.refinement(i=>t.test(i),{validation:n,code:ce.invalid_string,...Le.errToObj(s)})}_addCheck(t){return new bs({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Le.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Le.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Le.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Le.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Le.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Le.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Le.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Le.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Le.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Le.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Le.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Le.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Le.errToObj(t)})}datetime(t){var n,s;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,local:(s=t==null?void 0:t.local)!==null&&s!==void 0?s:!1,...Le.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Le.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Le.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Le.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Le.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Le.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Le.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Le.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Le.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Le.errToObj(n)})}nonempty(t){return this.min(1,Le.errToObj(t))}trim(){return new bs({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bs({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bs({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}bs.create=e=>{var t;return new bs({checks:[],typeName:Ue.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};function DU(e,t){const n=(e.toString().split(".")[1]||"").length,s=(t.toString().split(".")[1]||"").length,i=n>s?n:s,o=parseInt(e.toFixed(i).replace(".","")),l=parseInt(t.toFixed(i).replace(".",""));return o%l/Math.pow(10,i)}class Ia extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Ce.number){const o=this._getOrReturnCtx(t);return ye(o,{code:ce.invalid_type,expected:Ce.number,received:o.parsedType}),He}let s;const i=new tr;for(const o of this._def.checks)o.kind==="int"?xt.isInteger(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{code:ce.invalid_type,expected:"integer",received:"float",message:o.message}),i.dirty()):o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(s=this._getOrReturnCtx(t,s),ye(s,{code:ce.too_small,minimum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(s=this._getOrReturnCtx(t,s),ye(s,{code:ce.too_big,maximum:o.value,type:"number",inclusive:o.inclusive,exact:!1,message:o.message}),i.dirty()):o.kind==="multipleOf"?DU(t.data,o.value)!==0&&(s=this._getOrReturnCtx(t,s),ye(s,{code:ce.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):o.kind==="finite"?Number.isFinite(t.data)||(s=this._getOrReturnCtx(t,s),ye(s,{code:ce.not_finite,message:o.message}),i.dirty()):xt.assertNever(o);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Le.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Le.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Le.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Le.toString(n))}setLimit(t,n,s,i){return new Ia({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Le.toString(i)}]})}_addCheck(t){return new Ia({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Le.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Le.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Le.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Le.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Le.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Le.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&xt.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const s of this._def.checks){if(s.kind==="finite"||s.kind==="int"||s.kind==="multipleOf")return!0;s.kind==="min"?(n===null||s.value>n)&&(n=s.value):s.kind==="max"&&(t===null||s.value<t)&&(t=s.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Ia.create=e=>new Ia({checks:[],typeName:Ue.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class Oa extends nt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Ce.bigint)return this._getInvalidInput(t);let s;const i=new tr;for(const o of this._def.checks)o.kind==="min"?(o.inclusive?t.data<o.value:t.data<=o.value)&&(s=this._getOrReturnCtx(t,s),ye(s,{code:ce.too_small,type:"bigint",minimum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="max"?(o.inclusive?t.data>o.value:t.data>=o.value)&&(s=this._getOrReturnCtx(t,s),ye(s,{code:ce.too_big,type:"bigint",maximum:o.value,inclusive:o.inclusive,message:o.message}),i.dirty()):o.kind==="multipleOf"?t.data%o.value!==BigInt(0)&&(s=this._getOrReturnCtx(t,s),ye(s,{code:ce.not_multiple_of,multipleOf:o.value,message:o.message}),i.dirty()):xt.assertNever(o);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return ye(n,{code:ce.invalid_type,expected:Ce.bigint,received:n.parsedType}),He}gte(t,n){return this.setLimit("min",t,!0,Le.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Le.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Le.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Le.toString(n))}setLimit(t,n,s,i){return new Oa({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:s,message:Le.toString(i)}]})}_addCheck(t){return new Oa({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Le.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Le.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Le.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Le.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Le.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Oa.create=e=>{var t;return new Oa({checks:[],typeName:Ue.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ge(e)})};class eu extends nt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Ce.boolean){const s=this._getOrReturnCtx(t);return ye(s,{code:ce.invalid_type,expected:Ce.boolean,received:s.parsedType}),He}return pr(t.data)}}eu.create=e=>new eu({typeName:Ue.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ge(e)});class Io extends nt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Ce.date){const o=this._getOrReturnCtx(t);return ye(o,{code:ce.invalid_type,expected:Ce.date,received:o.parsedType}),He}if(isNaN(t.data.getTime())){const o=this._getOrReturnCtx(t);return ye(o,{code:ce.invalid_date}),He}const s=new tr;let i;for(const o of this._def.checks)o.kind==="min"?t.data.getTime()<o.value&&(i=this._getOrReturnCtx(t,i),ye(i,{code:ce.too_small,message:o.message,inclusive:!0,exact:!1,minimum:o.value,type:"date"}),s.dirty()):o.kind==="max"?t.data.getTime()>o.value&&(i=this._getOrReturnCtx(t,i),ye(i,{code:ce.too_big,message:o.message,inclusive:!0,exact:!1,maximum:o.value,type:"date"}),s.dirty()):xt.assertNever(o);return{status:s.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Io({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Le.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Le.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Io.create=e=>new Io({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Ue.ZodDate,...Ge(e)});class Qh extends nt{_parse(t){if(this._getType(t)!==Ce.symbol){const s=this._getOrReturnCtx(t);return ye(s,{code:ce.invalid_type,expected:Ce.symbol,received:s.parsedType}),He}return pr(t.data)}}Qh.create=e=>new Qh({typeName:Ue.ZodSymbol,...Ge(e)});class tu extends nt{_parse(t){if(this._getType(t)!==Ce.undefined){const s=this._getOrReturnCtx(t);return ye(s,{code:ce.invalid_type,expected:Ce.undefined,received:s.parsedType}),He}return pr(t.data)}}tu.create=e=>new tu({typeName:Ue.ZodUndefined,...Ge(e)});class nu extends nt{_parse(t){if(this._getType(t)!==Ce.null){const s=this._getOrReturnCtx(t);return ye(s,{code:ce.invalid_type,expected:Ce.null,received:s.parsedType}),He}return pr(t.data)}}nu.create=e=>new nu({typeName:Ue.ZodNull,...Ge(e)});class oc extends nt{constructor(){super(...arguments),this._any=!0}_parse(t){return pr(t.data)}}oc.create=e=>new oc({typeName:Ue.ZodAny,...Ge(e)});class wo extends nt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return pr(t.data)}}wo.create=e=>new wo({typeName:Ue.ZodUnknown,...Ge(e)});class Fi extends nt{_parse(t){const n=this._getOrReturnCtx(t);return ye(n,{code:ce.invalid_type,expected:Ce.never,received:n.parsedType}),He}}Fi.create=e=>new Fi({typeName:Ue.ZodNever,...Ge(e)});class Xh extends nt{_parse(t){if(this._getType(t)!==Ce.undefined){const s=this._getOrReturnCtx(t);return ye(s,{code:ce.invalid_type,expected:Ce.void,received:s.parsedType}),He}return pr(t.data)}}Xh.create=e=>new Xh({typeName:Ue.ZodVoid,...Ge(e)});class ks extends nt{_parse(t){const{ctx:n,status:s}=this._processInputParams(t),i=this._def;if(n.parsedType!==Ce.array)return ye(n,{code:ce.invalid_type,expected:Ce.array,received:n.parsedType}),He;if(i.exactLength!==null){const l=n.data.length>i.exactLength.value,d=n.data.length<i.exactLength.value;(l||d)&&(ye(n,{code:l?ce.too_big:ce.too_small,minimum:d?i.exactLength.value:void 0,maximum:l?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),s.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(ye(n,{code:ce.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),s.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(ye(n,{code:ce.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),s.dirty()),n.common.async)return Promise.all([...n.data].map((l,d)=>i.type._parseAsync(new oi(n,l,n.path,d)))).then(l=>tr.mergeArray(s,l));const o=[...n.data].map((l,d)=>i.type._parseSync(new oi(n,l,n.path,d)));return tr.mergeArray(s,o)}get element(){return this._def.type}min(t,n){return new ks({...this._def,minLength:{value:t,message:Le.toString(n)}})}max(t,n){return new ks({...this._def,maxLength:{value:t,message:Le.toString(n)}})}length(t,n){return new ks({...this._def,exactLength:{value:t,message:Le.toString(n)}})}nonempty(t){return this.min(1,t)}}ks.create=(e,t)=>new ks({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Ue.ZodArray,...Ge(t)});function al(e){if(e instanceof qt){const t={};for(const n in e.shape){const s=e.shape[n];t[n]=ii.create(al(s))}return new qt({...e._def,shape:()=>t})}else return e instanceof ks?new ks({...e._def,type:al(e.element)}):e instanceof ii?ii.create(al(e.unwrap())):e instanceof Fa?Fa.create(al(e.unwrap())):e instanceof li?li.create(e.items.map(t=>al(t))):e}class qt extends nt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=xt.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==Ce.object){const h=this._getOrReturnCtx(t);return ye(h,{code:ce.invalid_type,expected:Ce.object,received:h.parsedType}),He}const{status:s,ctx:i}=this._processInputParams(t),{shape:o,keys:l}=this._getCached(),d=[];if(!(this._def.catchall instanceof Fi&&this._def.unknownKeys==="strip"))for(const h in i.data)l.includes(h)||d.push(h);const u=[];for(const h of l){const m=o[h],p=i.data[h];u.push({key:{status:"valid",value:h},value:m._parse(new oi(i,p,i.path,h)),alwaysSet:h in i.data})}if(this._def.catchall instanceof Fi){const h=this._def.unknownKeys;if(h==="passthrough")for(const m of d)u.push({key:{status:"valid",value:m},value:{status:"valid",value:i.data[m]}});else if(h==="strict")d.length>0&&(ye(i,{code:ce.unrecognized_keys,keys:d}),s.dirty());else if(h!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const h=this._def.catchall;for(const m of d){const p=i.data[m];u.push({key:{status:"valid",value:m},value:h._parse(new oi(i,p,i.path,m)),alwaysSet:m in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const h=[];for(const m of u){const p=await m.key,x=await m.value;h.push({key:p,value:x,alwaysSet:m.alwaysSet})}return h}).then(h=>tr.mergeObjectSync(s,h)):tr.mergeObjectSync(s,u)}get shape(){return this._def.shape()}strict(t){return Le.errToObj,new qt({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,s)=>{var i,o,l,d;const u=(l=(o=(i=this._def).errorMap)===null||o===void 0?void 0:o.call(i,n,s).message)!==null&&l!==void 0?l:s.defaultError;return n.code==="unrecognized_keys"?{message:(d=Le.errToObj(t).message)!==null&&d!==void 0?d:u}:{message:u}}}:{}})}strip(){return new qt({...this._def,unknownKeys:"strip"})}passthrough(){return new qt({...this._def,unknownKeys:"passthrough"})}extend(t){return new qt({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new qt({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Ue.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new qt({...this._def,catchall:t})}pick(t){const n={};return xt.objectKeys(t).forEach(s=>{t[s]&&this.shape[s]&&(n[s]=this.shape[s])}),new qt({...this._def,shape:()=>n})}omit(t){const n={};return xt.objectKeys(this.shape).forEach(s=>{t[s]||(n[s]=this.shape[s])}),new qt({...this._def,shape:()=>n})}deepPartial(){return al(this)}partial(t){const n={};return xt.objectKeys(this.shape).forEach(s=>{const i=this.shape[s];t&&!t[s]?n[s]=i:n[s]=i.optional()}),new qt({...this._def,shape:()=>n})}required(t){const n={};return xt.objectKeys(this.shape).forEach(s=>{if(t&&!t[s])n[s]=this.shape[s];else{let o=this.shape[s];for(;o instanceof ii;)o=o._def.innerType;n[s]=o}}),new qt({...this._def,shape:()=>n})}keyof(){return M4(xt.objectKeys(this.shape))}}qt.create=(e,t)=>new qt({shape:()=>e,unknownKeys:"strip",catchall:Fi.create(),typeName:Ue.ZodObject,...Ge(t)});qt.strictCreate=(e,t)=>new qt({shape:()=>e,unknownKeys:"strict",catchall:Fi.create(),typeName:Ue.ZodObject,...Ge(t)});qt.lazycreate=(e,t)=>new qt({shape:e,unknownKeys:"strip",catchall:Fi.create(),typeName:Ue.ZodObject,...Ge(t)});class ru extends nt{_parse(t){const{ctx:n}=this._processInputParams(t),s=this._def.options;function i(o){for(const d of o)if(d.result.status==="valid")return d.result;for(const d of o)if(d.result.status==="dirty")return n.common.issues.push(...d.ctx.common.issues),d.result;const l=o.map(d=>new $r(d.ctx.common.issues));return ye(n,{code:ce.invalid_union,unionErrors:l}),He}if(n.common.async)return Promise.all(s.map(async o=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await o._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(i);{let o;const l=[];for(const u of s){const h={...n,common:{...n.common,issues:[]},parent:null},m=u._parseSync({data:n.data,path:n.path,parent:h});if(m.status==="valid")return m;m.status==="dirty"&&!o&&(o={result:m,ctx:h}),h.common.issues.length&&l.push(h.common.issues)}if(o)return n.common.issues.push(...o.ctx.common.issues),o.result;const d=l.map(u=>new $r(u));return ye(n,{code:ce.invalid_union,unionErrors:d}),He}}get options(){return this._def.options}}ru.create=(e,t)=>new ru({options:e,typeName:Ue.ZodUnion,...Ge(t)});const yi=e=>e instanceof au?yi(e.schema):e instanceof Rs?yi(e.innerType()):e instanceof ou?[e.value]:e instanceof Da?e.options:e instanceof lu?xt.objectValues(e.enum):e instanceof cu?yi(e._def.innerType):e instanceof tu?[void 0]:e instanceof nu?[null]:e instanceof ii?[void 0,...yi(e.unwrap())]:e instanceof Fa?[null,...yi(e.unwrap())]:e instanceof Lw||e instanceof uu?yi(e.unwrap()):e instanceof du?yi(e._def.innerType):[];class sp extends nt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.object)return ye(n,{code:ce.invalid_type,expected:Ce.object,received:n.parsedType}),He;const s=this.discriminator,i=n.data[s],o=this.optionsMap.get(i);return o?n.common.async?o._parseAsync({data:n.data,path:n.path,parent:n}):o._parseSync({data:n.data,path:n.path,parent:n}):(ye(n,{code:ce.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[s]}),He)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,s){const i=new Map;for(const o of n){const l=yi(o.shape[t]);if(!l.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const d of l){if(i.has(d))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(d)}`);i.set(d,o)}}return new sp({typeName:Ue.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...Ge(s)})}}function jv(e,t){const n=bi(e),s=bi(t);if(e===t)return{valid:!0,data:e};if(n===Ce.object&&s===Ce.object){const i=xt.objectKeys(t),o=xt.objectKeys(e).filter(d=>i.indexOf(d)!==-1),l={...e,...t};for(const d of o){const u=jv(e[d],t[d]);if(!u.valid)return{valid:!1};l[d]=u.data}return{valid:!0,data:l}}else if(n===Ce.array&&s===Ce.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let o=0;o<e.length;o++){const l=e[o],d=t[o],u=jv(l,d);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===Ce.date&&s===Ce.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class su extends nt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t),i=(o,l)=>{if(yv(o)||yv(l))return He;const d=jv(o.value,l.value);return d.valid?((wv(o)||wv(l))&&n.dirty(),{status:n.value,value:d.data}):(ye(s,{code:ce.invalid_intersection_types}),He)};return s.common.async?Promise.all([this._def.left._parseAsync({data:s.data,path:s.path,parent:s}),this._def.right._parseAsync({data:s.data,path:s.path,parent:s})]).then(([o,l])=>i(o,l)):i(this._def.left._parseSync({data:s.data,path:s.path,parent:s}),this._def.right._parseSync({data:s.data,path:s.path,parent:s}))}}su.create=(e,t,n)=>new su({left:e,right:t,typeName:Ue.ZodIntersection,...Ge(n)});class li extends nt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ce.array)return ye(s,{code:ce.invalid_type,expected:Ce.array,received:s.parsedType}),He;if(s.data.length<this._def.items.length)return ye(s,{code:ce.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),He;!this._def.rest&&s.data.length>this._def.items.length&&(ye(s,{code:ce.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const o=[...s.data].map((l,d)=>{const u=this._def.items[d]||this._def.rest;return u?u._parse(new oi(s,l,s.path,d)):null}).filter(l=>!!l);return s.common.async?Promise.all(o).then(l=>tr.mergeArray(n,l)):tr.mergeArray(n,o)}get items(){return this._def.items}rest(t){return new li({...this._def,rest:t})}}li.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new li({items:e,typeName:Ue.ZodTuple,rest:null,...Ge(t)})};class iu extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ce.object)return ye(s,{code:ce.invalid_type,expected:Ce.object,received:s.parsedType}),He;const i=[],o=this._def.keyType,l=this._def.valueType;for(const d in s.data)i.push({key:o._parse(new oi(s,d,s.path,d)),value:l._parse(new oi(s,s.data[d],s.path,d)),alwaysSet:d in s.data});return s.common.async?tr.mergeObjectAsync(n,i):tr.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,s){return n instanceof nt?new iu({keyType:t,valueType:n,typeName:Ue.ZodRecord,...Ge(s)}):new iu({keyType:bs.create(),valueType:t,typeName:Ue.ZodRecord,...Ge(n)})}}class Jh extends nt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ce.map)return ye(s,{code:ce.invalid_type,expected:Ce.map,received:s.parsedType}),He;const i=this._def.keyType,o=this._def.valueType,l=[...s.data.entries()].map(([d,u],h)=>({key:i._parse(new oi(s,d,s.path,[h,"key"])),value:o._parse(new oi(s,u,s.path,[h,"value"]))}));if(s.common.async){const d=new Map;return Promise.resolve().then(async()=>{for(const u of l){const h=await u.key,m=await u.value;if(h.status==="aborted"||m.status==="aborted")return He;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),d.set(h.value,m.value)}return{status:n.value,value:d}})}else{const d=new Map;for(const u of l){const h=u.key,m=u.value;if(h.status==="aborted"||m.status==="aborted")return He;(h.status==="dirty"||m.status==="dirty")&&n.dirty(),d.set(h.value,m.value)}return{status:n.value,value:d}}}}Jh.create=(e,t,n)=>new Jh({valueType:t,keyType:e,typeName:Ue.ZodMap,...Ge(n)});class Oo extends nt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.parsedType!==Ce.set)return ye(s,{code:ce.invalid_type,expected:Ce.set,received:s.parsedType}),He;const i=this._def;i.minSize!==null&&s.data.size<i.minSize.value&&(ye(s,{code:ce.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&s.data.size>i.maxSize.value&&(ye(s,{code:ce.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const o=this._def.valueType;function l(u){const h=new Set;for(const m of u){if(m.status==="aborted")return He;m.status==="dirty"&&n.dirty(),h.add(m.value)}return{status:n.value,value:h}}const d=[...s.data.values()].map((u,h)=>o._parse(new oi(s,u,s.path,h)));return s.common.async?Promise.all(d).then(u=>l(u)):l(d)}min(t,n){return new Oo({...this._def,minSize:{value:t,message:Le.toString(n)}})}max(t,n){return new Oo({...this._def,maxSize:{value:t,message:Le.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Oo.create=(e,t)=>new Oo({valueType:e,minSize:null,maxSize:null,typeName:Ue.ZodSet,...Ge(t)});class Rl extends nt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.function)return ye(n,{code:ce.invalid_type,expected:Ce.function,received:n.parsedType}),He;function s(d,u){return Gh({data:d,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Kh(),ac].filter(h=>!!h),issueData:{code:ce.invalid_arguments,argumentsError:u}})}function i(d,u){return Gh({data:d,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,Kh(),ac].filter(h=>!!h),issueData:{code:ce.invalid_return_type,returnTypeError:u}})}const o={errorMap:n.common.contextualErrorMap},l=n.data;if(this._def.returns instanceof lc){const d=this;return pr(async function(...u){const h=new $r([]),m=await d._def.args.parseAsync(u,o).catch(j=>{throw h.addIssue(s(u,j)),h}),p=await Reflect.apply(l,this,m);return await d._def.returns._def.type.parseAsync(p,o).catch(j=>{throw h.addIssue(i(p,j)),h})})}else{const d=this;return pr(function(...u){const h=d._def.args.safeParse(u,o);if(!h.success)throw new $r([s(u,h.error)]);const m=Reflect.apply(l,this,h.data),p=d._def.returns.safeParse(m,o);if(!p.success)throw new $r([i(m,p.error)]);return p.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Rl({...this._def,args:li.create(t).rest(wo.create())})}returns(t){return new Rl({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,s){return new Rl({args:t||li.create([]).rest(wo.create()),returns:n||wo.create(),typeName:Ue.ZodFunction,...Ge(s)})}}class au extends nt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}au.create=(e,t)=>new au({getter:e,typeName:Ue.ZodLazy,...Ge(t)});class ou extends nt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return ye(n,{received:n.data,code:ce.invalid_literal,expected:this._def.value}),He}return{status:"valid",value:t.data}}get value(){return this._def.value}}ou.create=(e,t)=>new ou({value:e,typeName:Ue.ZodLiteral,...Ge(t)});function M4(e,t){return new Da({values:e,typeName:Ue.ZodEnum,...Ge(t)})}class Da extends nt{constructor(){super(...arguments),ud.set(this,void 0)}_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),s=this._def.values;return ye(n,{expected:xt.joinValues(s),received:n.parsedType,code:ce.invalid_type}),He}if(Yh(this,ud)||P4(this,ud,new Set(this._def.values)),!Yh(this,ud).has(t.data)){const n=this._getOrReturnCtx(t),s=this._def.values;return ye(n,{received:n.data,code:ce.invalid_enum_value,options:s}),He}return pr(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return Da.create(t,{...this._def,...n})}exclude(t,n=this._def){return Da.create(this.options.filter(s=>!t.includes(s)),{...this._def,...n})}}ud=new WeakMap;Da.create=M4;class lu extends nt{constructor(){super(...arguments),fd.set(this,void 0)}_parse(t){const n=xt.getValidEnumValues(this._def.values),s=this._getOrReturnCtx(t);if(s.parsedType!==Ce.string&&s.parsedType!==Ce.number){const i=xt.objectValues(n);return ye(s,{expected:xt.joinValues(i),received:s.parsedType,code:ce.invalid_type}),He}if(Yh(this,fd)||P4(this,fd,new Set(xt.getValidEnumValues(this._def.values))),!Yh(this,fd).has(t.data)){const i=xt.objectValues(n);return ye(s,{received:s.data,code:ce.invalid_enum_value,options:i}),He}return pr(t.data)}get enum(){return this._def.values}}fd=new WeakMap;lu.create=(e,t)=>new lu({values:e,typeName:Ue.ZodNativeEnum,...Ge(t)});class lc extends nt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==Ce.promise&&n.common.async===!1)return ye(n,{code:ce.invalid_type,expected:Ce.promise,received:n.parsedType}),He;const s=n.parsedType===Ce.promise?n.data:Promise.resolve(n.data);return pr(s.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}lc.create=(e,t)=>new lc({type:e,typeName:Ue.ZodPromise,...Ge(t)});class Rs extends nt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Ue.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:s}=this._processInputParams(t),i=this._def.effect||null,o={addIssue:l=>{ye(s,l),l.fatal?n.abort():n.dirty()},get path(){return s.path}};if(o.addIssue=o.addIssue.bind(o),i.type==="preprocess"){const l=i.transform(s.data,o);if(s.common.async)return Promise.resolve(l).then(async d=>{if(n.value==="aborted")return He;const u=await this._def.schema._parseAsync({data:d,path:s.path,parent:s});return u.status==="aborted"?He:u.status==="dirty"||n.value==="dirty"?wl(u.value):u});{if(n.value==="aborted")return He;const d=this._def.schema._parseSync({data:l,path:s.path,parent:s});return d.status==="aborted"?He:d.status==="dirty"||n.value==="dirty"?wl(d.value):d}}if(i.type==="refinement"){const l=d=>{const u=i.refinement(d,o);if(s.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return d};if(s.common.async===!1){const d=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});return d.status==="aborted"?He:(d.status==="dirty"&&n.dirty(),l(d.value),{status:n.value,value:d.value})}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(d=>d.status==="aborted"?He:(d.status==="dirty"&&n.dirty(),l(d.value).then(()=>({status:n.value,value:d.value}))))}if(i.type==="transform")if(s.common.async===!1){const l=this._def.schema._parseSync({data:s.data,path:s.path,parent:s});if(!Lo(l))return l;const d=i.transform(l.value,o);if(d instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:d}}else return this._def.schema._parseAsync({data:s.data,path:s.path,parent:s}).then(l=>Lo(l)?Promise.resolve(i.transform(l.value,o)).then(d=>({status:n.value,value:d})):l);xt.assertNever(i)}}Rs.create=(e,t,n)=>new Rs({schema:e,typeName:Ue.ZodEffects,effect:t,...Ge(n)});Rs.createWithPreprocess=(e,t,n)=>new Rs({schema:t,effect:{type:"preprocess",transform:e},typeName:Ue.ZodEffects,...Ge(n)});class ii extends nt{_parse(t){return this._getType(t)===Ce.undefined?pr(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}ii.create=(e,t)=>new ii({innerType:e,typeName:Ue.ZodOptional,...Ge(t)});class Fa extends nt{_parse(t){return this._getType(t)===Ce.null?pr(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}Fa.create=(e,t)=>new Fa({innerType:e,typeName:Ue.ZodNullable,...Ge(t)});class cu extends nt{_parse(t){const{ctx:n}=this._processInputParams(t);let s=n.data;return n.parsedType===Ce.undefined&&(s=this._def.defaultValue()),this._def.innerType._parse({data:s,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}cu.create=(e,t)=>new cu({innerType:e,typeName:Ue.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ge(t)});class du extends nt{_parse(t){const{ctx:n}=this._processInputParams(t),s={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:s.data,path:s.path,parent:{...s}});return Jd(i)?i.then(o=>({status:"valid",value:o.status==="valid"?o.value:this._def.catchValue({get error(){return new $r(s.common.issues)},input:s.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new $r(s.common.issues)},input:s.data})}}removeCatch(){return this._def.innerType}}du.create=(e,t)=>new du({innerType:e,typeName:Ue.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ge(t)});class em extends nt{_parse(t){if(this._getType(t)!==Ce.nan){const s=this._getOrReturnCtx(t);return ye(s,{code:ce.invalid_type,expected:Ce.nan,received:s.parsedType}),He}return{status:"valid",value:t.data}}}em.create=e=>new em({typeName:Ue.ZodNaN,...Ge(e)});const FU=Symbol("zod_brand");class Lw extends nt{_parse(t){const{ctx:n}=this._processInputParams(t),s=n.data;return this._def.type._parse({data:s,path:n.path,parent:n})}unwrap(){return this._def.type}}class Au extends nt{_parse(t){const{status:n,ctx:s}=this._processInputParams(t);if(s.common.async)return(async()=>{const o=await this._def.in._parseAsync({data:s.data,path:s.path,parent:s});return o.status==="aborted"?He:o.status==="dirty"?(n.dirty(),wl(o.value)):this._def.out._parseAsync({data:o.value,path:s.path,parent:s})})();{const i=this._def.in._parseSync({data:s.data,path:s.path,parent:s});return i.status==="aborted"?He:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:s.path,parent:s})}}static create(t,n){return new Au({in:t,out:n,typeName:Ue.ZodPipeline})}}class uu extends nt{_parse(t){const n=this._def.innerType._parse(t),s=i=>(Lo(i)&&(i.value=Object.freeze(i.value)),i);return Jd(n)?n.then(i=>s(i)):s(n)}unwrap(){return this._def.innerType}}uu.create=(e,t)=>new uu({innerType:e,typeName:Ue.ZodReadonly,...Ge(t)});function _b(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function A4(e,t={},n){return e?oc.create().superRefine((s,i)=>{var o,l;const d=e(s);if(d instanceof Promise)return d.then(u=>{var h,m;if(!u){const p=_b(t,s),x=(m=(h=p.fatal)!==null&&h!==void 0?h:n)!==null&&m!==void 0?m:!0;i.addIssue({code:"custom",...p,fatal:x})}});if(!d){const u=_b(t,s),h=(l=(o=u.fatal)!==null&&o!==void 0?o:n)!==null&&l!==void 0?l:!0;i.addIssue({code:"custom",...u,fatal:h})}}):oc.create()}const zU={object:qt.lazycreate};var Ue;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Ue||(Ue={}));const BU=(e,t={message:`Input not instance of ${e.name}`})=>A4(n=>n instanceof e,t),R4=bs.create,L4=Ia.create,$U=em.create,VU=Oa.create,I4=eu.create,UU=Io.create,WU=Qh.create,HU=tu.create,qU=nu.create,ZU=oc.create,KU=wo.create,GU=Fi.create,YU=Xh.create,QU=ks.create,XU=qt.create,JU=qt.strictCreate,eW=ru.create,tW=sp.create,nW=su.create,rW=li.create,sW=iu.create,iW=Jh.create,aW=Oo.create,oW=Rl.create,lW=au.create,cW=ou.create,dW=Da.create,uW=lu.create,fW=lc.create,bb=Rs.create,hW=ii.create,mW=Fa.create,pW=Rs.createWithPreprocess,gW=Au.create,xW=()=>R4().optional(),vW=()=>L4().optional(),yW=()=>I4().optional(),wW={string:e=>bs.create({...e,coerce:!0}),number:e=>Ia.create({...e,coerce:!0}),boolean:e=>eu.create({...e,coerce:!0}),bigint:e=>Oa.create({...e,coerce:!0}),date:e=>Io.create({...e,coerce:!0})},jW=He;var ee=Object.freeze({__proto__:null,defaultErrorMap:ac,setErrorMap:pU,getErrorMap:Kh,makeIssue:Gh,EMPTY_PATH:gU,addIssueToContext:ye,ParseStatus:tr,INVALID:He,DIRTY:wl,OK:pr,isAborted:yv,isDirty:wv,isValid:Lo,isAsync:Jd,get util(){return xt},get objectUtil(){return vv},ZodParsedType:Ce,getParsedType:bi,ZodType:nt,datetimeRegex:E4,ZodString:bs,ZodNumber:Ia,ZodBigInt:Oa,ZodBoolean:eu,ZodDate:Io,ZodSymbol:Qh,ZodUndefined:tu,ZodNull:nu,ZodAny:oc,ZodUnknown:wo,ZodNever:Fi,ZodVoid:Xh,ZodArray:ks,ZodObject:qt,ZodUnion:ru,ZodDiscriminatedUnion:sp,ZodIntersection:su,ZodTuple:li,ZodRecord:iu,ZodMap:Jh,ZodSet:Oo,ZodFunction:Rl,ZodLazy:au,ZodLiteral:ou,ZodEnum:Da,ZodNativeEnum:lu,ZodPromise:lc,ZodEffects:Rs,ZodTransformer:Rs,ZodOptional:ii,ZodNullable:Fa,ZodDefault:cu,ZodCatch:du,ZodNaN:em,BRAND:FU,ZodBranded:Lw,ZodPipeline:Au,ZodReadonly:uu,custom:A4,Schema:nt,ZodSchema:nt,late:zU,get ZodFirstPartyTypeKind(){return Ue},coerce:wW,any:ZU,array:QU,bigint:VU,boolean:I4,date:UU,discriminatedUnion:tW,effect:bb,enum:dW,function:oW,instanceof:BU,intersection:nW,lazy:lW,literal:cW,map:iW,nan:$U,nativeEnum:uW,never:GU,null:qU,nullable:mW,number:L4,object:XU,oboolean:yW,onumber:vW,optional:hW,ostring:xW,pipeline:gW,preprocess:pW,promise:fW,record:sW,set:aW,strictObject:JU,string:R4,symbol:WU,transformer:bb,tuple:rW,undefined:HU,union:eW,unknown:KU,void:YU,NEVER:jW,ZodIssueCode:ce,quotelessJson:mU,ZodError:$r});const _W=ee.object({email:ee.string().email("Please enter a valid email address"),password:ee.string().min(1,"Password is required")}),bW=ee.object({name:ee.string().min(2,"Name must be at least 2 characters"),email:ee.string().email("Please enter a valid email address"),password:ee.string().min(6,"Password must be at least 6 characters"),roleOwner:ee.boolean().optional(),roleProvider:ee.boolean().optional()});function Pd({isOpen:e,onClose:t,defaultTab:n="signin"}){const{loginMutation:s,registerMutation:i}=Sn(),[o,l]=v.useState(n),d=Wn({resolver:Hn(_W),defaultValues:{email:"",password:""}}),u=Wn({resolver:Hn(bW),defaultValues:{name:"",email:"",password:"",roleOwner:!1,roleProvider:!1}}),h=x=>{s.mutate(x,{onSuccess:()=>{t(),d.reset()}})},m=x=>{i.mutate(x,{onSuccess:()=>{t(),u.reset()}})},p=x=>{x||(t(),d.reset(),u.reset())};return r.jsx(bn,{open:e,onOpenChange:p,children:r.jsxs(ln,{className:"sm:max-w-md",children:[r.jsxs(cn,{children:[r.jsx(dn,{children:"Welcome to OmahaShareHub"}),r.jsx(Pu,{children:"Choose how you'd like to get started"})]}),r.jsxs(qa,{value:o,onValueChange:x=>l(x),className:"w-full",children:[r.jsxs($i,{className:"grid w-full grid-cols-2",children:[r.jsx(bt,{value:"signin","data-testid":"modal-tab-signin",children:"Sign In"}),r.jsx(bt,{value:"signup","data-testid":"modal-tab-signup",children:"Sign Up"})]}),r.jsx(Nt,{value:"signin",className:"space-y-4 mt-6",children:r.jsxs("form",{onSubmit:d.handleSubmit(h),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"modal-email",children:"Email"}),r.jsx(ze,{id:"modal-email",type:"email",placeholder:"Enter your email",...d.register("email"),"data-testid":"modal-input-login-email"}),d.formState.errors.email&&r.jsx("p",{className:"text-sm text-destructive",children:d.formState.errors.email.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"modal-password",children:"Password"}),r.jsx(ze,{id:"modal-password",type:"password",placeholder:"Enter your password",...d.register("password"),"data-testid":"modal-input-login-password"}),d.formState.errors.password&&r.jsx("p",{className:"text-sm text-destructive",children:d.formState.errors.password.message})]}),r.jsx(q,{type:"submit",className:"w-full",disabled:s.isPending,"data-testid":"modal-button-signin",children:s.isPending?"Signing In...":"Sign In"}),r.jsx("div",{className:"text-center",children:r.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-primary",children:"Forgot your password?"})})]})}),r.jsx(Nt,{value:"signup",className:"space-y-4 mt-6",children:r.jsxs("form",{onSubmit:u.handleSubmit(m),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"modal-name",children:"Full Name"}),r.jsx(ze,{id:"modal-name",type:"text",placeholder:"Enter your full name",...u.register("name"),"data-testid":"modal-input-register-name"}),u.formState.errors.name&&r.jsx("p",{className:"text-sm text-destructive",children:u.formState.errors.name.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"modal-register-email",children:"Email"}),r.jsx(ze,{id:"modal-register-email",type:"email",placeholder:"Enter your email",...u.register("email"),"data-testid":"modal-input-register-email"}),u.formState.errors.email&&r.jsx("p",{className:"text-sm text-destructive",children:u.formState.errors.email.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"modal-register-password",children:"Password"}),r.jsx(ze,{id:"modal-register-password",type:"password",placeholder:"Create a password",...u.register("password"),"data-testid":"modal-input-register-password"}),u.formState.errors.password&&r.jsx("p",{className:"text-sm text-destructive",children:u.formState.errors.password.message})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(pe,{children:"I want to:"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xd,{name:"roleOwner",control:u.control,render:({field:x})=>r.jsx(Di,{id:"modal-roleOwner",checked:x.value===!0,onCheckedChange:j=>x.onChange(j===!0),"data-testid":"modal-checkbox-role-owner"})}),r.jsx(pe,{htmlFor:"modal-roleOwner",className:"text-sm font-normal",children:"Post projects (Property Owner)"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xd,{name:"roleProvider",control:u.control,render:({field:x})=>r.jsx(Di,{id:"modal-roleProvider",checked:x.value===!0,onCheckedChange:j=>x.onChange(j===!0),"data-testid":"modal-checkbox-role-provider"})}),r.jsx(pe,{htmlFor:"modal-roleProvider",className:"text-sm font-normal",children:"Find work opportunities (Service Provider)"})]})]}),u.formState.errors.roleOwner&&r.jsx("p",{className:"text-sm text-destructive",children:u.formState.errors.roleOwner.message})]}),r.jsx(q,{type:"submit",className:"w-full bg-secondary text-secondary-foreground hover:bg-secondary/90",disabled:i.isPending,"data-testid":"modal-button-signup",children:i.isPending?"Creating Account...":"Create Account"}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-xs text-muted-foreground",children:["By signing up, you agree to our"," ",r.jsx("a",{href:"/terms",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",r.jsx("a",{href:"/privacy",className:"text-primary hover:underline",children:"Privacy Policy"})]})})]})})]})]})})}const Vn=v.forwardRef(({className:e,...t},n)=>r.jsx("textarea",{className:_e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));Vn.displayName="Textarea";const NW=ee.object({name:ee.string().min(2,"Name must be at least 2 characters"),email:ee.string().email("Please enter a valid email address"),subject:ee.string().min(5,"Subject must be at least 5 characters"),message:ee.string().min(10,"Message must be at least 10 characters")});function O4({isOpen:e,onClose:t}){const{toast:n}=mn(),[s,i]=v.useState(!1),o=Wn({resolver:Hn(NW),defaultValues:{name:"",email:"",subject:"",message:""}}),l=ut({mutationFn:async h=>await(await Xe("POST","/api/contact",h)).json(),onSuccess:()=>{i(!0),n({title:"Message sent!",description:"Our team will get back to you shortly."}),setTimeout(()=>{t(),i(!1),o.reset()},2e3)},onError:h=>{n({title:"Failed to send message",description:h.message,variant:"destructive"})}}),d=h=>{l.mutate(h)},u=()=>{l.isPending||(t(),i(!1),o.reset())};return r.jsx(bn,{open:e,onOpenChange:u,children:r.jsxs(ln,{className:"sm:max-w-[500px]",children:[r.jsxs(cn,{children:[r.jsx(dn,{children:"Contact Support"}),r.jsx(Pu,{children:"Have questions or need help? Send us a message and we'll get back to you as soon as possible."})]}),s?r.jsxs("div",{className:"py-8 text-center",children:[r.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-green-100 dark:bg-green-900/30 flex items-center justify-center mb-4",children:r.jsx(rc,{className:"h-8 w-8 text-green-600 dark:text-green-400"})}),r.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"Message Sent!"}),r.jsx("p",{className:"text-muted-foreground",children:"Our support team will respond to your inquiry shortly."})]}):r.jsxs("form",{onSubmit:o.handleSubmit(d),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"contact-name",children:"Your Name"}),r.jsx(ze,{id:"contact-name",placeholder:"Enter your name",...o.register("name"),"data-testid":"input-contact-name"}),o.formState.errors.name&&r.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.name.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"contact-email",children:"Your Email"}),r.jsx(ze,{id:"contact-email",type:"email",placeholder:"your.email@omahasharehub.com",...o.register("email"),"data-testid":"input-contact-email"}),o.formState.errors.email&&r.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.email.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"contact-subject",children:"Subject"}),r.jsx(ze,{id:"contact-subject",placeholder:"What's this about?",...o.register("subject"),"data-testid":"input-contact-subject"}),o.formState.errors.subject&&r.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.subject.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"contact-message",children:"Message"}),r.jsx(Vn,{id:"contact-message",placeholder:"Tell us how we can help...",rows:5,...o.register("message"),"data-testid":"input-contact-message"}),o.formState.errors.message&&r.jsx("p",{className:"text-sm text-destructive",children:o.formState.errors.message.message})]}),r.jsxs("div",{className:"flex gap-3 pt-4",children:[r.jsx(q,{type:"button",variant:"outline",onClick:u,disabled:l.isPending,className:"flex-1","data-testid":"button-contact-cancel",children:"Cancel"}),r.jsx(q,{type:"submit",disabled:l.isPending,className:"flex-1","data-testid":"button-contact-send",children:l.isPending?r.jsxs(r.Fragment,{children:[r.jsx(oT,{className:"mr-2 h-4 w-4 animate-spin"}),"Sending..."]}):r.jsxs(r.Fragment,{children:[r.jsx(rc,{className:"mr-2 h-4 w-4"}),"Send Message"]})})]})]})]})})}const SW=vc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Pt({className:e,variant:t,...n}){return r.jsx("div",{className:_e(SW({variant:t}),e),...n})}function Iw({listing:e,showOwnerInfo:t=!0}){const{user:n}=Sn(),{toast:s}=mn(),[i,o]=v.useState(!1),{data:l=[]}=Je({queryKey:["/api/favorites"],enabled:!!n});v.useEffect(()=>{o(l.some(g=>g.id===e.id))},[l,e.id]);const{data:d=[]}=Je({queryKey:["/api/listings",e.id,"images"],queryFn:async()=>{const g=await fetch(`/api/listings/${e.id}/images`);return g.ok?g.json():[]}}),{data:u}=Je({queryKey:["/api/profile",e.ownerUserId],queryFn:async()=>{const g=await fetch(`/api/profile/${e.ownerUserId}`);return g.ok?g.json():{}},enabled:t}),h=d.length>0?d[0].url:null,m=ut({mutationFn:async g=>{const _=await Xe(g==="add"?"POST":"DELETE",`/api/favorites/${e.id}`);return g==="remove"&&_.status===204?{action:g}:_.json()},onMutate:async g=>{o(g==="add")},onSuccess:async(g,S)=>{await wt.invalidateQueries({queryKey:["/api/favorites"]}),s({title:S==="add"?"Added to favorites":"Removed from favorites",description:`Project ${S==="add"?"saved":"removed"} successfully.`})},onError:(g,S)=>{o(S!=="add"),s({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}}),p=g=>{if(g.preventDefault(),g.stopPropagation(),!n){s({title:"Please sign in",description:"You need to be signed in to save projects.",variant:"destructive"});return}m.isPending||m.mutate(i?"remove":"add")},x=g=>{if(g.preventDefault(),g.stopPropagation(),!n){s({title:"Please sign in",description:"You need to be signed in to send inquiries.",variant:"destructive"});return}window.location.href=`/project/${e.id}`},j=g=>{const S=new Date,_=new Date(g),w=S.getTime()-_.getTime(),N=Math.floor(w/(1e3*60*60*24));return N===0?"Today":N===1?"1 day ago":N<7?`${N} days ago`:N<30?`${Math.floor(N/7)} weeks ago`:`${Math.floor(N/30)} months ago`},C=g=>g&&{1:"Home Improvement",2:"Landscaping",3:"Repairs & Maintenance",4:"Cleaning Services",5:"Moving & Storage"}[g]||"General";return r.jsx(se,{className:"overflow-hidden hover:shadow-lg transition-all duration-200 hover:-translate-y-1",children:r.jsx(Ct,{href:`/project/${e.id}`,className:"block",children:r.jsxs("div",{className:"md:flex",children:[r.jsx("div",{className:"md:w-1/3",children:h?r.jsx("img",{src:h,alt:e.title,className:"w-full h-48 md:h-full object-cover","data-testid":`image-project-${e.id}`}):r.jsxs("div",{className:"w-full h-48 md:h-full bg-muted flex flex-col items-center justify-center",children:[r.jsx(Zd,{className:"w-12 h-12 text-muted-foreground mb-2"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"No photo"})]})}),r.jsxs("div",{className:"md:w-2/3 p-6",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Pt,{variant:"secondary",className:"mb-2",children:C(e.categoryId)}),r.jsx("h3",{className:"text-xl font-semibold text-primary hover:text-primary/80 cursor-pointer mb-2","data-testid":`text-project-title-${e.id}`,children:e.title}),r.jsx("p",{className:"text-muted-foreground mb-4 line-clamp-3","data-testid":`text-project-description-${e.id}`,children:e.description}),r.jsxs("div",{className:"flex items-center space-x-4 text-sm text-muted-foreground mb-4",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(Cs,{className:"w-4 h-4 mr-1"}),e.address||"Omaha, NE"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(rs,{className:"w-4 h-4 mr-1"}),"Posted ",j(e.createdAt.toString())]}),e.timeline&&r.jsxs("span",{className:"flex items-center",children:[r.jsx(Or,{className:"w-4 h-4 mr-1"}),e.timeline]})]})]}),r.jsxs("div",{className:"text-right ml-4",children:[r.jsxs("div",{className:"text-2xl font-bold text-secondary","data-testid":`text-project-price-${e.id}`,children:["$",(e.priceCents/100).toLocaleString()]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Budget"})]})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[t&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(zr,{className:"w-8 h-8",children:r.jsx(Br,{children:u!=null&&u.name?u.name.charAt(0).toUpperCase():"OW"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-medium text-foreground",children:(u==null?void 0:u.name)||"Property Owner"}),u!=null&&u.ratingAvg?r.jsxs("div",{className:"flex items-center text-xs text-muted-foreground",children:[r.jsx(En,{className:"w-3 h-3 text-yellow-500 mr-1"}),u.ratingAvg," (",u.ratingCount||0," reviews)"]}):r.jsx("div",{className:"text-xs text-muted-foreground",children:"No reviews yet"})]})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(q,{variant:"outline",size:"sm",onClick:p,disabled:m.isPending,className:i?"text-red-500":"","data-testid":`button-favorite-${e.id}`,children:[r.jsx(To,{className:`w-4 h-4 mr-1 ${i?"fill-current":""}`}),"Save"]}),r.jsxs(q,{size:"sm",onClick:x,"data-testid":`button-inquire-${e.id}`,children:[r.jsx(rc,{className:"w-4 h-4 mr-1"}),"Inquire"]})]})]})]})]})})})}var D4=["PageUp","PageDown"],F4=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],z4={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Pc="Slider",[_v,CW,PW]=gc(Pc),[B4,XG]=nr(Pc,[PW]),[kW,ip]=B4(Pc),$4=v.forwardRef((e,t)=>{const{name:n,min:s=0,max:i=100,step:o=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:u=0,defaultValue:h=[s],value:m,onValueChange:p=()=>{},onValueCommit:x=()=>{},inverted:j=!1,form:C,...g}=e,S=v.useRef(new Set),_=v.useRef(0),N=l==="horizontal"?TW:EW,[P=[],M]=Ur({prop:m,defaultProp:h,onChange:Z=>{var te;(te=[...S.current][_.current])==null||te.focus(),p(Z)}}),A=v.useRef(P);function R(Z){const V=IW(P,Z);z(Z,V)}function F(Z){z(Z,_.current)}function Y(){const Z=A.current[_.current];P[_.current]!==Z&&x(P)}function z(Z,V,{commit:te}={commit:!1}){const X=zW(o),J=BW(Math.round((Z-s)/o)*o+s,X),ne=zh(J,[s,i]);M((U=[])=>{const k=RW(U,ne,V);if(FW(k,u*o)){_.current=k.indexOf(ne);const W=String(k)!==String(U);return W&&te&&x(k),W?k:U}else return U})}return r.jsx(kW,{scope:e.__scopeSlider,name:n,disabled:d,min:s,max:i,valueIndexToChangeRef:_,thumbs:S.current,values:P,orientation:l,form:C,children:r.jsx(_v.Provider,{scope:e.__scopeSlider,children:r.jsx(_v.Slot,{scope:e.__scopeSlider,children:r.jsx(N,{"aria-disabled":d,"data-disabled":d?"":void 0,...g,ref:t,onPointerDown:fe(g.onPointerDown,()=>{d||(A.current=P)}),min:s,max:i,inverted:j,onSlideStart:d?void 0:R,onSlideMove:d?void 0:F,onSlideEnd:d?void 0:Y,onHomeKeyDown:()=>!d&&z(s,0,{commit:!0}),onEndKeyDown:()=>!d&&z(i,P.length-1,{commit:!0}),onStepKeyDown:({event:Z,direction:V})=>{if(!d){const J=D4.includes(Z.key)||Z.shiftKey&&F4.includes(Z.key)?10:1,ne=_.current,U=P[ne],k=o*J*V;z(U+k,ne,{commit:!0})}}})})})})});$4.displayName=Pc;var[V4,U4]=B4(Pc,{startEdge:"left",endEdge:"right",size:"width",direction:1}),TW=v.forwardRef((e,t)=>{const{min:n,max:s,dir:i,inverted:o,onSlideStart:l,onSlideMove:d,onSlideEnd:u,onStepKeyDown:h,...m}=e,[p,x]=v.useState(null),j=rt(t,N=>x(N)),C=v.useRef(void 0),g=Sc(i),S=g==="ltr",_=S&&!o||!S&&o;function w(N){const P=C.current||p.getBoundingClientRect(),M=[0,P.width],R=Ow(M,_?[n,s]:[s,n]);return C.current=P,R(N-P.left)}return r.jsx(V4,{scope:e.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:r.jsx(W4,{dir:g,"data-orientation":"horizontal",...m,ref:j,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const P=w(N.clientX);l==null||l(P)},onSlideMove:N=>{const P=w(N.clientX);d==null||d(P)},onSlideEnd:()=>{C.current=void 0,u==null||u()},onStepKeyDown:N=>{const M=z4[_?"from-left":"from-right"].includes(N.key);h==null||h({event:N,direction:M?-1:1})}})})}),EW=v.forwardRef((e,t)=>{const{min:n,max:s,inverted:i,onSlideStart:o,onSlideMove:l,onSlideEnd:d,onStepKeyDown:u,...h}=e,m=v.useRef(null),p=rt(t,m),x=v.useRef(void 0),j=!i;function C(g){const S=x.current||m.current.getBoundingClientRect(),_=[0,S.height],N=Ow(_,j?[s,n]:[n,s]);return x.current=S,N(g-S.top)}return r.jsx(V4,{scope:e.__scopeSlider,startEdge:j?"bottom":"top",endEdge:j?"top":"bottom",size:"height",direction:j?1:-1,children:r.jsx(W4,{"data-orientation":"vertical",...h,ref:p,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const S=C(g.clientY);o==null||o(S)},onSlideMove:g=>{const S=C(g.clientY);l==null||l(S)},onSlideEnd:()=>{x.current=void 0,d==null||d()},onStepKeyDown:g=>{const _=z4[j?"from-bottom":"from-top"].includes(g.key);u==null||u({event:g,direction:_?-1:1})}})})}),W4=v.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:s,onSlideMove:i,onSlideEnd:o,onHomeKeyDown:l,onEndKeyDown:d,onStepKeyDown:u,...h}=e,m=ip(Pc,n);return r.jsx(Re.span,{...h,ref:t,onKeyDown:fe(e.onKeyDown,p=>{p.key==="Home"?(l(p),p.preventDefault()):p.key==="End"?(d(p),p.preventDefault()):D4.concat(F4).includes(p.key)&&(u(p),p.preventDefault())}),onPointerDown:fe(e.onPointerDown,p=>{const x=p.target;x.setPointerCapture(p.pointerId),p.preventDefault(),m.thumbs.has(x)?x.focus():s(p)}),onPointerMove:fe(e.onPointerMove,p=>{p.target.hasPointerCapture(p.pointerId)&&i(p)}),onPointerUp:fe(e.onPointerUp,p=>{const x=p.target;x.hasPointerCapture(p.pointerId)&&(x.releasePointerCapture(p.pointerId),o(p))})})}),H4="SliderTrack",q4=v.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,i=ip(H4,n);return r.jsx(Re.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...s,ref:t})});q4.displayName=H4;var bv="SliderRange",Z4=v.forwardRef((e,t)=>{const{__scopeSlider:n,...s}=e,i=ip(bv,n),o=U4(bv,n),l=v.useRef(null),d=rt(t,l),u=i.values.length,h=i.values.map(x=>G4(x,i.min,i.max)),m=u>1?Math.min(...h):0,p=100-Math.max(...h);return r.jsx(Re.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...s,ref:d,style:{...e.style,[o.startEdge]:m+"%",[o.endEdge]:p+"%"}})});Z4.displayName=bv;var Nv="SliderThumb",K4=v.forwardRef((e,t)=>{const n=CW(e.__scopeSlider),[s,i]=v.useState(null),o=rt(t,d=>i(d)),l=v.useMemo(()=>s?n().findIndex(d=>d.ref.current===s):-1,[n,s]);return r.jsx(MW,{...e,ref:o,index:l})}),MW=v.forwardRef((e,t)=>{const{__scopeSlider:n,index:s,name:i,...o}=e,l=ip(Nv,n),d=U4(Nv,n),[u,h]=v.useState(null),m=rt(t,w=>h(w)),p=u?l.form||!!u.closest("form"):!0,x=Om(u),j=l.values[s],C=j===void 0?0:G4(j,l.min,l.max),g=LW(s,l.values.length),S=x==null?void 0:x[d.size],_=S?OW(S,C,d.direction):0;return v.useEffect(()=>{if(u)return l.thumbs.add(u),()=>{l.thumbs.delete(u)}},[u,l.thumbs]),r.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${C}% + ${_}px)`},children:[r.jsx(_v.ItemSlot,{scope:e.__scopeSlider,children:r.jsx(Re.span,{role:"slider","aria-label":e["aria-label"]||g,"aria-valuemin":l.min,"aria-valuenow":j,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...o,ref:m,style:j===void 0?{display:"none"}:e.style,onFocus:fe(e.onFocus,()=>{l.valueIndexToChangeRef.current=s})})}),p&&r.jsx(AW,{name:i??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:j},s)]})});K4.displayName=Nv;var AW=e=>{const{value:t,...n}=e,s=v.useRef(null),i=qm(t);return v.useEffect(()=>{const o=s.current,l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&u){const h=new Event("input",{bubbles:!0});u.call(o,t),o.dispatchEvent(h)}},[i,t]),r.jsx("input",{style:{display:"none"},...n,ref:s,defaultValue:t})};function RW(e=[],t,n){const s=[...e];return s[n]=t,s.sort((i,o)=>i-o)}function G4(e,t,n){const o=100/(n-t)*(e-t);return zh(o,[0,100])}function LW(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function IW(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),s=Math.min(...n);return n.indexOf(s)}function OW(e,t,n){const s=e/2,o=Ow([0,50],[0,s]);return(s-o(t)*n)*n}function DW(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function FW(e,t){if(t>0){const n=DW(e);return Math.min(...n)>=t}return!0}function Ow(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const s=(t[1]-t[0])/(e[1]-e[0]);return t[0]+s*(n-e[0])}}function zW(e){return(String(e).split(".")[1]||"").length}function BW(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Y4=$4,$W=q4,VW=Z4,UW=K4;const Q4=v.forwardRef(({className:e,...t},n)=>r.jsxs(Y4,{ref:n,className:_e("relative flex w-full touch-none select-none items-center",e),...t,children:[r.jsx($W,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:r.jsx(VW,{className:"absolute h-full bg-primary"})}),r.jsx(UW,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Q4.displayName=Y4.displayName;function X4({onFilterChange:e,categories:t=[],currentFilters:n={},className:s=""}){const[i,o]=v.useState({categoryId:n.categoryId||"",priceRange:n.priceRange||[0,1e4],timeline:n.timeline||[],distance:n.distance||"25"}),[l,d]=v.useState(0),u=[{id:"asap",label:"ASAP (within 1 week)",value:"asap"},{id:"month",label:"Within 1 month",value:"month"},{id:"flexible",label:"Flexible timing",value:"flexible"}],h=[{value:"5",label:"Within 5 miles"},{value:"10",label:"Within 10 miles"},{value:"25",label:"Within 25 miles"},{value:"any",label:"Any distance"}];v.useEffect(()=>{let j=0;i.categoryId&&i.categoryId!=="all"&&j++,(i.priceRange[0]>0||i.priceRange[1]<1e4)&&j++,i.timeline.length>0&&j++,i.distance!=="25"&&j++,d(j)},[i]);const m=(j,C)=>{const g={...i,[j]:C};o(g);const S={};g.categoryId&&g.categoryId!=="all"&&(S.categoryId=parseInt(g.categoryId)),g.priceRange[0]>0&&(S.minPrice=g.priceRange[0]),g.priceRange[1]<1e4&&(S.maxPrice=g.priceRange[1]),e==null||e(S)},p=(j,C)=>{const g=C?[...i.timeline,j]:i.timeline.filter(S=>S!==j);m("timeline",g)},x=()=>{o({categoryId:"",priceRange:[0,1e4],timeline:[],distance:"25"}),e==null||e({})};return r.jsxs(se,{className:`sticky top-24 ${s}`,children:[r.jsx(Ie,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs(Fe,{className:"flex items-center",children:[r.jsx(dT,{className:"w-5 h-5 mr-2"}),"Filters"]}),l>0&&r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Pt,{variant:"secondary",children:l}),r.jsx(q,{variant:"ghost",size:"sm",onClick:x,"data-testid":"button-clear-filters",children:r.jsx(wc,{className:"w-4 h-4"})})]})]})}),r.jsxs(ie,{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium text-foreground mb-2 block",children:"Category"}),r.jsxs(Bn,{value:i.categoryId,onValueChange:j=>m("categoryId",j),children:[r.jsx(Mn,{"data-testid":"select-filter-category",children:r.jsx($n,{placeholder:"All Categories"})}),r.jsxs(An,{children:[r.jsx(je,{value:"all",children:"All Categories"}),t.map(j=>r.jsx(je,{value:j.id.toString(),children:j.name},j.id))]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium text-foreground mb-2 block",children:"Price Range"}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(Q4,{value:i.priceRange,onValueChange:j=>m("priceRange",j),max:1e4,min:0,step:100,className:"w-full","data-testid":"slider-price-range"}),r.jsxs("div",{className:"flex justify-between text-sm text-muted-foreground",children:[r.jsxs("span",{children:["$",i.priceRange[0].toLocaleString()]}),r.jsx("span",{children:i.priceRange[1]>=1e4?"$10,000+":`$${i.priceRange[1].toLocaleString()}`})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium text-foreground mb-2 block",children:"Timeline"}),r.jsx("div",{className:"space-y-2",children:u.map(j=>r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Di,{id:j.id,checked:i.timeline.includes(j.value),onCheckedChange:C=>p(j.value,C),"data-testid":`checkbox-timeline-${j.id}`}),r.jsx(pe,{htmlFor:j.id,className:"text-sm font-normal text-foreground cursor-pointer",children:j.label})]},j.id))})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium text-foreground mb-2 block",children:"Distance"}),r.jsxs(Bn,{value:i.distance,onValueChange:j=>m("distance",j),children:[r.jsx(Mn,{"data-testid":"select-filter-distance",children:r.jsx($n,{})}),r.jsx(An,{children:h.map(j=>r.jsx(je,{value:j.value,children:j.label},j.value))})]})]}),r.jsxs(q,{className:"w-full bg-secondary text-secondary-foreground hover:bg-secondary/90",onClick:()=>e==null?void 0:e(i),"data-testid":"button-apply-filters",children:["Apply Filters",l>0&&r.jsx(Pt,{variant:"outline",className:"ml-2",children:l})]})]})]})}function J4(e,t){const n=v.useRef(t);v.useEffect(function(){t!==n.current&&e.attributionControl!=null&&(n.current!=null&&e.attributionControl.removeAttribution(n.current),t!=null&&e.attributionControl.addAttribution(t)),n.current=t},[e,t])}const WW=1;function HW(e){return Object.freeze({__version:WW,map:e})}function qW(e,t){return Object.freeze({...e,...t})}const eR=v.createContext(null),tR=eR.Provider;function Dw(){const e=v.useContext(eR);if(e==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return e}function ZW(e){function t(n,s){const{instance:i,context:o}=e(n).current;return v.useImperativeHandle(s,()=>i),n.children==null?null:he.createElement(tR,{value:o},n.children)}return v.forwardRef(t)}function KW(e){function t(n,s){const[i,o]=v.useState(!1),{instance:l}=e(n,o).current;v.useImperativeHandle(s,()=>l),v.useEffect(function(){i&&l.update()},[l,i,n.children]);const d=l._contentNode;return d?Va.createPortal(n.children,d):null}return v.forwardRef(t)}function GW(e){function t(n,s){const{instance:i}=e(n).current;return v.useImperativeHandle(s,()=>i),null}return v.forwardRef(t)}function nR(e,t){const n=v.useRef();v.useEffect(function(){return t!=null&&e.instance.on(t),n.current=t,function(){n.current!=null&&e.instance.off(n.current),n.current=null}},[e,t])}function Fw(e,t){const n=e.pane??t.pane;return n?{...e,pane:n}:e}function YW(e,t){return function(s,i){const o=Dw(),l=e(Fw(s,o),o);return J4(o.map,s.attribution),nR(l.current,s.eventHandlers),t(l.current,o,s,i),l}}var Sv={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,s){s(t)})(tD,function(n){var s="1.9.4";function i(a){var c,f,y,b;for(f=1,y=arguments.length;f<y;f++){b=arguments[f];for(c in b)a[c]=b[c]}return a}var o=Object.create||function(){function a(){}return function(c){return a.prototype=c,new a}}();function l(a,c){var f=Array.prototype.slice;if(a.bind)return a.bind.apply(a,f.call(arguments,1));var y=f.call(arguments,2);return function(){return a.apply(c,y.length?y.concat(f.call(arguments)):arguments)}}var d=0;function u(a){return"_leaflet_id"in a||(a._leaflet_id=++d),a._leaflet_id}function h(a,c,f){var y,b,T,I;return I=function(){y=!1,b&&(T.apply(f,b),b=!1)},T=function(){y?b=arguments:(a.apply(f,arguments),setTimeout(I,c),y=!0)},T}function m(a,c,f){var y=c[1],b=c[0],T=y-b;return a===y&&f?a:((a-b)%T+T)%T+b}function p(){return!1}function x(a,c){if(c===!1)return a;var f=Math.pow(10,c===void 0?6:c);return Math.round(a*f)/f}function j(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")}function C(a){return j(a).split(/\s+/)}function g(a,c){Object.prototype.hasOwnProperty.call(a,"options")||(a.options=a.options?o(a.options):{});for(var f in c)a.options[f]=c[f];return a.options}function S(a,c,f){var y=[];for(var b in a)y.push(encodeURIComponent(f?b.toUpperCase():b)+"="+encodeURIComponent(a[b]));return(!c||c.indexOf("?")===-1?"?":"&")+y.join("&")}var _=/\{ *([\w_ -]+) *\}/g;function w(a,c){return a.replace(_,function(f,y){var b=c[y];if(b===void 0)throw new Error("No value provided for variable "+f);return typeof b=="function"&&(b=b(c)),b})}var N=Array.isArray||function(a){return Object.prototype.toString.call(a)==="[object Array]"};function P(a,c){for(var f=0;f<a.length;f++)if(a[f]===c)return f;return-1}var M="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(a){return window["webkit"+a]||window["moz"+a]||window["ms"+a]}var R=0;function F(a){var c=+new Date,f=Math.max(0,16-(c-R));return R=c+f,window.setTimeout(a,f)}var Y=window.requestAnimationFrame||A("RequestAnimationFrame")||F,z=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(a){window.clearTimeout(a)};function Z(a,c,f){if(f&&Y===F)a.call(c);else return Y.call(window,l(a,c))}function V(a){a&&z.call(window,a)}var te={__proto__:null,extend:i,create:o,bind:l,get lastId(){return d},stamp:u,throttle:h,wrapNum:m,falseFn:p,formatNum:x,trim:j,splitWords:C,setOptions:g,getParamString:S,template:w,isArray:N,indexOf:P,emptyImageUrl:M,requestFn:Y,cancelFn:z,requestAnimFrame:Z,cancelAnimFrame:V};function X(){}X.extend=function(a){var c=function(){g(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},f=c.__super__=this.prototype,y=o(f);y.constructor=c,c.prototype=y;for(var b in this)Object.prototype.hasOwnProperty.call(this,b)&&b!=="prototype"&&b!=="__super__"&&(c[b]=this[b]);return a.statics&&i(c,a.statics),a.includes&&(J(a.includes),i.apply(null,[y].concat(a.includes))),i(y,a),delete y.statics,delete y.includes,y.options&&(y.options=f.options?o(f.options):{},i(y.options,a.options)),y._initHooks=[],y.callInitHooks=function(){if(!this._initHooksCalled){f.callInitHooks&&f.callInitHooks.call(this),this._initHooksCalled=!0;for(var T=0,I=y._initHooks.length;T<I;T++)y._initHooks[T].call(this)}},c},X.include=function(a){var c=this.prototype.options;return i(this.prototype,a),a.options&&(this.prototype.options=c,this.mergeOptions(a.options)),this},X.mergeOptions=function(a){return i(this.prototype.options,a),this},X.addInitHook=function(a){var c=Array.prototype.slice.call(arguments,1),f=typeof a=="function"?a:function(){this[a].apply(this,c)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(f),this};function J(a){if(!(typeof L>"u"||!L||!L.Mixin)){a=N(a)?a:[a];for(var c=0;c<a.length;c++)a[c]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ne={on:function(a,c,f){if(typeof a=="object")for(var y in a)this._on(y,a[y],c);else{a=C(a);for(var b=0,T=a.length;b<T;b++)this._on(a[b],c,f)}return this},off:function(a,c,f){if(!arguments.length)delete this._events;else if(typeof a=="object")for(var y in a)this._off(y,a[y],c);else{a=C(a);for(var b=arguments.length===1,T=0,I=a.length;T<I;T++)b?this._off(a[T]):this._off(a[T],c,f)}return this},_on:function(a,c,f,y){if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}if(this._listens(a,c,f)===!1){f===this&&(f=void 0);var b={fn:c,ctx:f};y&&(b.once=!0),this._events=this._events||{},this._events[a]=this._events[a]||[],this._events[a].push(b)}},_off:function(a,c,f){var y,b,T;if(this._events&&(y=this._events[a],!!y)){if(arguments.length===1){if(this._firingCount)for(b=0,T=y.length;b<T;b++)y[b].fn=p;delete this._events[a];return}if(typeof c!="function"){console.warn("wrong listener type: "+typeof c);return}var I=this._listens(a,c,f);if(I!==!1){var H=y[I];this._firingCount&&(H.fn=p,this._events[a]=y=y.slice()),y.splice(I,1)}}},fire:function(a,c,f){if(!this.listens(a,f))return this;var y=i({},c,{type:a,target:this,sourceTarget:c&&c.sourceTarget||this});if(this._events){var b=this._events[a];if(b){this._firingCount=this._firingCount+1||1;for(var T=0,I=b.length;T<I;T++){var H=b[T],Q=H.fn;H.once&&this.off(a,Q,H.ctx),Q.call(H.ctx||this,y)}this._firingCount--}}return f&&this._propagateEvent(y),this},listens:function(a,c,f,y){typeof a!="string"&&console.warn('"string" type argument expected');var b=c;typeof c!="function"&&(y=!!c,b=void 0,f=void 0);var T=this._events&&this._events[a];if(T&&T.length&&this._listens(a,b,f)!==!1)return!0;if(y){for(var I in this._eventParents)if(this._eventParents[I].listens(a,c,f,y))return!0}return!1},_listens:function(a,c,f){if(!this._events)return!1;var y=this._events[a]||[];if(!c)return!!y.length;f===this&&(f=void 0);for(var b=0,T=y.length;b<T;b++)if(y[b].fn===c&&y[b].ctx===f)return b;return!1},once:function(a,c,f){if(typeof a=="object")for(var y in a)this._on(y,a[y],c,!0);else{a=C(a);for(var b=0,T=a.length;b<T;b++)this._on(a[b],c,f,!0)}return this},addEventParent:function(a){return this._eventParents=this._eventParents||{},this._eventParents[u(a)]=a,this},removeEventParent:function(a){return this._eventParents&&delete this._eventParents[u(a)],this},_propagateEvent:function(a){for(var c in this._eventParents)this._eventParents[c].fire(a.type,i({layer:a.target,propagatedFrom:a.target},a),!0)}};ne.addEventListener=ne.on,ne.removeEventListener=ne.clearAllEventListeners=ne.off,ne.addOneTimeEventListener=ne.once,ne.fireEvent=ne.fire,ne.hasEventListeners=ne.listens;var U=X.extend(ne);function k(a,c,f){this.x=f?Math.round(a):a,this.y=f?Math.round(c):c}var W=Math.trunc||function(a){return a>0?Math.floor(a):Math.ceil(a)};k.prototype={clone:function(){return new k(this.x,this.y)},add:function(a){return this.clone()._add(G(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(G(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},scaleBy:function(a){return new k(this.x*a.x,this.y*a.y)},unscaleBy:function(a){return new k(this.x/a.x,this.y/a.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=W(this.x),this.y=W(this.y),this},distanceTo:function(a){a=G(a);var c=a.x-this.x,f=a.y-this.y;return Math.sqrt(c*c+f*f)},equals:function(a){return a=G(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=G(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function G(a,c,f){return a instanceof k?a:N(a)?new k(a[0],a[1]):a==null?a:typeof a=="object"&&"x"in a&&"y"in a?new k(a.x,a.y):new k(a,c,f)}function le(a,c){if(a)for(var f=c?[a,c]:a,y=0,b=f.length;y<b;y++)this.extend(f[y])}le.prototype={extend:function(a){var c,f;if(!a)return this;if(a instanceof k||typeof a[0]=="number"||"x"in a)c=f=G(a);else if(a=Me(a),c=a.min,f=a.max,!c||!f)return this;return!this.min&&!this.max?(this.min=c.clone(),this.max=f.clone()):(this.min.x=Math.min(c.x,this.min.x),this.max.x=Math.max(f.x,this.max.x),this.min.y=Math.min(c.y,this.min.y),this.max.y=Math.max(f.y,this.max.y)),this},getCenter:function(a){return G((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return G(this.min.x,this.max.y)},getTopRight:function(){return G(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(a){var c,f;return typeof a[0]=="number"||a instanceof k?a=G(a):a=Me(a),a instanceof le?(c=a.min,f=a.max):c=f=a,c.x>=this.min.x&&f.x<=this.max.x&&c.y>=this.min.y&&f.y<=this.max.y},intersects:function(a){a=Me(a);var c=this.min,f=this.max,y=a.min,b=a.max,T=b.x>=c.x&&y.x<=f.x,I=b.y>=c.y&&y.y<=f.y;return T&&I},overlaps:function(a){a=Me(a);var c=this.min,f=this.max,y=a.min,b=a.max,T=b.x>c.x&&y.x<f.x,I=b.y>c.y&&y.y<f.y;return T&&I},isValid:function(){return!!(this.min&&this.max)},pad:function(a){var c=this.min,f=this.max,y=Math.abs(c.x-f.x)*a,b=Math.abs(c.y-f.y)*a;return Me(G(c.x-y,c.y-b),G(f.x+y,f.y+b))},equals:function(a){return a?(a=Me(a),this.min.equals(a.getTopLeft())&&this.max.equals(a.getBottomRight())):!1}};function Me(a,c){return!a||a instanceof le?a:new le(a,c)}function qe(a,c){if(a)for(var f=c?[a,c]:a,y=0,b=f.length;y<b;y++)this.extend(f[y])}qe.prototype={extend:function(a){var c=this._southWest,f=this._northEast,y,b;if(a instanceof Oe)y=a,b=a;else if(a instanceof qe){if(y=a._southWest,b=a._northEast,!y||!b)return this}else return a?this.extend(ke(a)||Pe(a)):this;return!c&&!f?(this._southWest=new Oe(y.lat,y.lng),this._northEast=new Oe(b.lat,b.lng)):(c.lat=Math.min(y.lat,c.lat),c.lng=Math.min(y.lng,c.lng),f.lat=Math.max(b.lat,f.lat),f.lng=Math.max(b.lng,f.lng)),this},pad:function(a){var c=this._southWest,f=this._northEast,y=Math.abs(c.lat-f.lat)*a,b=Math.abs(c.lng-f.lng)*a;return new qe(new Oe(c.lat-y,c.lng-b),new Oe(f.lat+y,f.lng+b))},getCenter:function(){return new Oe((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Oe(this.getNorth(),this.getWest())},getSouthEast:function(){return new Oe(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(a){typeof a[0]=="number"||a instanceof Oe||"lat"in a?a=ke(a):a=Pe(a);var c=this._southWest,f=this._northEast,y,b;return a instanceof qe?(y=a.getSouthWest(),b=a.getNorthEast()):y=b=a,y.lat>=c.lat&&b.lat<=f.lat&&y.lng>=c.lng&&b.lng<=f.lng},intersects:function(a){a=Pe(a);var c=this._southWest,f=this._northEast,y=a.getSouthWest(),b=a.getNorthEast(),T=b.lat>=c.lat&&y.lat<=f.lat,I=b.lng>=c.lng&&y.lng<=f.lng;return T&&I},overlaps:function(a){a=Pe(a);var c=this._southWest,f=this._northEast,y=a.getSouthWest(),b=a.getNorthEast(),T=b.lat>c.lat&&y.lat<f.lat,I=b.lng>c.lng&&y.lng<f.lng;return T&&I},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a,c){return a?(a=Pe(a),this._southWest.equals(a.getSouthWest(),c)&&this._northEast.equals(a.getNorthEast(),c)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function Pe(a,c){return a instanceof qe?a:new qe(a,c)}function Oe(a,c,f){if(isNaN(a)||isNaN(c))throw new Error("Invalid LatLng object: ("+a+", "+c+")");this.lat=+a,this.lng=+c,f!==void 0&&(this.alt=+f)}Oe.prototype={equals:function(a,c){if(!a)return!1;a=ke(a);var f=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return f<=(c===void 0?1e-9:c)},toString:function(a){return"LatLng("+x(this.lat,a)+", "+x(this.lng,a)+")"},distanceTo:function(a){return B.distance(this,ke(a))},wrap:function(){return B.wrapLatLng(this)},toBounds:function(a){var c=180*a/40075017,f=c/Math.cos(Math.PI/180*this.lat);return Pe([this.lat-c,this.lng-f],[this.lat+c,this.lng+f])},clone:function(){return new Oe(this.lat,this.lng,this.alt)}};function ke(a,c,f){return a instanceof Oe?a:N(a)&&typeof a[0]!="object"?a.length===3?new Oe(a[0],a[1],a[2]):a.length===2?new Oe(a[0],a[1]):null:a==null?a:typeof a=="object"&&"lat"in a?new Oe(a.lat,"lng"in a?a.lng:a.lon,a.alt):c===void 0?null:new Oe(a,c,f)}var E={latLngToPoint:function(a,c){var f=this.projection.project(a),y=this.scale(c);return this.transformation._transform(f,y)},pointToLatLng:function(a,c){var f=this.scale(c),y=this.transformation.untransform(a,f);return this.projection.unproject(y)},project:function(a){return this.projection.project(a)},unproject:function(a){return this.projection.unproject(a)},scale:function(a){return 256*Math.pow(2,a)},zoom:function(a){return Math.log(a/256)/Math.LN2},getProjectedBounds:function(a){if(this.infinite)return null;var c=this.projection.bounds,f=this.scale(a),y=this.transformation.transform(c.min,f),b=this.transformation.transform(c.max,f);return new le(y,b)},infinite:!1,wrapLatLng:function(a){var c=this.wrapLng?m(a.lng,this.wrapLng,!0):a.lng,f=this.wrapLat?m(a.lat,this.wrapLat,!0):a.lat,y=a.alt;return new Oe(f,c,y)},wrapLatLngBounds:function(a){var c=a.getCenter(),f=this.wrapLatLng(c),y=c.lat-f.lat,b=c.lng-f.lng;if(y===0&&b===0)return a;var T=a.getSouthWest(),I=a.getNorthEast(),H=new Oe(T.lat-y,T.lng-b),Q=new Oe(I.lat-y,I.lng-b);return new qe(H,Q)}},B=i({},E,{wrapLng:[-180,180],R:6371e3,distance:function(a,c){var f=Math.PI/180,y=a.lat*f,b=c.lat*f,T=Math.sin((c.lat-a.lat)*f/2),I=Math.sin((c.lng-a.lng)*f/2),H=T*T+Math.cos(y)*Math.cos(b)*I*I,Q=2*Math.atan2(Math.sqrt(H),Math.sqrt(1-H));return this.R*Q}}),me=6378137,$e={R:me,MAX_LATITUDE:85.0511287798,project:function(a){var c=Math.PI/180,f=this.MAX_LATITUDE,y=Math.max(Math.min(f,a.lat),-f),b=Math.sin(y*c);return new k(this.R*a.lng*c,this.R*Math.log((1+b)/(1-b))/2)},unproject:function(a){var c=180/Math.PI;return new Oe((2*Math.atan(Math.exp(a.y/this.R))-Math.PI/2)*c,a.x*c/this.R)},bounds:function(){var a=me*Math.PI;return new le([-a,-a],[a,a])}()};function Ze(a,c,f,y){if(N(a)){this._a=a[0],this._b=a[1],this._c=a[2],this._d=a[3];return}this._a=a,this._b=c,this._c=f,this._d=y}Ze.prototype={transform:function(a,c){return this._transform(a.clone(),c)},_transform:function(a,c){return c=c||1,a.x=c*(this._a*a.x+this._b),a.y=c*(this._c*a.y+this._d),a},untransform:function(a,c){return c=c||1,new k((a.x/c-this._b)/this._a,(a.y/c-this._d)/this._c)}};function lt(a,c,f,y){return new Ze(a,c,f,y)}var xn=i({},B,{code:"EPSG:3857",projection:$e,transformation:function(){var a=.5/(Math.PI*$e.R);return lt(a,.5,-a,.5)}()}),rr=i({},xn,{code:"EPSG:900913"});function Fs(a){return document.createElementNS("http://www.w3.org/2000/svg",a)}function us(a,c){var f="",y,b,T,I,H,Q;for(y=0,T=a.length;y<T;y++){for(H=a[y],b=0,I=H.length;b<I;b++)Q=H[b],f+=(b?"L":"M")+Q.x+" "+Q.y;f+=c?De.svg?"z":"x":""}return f||"M0 0"}var Kr=document.documentElement.style,Vi="ActiveXObject"in window,Ui=Vi&&!document.addEventListener,dp="msLaunchUri"in navigator&&!("documentMode"in document),Uo=zs("webkit"),O=zs("android"),K=zs("android 2")||zs("android 3"),re=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),be=O&&zs("Google")&&re<537&&!("AudioNode"in window),ge=!!window.opera,ue=!dp&&zs("chrome"),Ee=zs("gecko")&&!Uo&&!ge&&!Vi,pt=!ue&&zs("safari"),Ut=zs("phantom"),vn="OTransition"in Kr,up=navigator.platform.indexOf("Win")===0,Wo=Vi&&"transition"in Kr,Ka="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!K,zu="MozPerspective"in Kr,Bu=!window.L_DISABLE_3D&&(Wo||Ka||zu)&&!vn&&!Ut,Ga=typeof orientation<"u"||zs("mobile"),$u=Ga&&Uo,OI=Ga&&Ka,a0=!window.PointerEvent&&window.MSPointerEvent,o0=!!(window.PointerEvent||a0),l0="ontouchstart"in window||!!window.TouchEvent,DI=!window.L_NO_TOUCH&&(l0||o0),FI=Ga&&ge,zI=Ga&&Ee,BI=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,$I=function(){var a=!1;try{var c=Object.defineProperty({},"passive",{get:function(){a=!0}});window.addEventListener("testPassiveEventSupport",p,c),window.removeEventListener("testPassiveEventSupport",p,c)}catch{}return a}(),VI=function(){return!!document.createElement("canvas").getContext}(),fp=!!(document.createElementNS&&Fs("svg").createSVGRect),UI=!!fp&&function(){var a=document.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),WI=!fp&&function(){try{var a=document.createElement("div");a.innerHTML='<v:shape adj="1"/>';var c=a.firstChild;return c.style.behavior="url(#default#VML)",c&&typeof c.adj=="object"}catch{return!1}}(),HI=navigator.platform.indexOf("Mac")===0,qI=navigator.platform.indexOf("Linux")===0;function zs(a){return navigator.userAgent.toLowerCase().indexOf(a)>=0}var De={ie:Vi,ielt9:Ui,edge:dp,webkit:Uo,android:O,android23:K,androidStock:be,opera:ge,chrome:ue,gecko:Ee,safari:pt,phantom:Ut,opera12:vn,win:up,ie3d:Wo,webkit3d:Ka,gecko3d:zu,any3d:Bu,mobile:Ga,mobileWebkit:$u,mobileWebkit3d:OI,msPointer:a0,pointer:o0,touch:DI,touchNative:l0,mobileOpera:FI,mobileGecko:zI,retina:BI,passiveEvents:$I,canvas:VI,svg:fp,vml:WI,inlineSvg:UI,mac:HI,linux:qI},c0=De.msPointer?"MSPointerDown":"pointerdown",d0=De.msPointer?"MSPointerMove":"pointermove",u0=De.msPointer?"MSPointerUp":"pointerup",f0=De.msPointer?"MSPointerCancel":"pointercancel",hp={touchstart:c0,touchmove:d0,touchend:u0,touchcancel:f0},h0={touchstart:XI,touchmove:Vu,touchend:Vu,touchcancel:Vu},Ho={},m0=!1;function ZI(a,c,f){return c==="touchstart"&&QI(),h0[c]?(f=h0[c].bind(this,f),a.addEventListener(hp[c],f,!1),f):(console.warn("wrong event specified:",c),p)}function KI(a,c,f){if(!hp[c]){console.warn("wrong event specified:",c);return}a.removeEventListener(hp[c],f,!1)}function GI(a){Ho[a.pointerId]=a}function YI(a){Ho[a.pointerId]&&(Ho[a.pointerId]=a)}function p0(a){delete Ho[a.pointerId]}function QI(){m0||(document.addEventListener(c0,GI,!0),document.addEventListener(d0,YI,!0),document.addEventListener(u0,p0,!0),document.addEventListener(f0,p0,!0),m0=!0)}function Vu(a,c){if(c.pointerType!==(c.MSPOINTER_TYPE_MOUSE||"mouse")){c.touches=[];for(var f in Ho)c.touches.push(Ho[f]);c.changedTouches=[c],a(c)}}function XI(a,c){c.MSPOINTER_TYPE_TOUCH&&c.pointerType===c.MSPOINTER_TYPE_TOUCH&&On(c),Vu(a,c)}function JI(a){var c={},f,y;for(y in a)f=a[y],c[y]=f&&f.bind?f.bind(a):f;return a=c,c.type="dblclick",c.detail=2,c.isTrusted=!1,c._simulated=!0,c}var eO=200;function tO(a,c){a.addEventListener("dblclick",c);var f=0,y;function b(T){if(T.detail!==1){y=T.detail;return}if(!(T.pointerType==="mouse"||T.sourceCapabilities&&!T.sourceCapabilities.firesTouchEvents)){var I=w0(T);if(!(I.some(function(Q){return Q instanceof HTMLLabelElement&&Q.attributes.for})&&!I.some(function(Q){return Q instanceof HTMLInputElement||Q instanceof HTMLSelectElement}))){var H=Date.now();H-f<=eO?(y++,y===2&&c(JI(T))):y=1,f=H}}}return a.addEventListener("click",b),{dblclick:c,simDblclick:b}}function nO(a,c){a.removeEventListener("dblclick",c.dblclick),a.removeEventListener("click",c.simDblclick)}var mp=Hu(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Tc=Hu(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),g0=Tc==="webkitTransition"||Tc==="OTransition"?Tc+"End":"transitionend";function x0(a){return typeof a=="string"?document.getElementById(a):a}function Ec(a,c){var f=a.style[c]||a.currentStyle&&a.currentStyle[c];if((!f||f==="auto")&&document.defaultView){var y=document.defaultView.getComputedStyle(a,null);f=y?y[c]:null}return f==="auto"?null:f}function _t(a,c,f){var y=document.createElement(a);return y.className=c||"",f&&f.appendChild(y),y}function Wt(a){var c=a.parentNode;c&&c.removeChild(a)}function Uu(a){for(;a.firstChild;)a.removeChild(a.firstChild)}function qo(a){var c=a.parentNode;c&&c.lastChild!==a&&c.appendChild(a)}function Zo(a){var c=a.parentNode;c&&c.firstChild!==a&&c.insertBefore(a,c.firstChild)}function pp(a,c){if(a.classList!==void 0)return a.classList.contains(c);var f=Wu(a);return f.length>0&&new RegExp("(^|\\s)"+c+"(\\s|$)").test(f)}function et(a,c){if(a.classList!==void 0)for(var f=C(c),y=0,b=f.length;y<b;y++)a.classList.add(f[y]);else if(!pp(a,c)){var T=Wu(a);gp(a,(T?T+" ":"")+c)}}function Xt(a,c){a.classList!==void 0?a.classList.remove(c):gp(a,j((" "+Wu(a)+" ").replace(" "+c+" "," ")))}function gp(a,c){a.className.baseVal===void 0?a.className=c:a.className.baseVal=c}function Wu(a){return a.correspondingElement&&(a=a.correspondingElement),a.className.baseVal===void 0?a.className:a.className.baseVal}function Gr(a,c){"opacity"in a.style?a.style.opacity=c:"filter"in a.style&&rO(a,c)}function rO(a,c){var f=!1,y="DXImageTransform.Microsoft.Alpha";try{f=a.filters.item(y)}catch{if(c===1)return}c=Math.round(c*100),f?(f.Enabled=c!==100,f.Opacity=c):a.style.filter+=" progid:"+y+"(opacity="+c+")"}function Hu(a){for(var c=document.documentElement.style,f=0;f<a.length;f++)if(a[f]in c)return a[f];return!1}function Ya(a,c,f){var y=c||new k(0,0);a.style[mp]=(De.ie3d?"translate("+y.x+"px,"+y.y+"px)":"translate3d("+y.x+"px,"+y.y+"px,0)")+(f?" scale("+f+")":"")}function sn(a,c){a._leaflet_pos=c,De.any3d?Ya(a,c):(a.style.left=c.x+"px",a.style.top=c.y+"px")}function Qa(a){return a._leaflet_pos||new k(0,0)}var Mc,Ac,xp;if("onselectstart"in document)Mc=function(){Ke(window,"selectstart",On)},Ac=function(){At(window,"selectstart",On)};else{var Rc=Hu(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mc=function(){if(Rc){var a=document.documentElement.style;xp=a[Rc],a[Rc]="none"}},Ac=function(){Rc&&(document.documentElement.style[Rc]=xp,xp=void 0)}}function vp(){Ke(window,"dragstart",On)}function yp(){At(window,"dragstart",On)}var qu,wp;function jp(a){for(;a.tabIndex===-1;)a=a.parentNode;a.style&&(Zu(),qu=a,wp=a.style.outlineStyle,a.style.outlineStyle="none",Ke(window,"keydown",Zu))}function Zu(){qu&&(qu.style.outlineStyle=wp,qu=void 0,wp=void 0,At(window,"keydown",Zu))}function v0(a){do a=a.parentNode;while((!a.offsetWidth||!a.offsetHeight)&&a!==document.body);return a}function _p(a){var c=a.getBoundingClientRect();return{x:c.width/a.offsetWidth||1,y:c.height/a.offsetHeight||1,boundingClientRect:c}}var sO={__proto__:null,TRANSFORM:mp,TRANSITION:Tc,TRANSITION_END:g0,get:x0,getStyle:Ec,create:_t,remove:Wt,empty:Uu,toFront:qo,toBack:Zo,hasClass:pp,addClass:et,removeClass:Xt,setClass:gp,getClass:Wu,setOpacity:Gr,testProp:Hu,setTransform:Ya,setPosition:sn,getPosition:Qa,get disableTextSelection(){return Mc},get enableTextSelection(){return Ac},disableImageDrag:vp,enableImageDrag:yp,preventOutline:jp,restoreOutline:Zu,getSizedParentNode:v0,getScale:_p};function Ke(a,c,f,y){if(c&&typeof c=="object")for(var b in c)Np(a,b,c[b],f);else{c=C(c);for(var T=0,I=c.length;T<I;T++)Np(a,c[T],f,y)}return this}var Bs="_leaflet_events";function At(a,c,f,y){if(arguments.length===1)y0(a),delete a[Bs];else if(c&&typeof c=="object")for(var b in c)Sp(a,b,c[b],f);else if(c=C(c),arguments.length===2)y0(a,function(H){return P(c,H)!==-1});else for(var T=0,I=c.length;T<I;T++)Sp(a,c[T],f,y);return this}function y0(a,c){for(var f in a[Bs]){var y=f.split(/\d/)[0];(!c||c(y))&&Sp(a,y,null,null,f)}}var bp={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Np(a,c,f,y){var b=c+u(f)+(y?"_"+u(y):"");if(a[Bs]&&a[Bs][b])return this;var T=function(H){return f.call(y||a,H||window.event)},I=T;!De.touchNative&&De.pointer&&c.indexOf("touch")===0?T=ZI(a,c,T):De.touch&&c==="dblclick"?T=tO(a,T):"addEventListener"in a?c==="touchstart"||c==="touchmove"||c==="wheel"||c==="mousewheel"?a.addEventListener(bp[c]||c,T,De.passiveEvents?{passive:!1}:!1):c==="mouseenter"||c==="mouseleave"?(T=function(H){H=H||window.event,Pp(a,H)&&I(H)},a.addEventListener(bp[c],T,!1)):a.addEventListener(c,I,!1):a.attachEvent("on"+c,T),a[Bs]=a[Bs]||{},a[Bs][b]=T}function Sp(a,c,f,y,b){b=b||c+u(f)+(y?"_"+u(y):"");var T=a[Bs]&&a[Bs][b];if(!T)return this;!De.touchNative&&De.pointer&&c.indexOf("touch")===0?KI(a,c,T):De.touch&&c==="dblclick"?nO(a,T):"removeEventListener"in a?a.removeEventListener(bp[c]||c,T,!1):a.detachEvent("on"+c,T),a[Bs][b]=null}function Xa(a){return a.stopPropagation?a.stopPropagation():a.originalEvent?a.originalEvent._stopped=!0:a.cancelBubble=!0,this}function Cp(a){return Np(a,"wheel",Xa),this}function Lc(a){return Ke(a,"mousedown touchstart dblclick contextmenu",Xa),a._leaflet_disable_click=!0,this}function On(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this}function Ja(a){return On(a),Xa(a),this}function w0(a){if(a.composedPath)return a.composedPath();for(var c=[],f=a.target;f;)c.push(f),f=f.parentNode;return c}function j0(a,c){if(!c)return new k(a.clientX,a.clientY);var f=_p(c),y=f.boundingClientRect;return new k((a.clientX-y.left)/f.x-c.clientLeft,(a.clientY-y.top)/f.y-c.clientTop)}var iO=De.linux&&De.chrome?window.devicePixelRatio:De.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function _0(a){return De.edge?a.wheelDeltaY/2:a.deltaY&&a.deltaMode===0?-a.deltaY/iO:a.deltaY&&a.deltaMode===1?-a.deltaY*20:a.deltaY&&a.deltaMode===2?-a.deltaY*60:a.deltaX||a.deltaZ?0:a.wheelDelta?(a.wheelDeltaY||a.wheelDelta)/2:a.detail&&Math.abs(a.detail)<32765?-a.detail*20:a.detail?a.detail/-32765*60:0}function Pp(a,c){var f=c.relatedTarget;if(!f)return!0;try{for(;f&&f!==a;)f=f.parentNode}catch{return!1}return f!==a}var aO={__proto__:null,on:Ke,off:At,stopPropagation:Xa,disableScrollPropagation:Cp,disableClickPropagation:Lc,preventDefault:On,stop:Ja,getPropagationPath:w0,getMousePosition:j0,getWheelDelta:_0,isExternalTarget:Pp,addListener:Ke,removeListener:At},b0=U.extend({run:function(a,c,f,y){this.stop(),this._el=a,this._inProgress=!0,this._duration=f||.25,this._easeOutPower=1/Math.max(y||.5,.2),this._startPos=Qa(a),this._offset=c.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Z(this._animate,this),this._step()},_step:function(a){var c=+new Date-this._startTime,f=this._duration*1e3;c<f?this._runFrame(this._easeOut(c/f),a):(this._runFrame(1),this._complete())},_runFrame:function(a,c){var f=this._startPos.add(this._offset.multiplyBy(a));c&&f._round(),sn(this._el,f),this.fire("step")},_complete:function(){V(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),gt=U.extend({options:{crs:xn,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(a,c){c=g(this,c),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(a),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),c.maxBounds&&this.setMaxBounds(c.maxBounds),c.zoom!==void 0&&(this._zoom=this._limitZoom(c.zoom)),c.center&&c.zoom!==void 0&&this.setView(ke(c.center),c.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Tc&&De.any3d&&!De.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ke(this._proxy,g0,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(a,c,f){if(c=c===void 0?this._zoom:this._limitZoom(c),a=this._limitCenter(ke(a),c,this.options.maxBounds),f=f||{},this._stop(),this._loaded&&!f.reset&&f!==!0){f.animate!==void 0&&(f.zoom=i({animate:f.animate},f.zoom),f.pan=i({animate:f.animate,duration:f.duration},f.pan));var y=this._zoom!==c?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,c,f.zoom):this._tryAnimatedPan(a,f.pan);if(y)return clearTimeout(this._sizeTimer),this}return this._resetView(a,c,f.pan&&f.pan.noMoveStart),this},setZoom:function(a,c){return this._loaded?this.setView(this.getCenter(),a,{zoom:c}):(this._zoom=a,this)},zoomIn:function(a,c){return a=a||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+a,c)},zoomOut:function(a,c){return a=a||(De.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-a,c)},setZoomAround:function(a,c,f){var y=this.getZoomScale(c),b=this.getSize().divideBy(2),T=a instanceof k?a:this.latLngToContainerPoint(a),I=T.subtract(b).multiplyBy(1-1/y),H=this.containerPointToLatLng(b.add(I));return this.setView(H,c,{zoom:f})},_getBoundsCenterZoom:function(a,c){c=c||{},a=a.getBounds?a.getBounds():Pe(a);var f=G(c.paddingTopLeft||c.padding||[0,0]),y=G(c.paddingBottomRight||c.padding||[0,0]),b=this.getBoundsZoom(a,!1,f.add(y));if(b=typeof c.maxZoom=="number"?Math.min(c.maxZoom,b):b,b===1/0)return{center:a.getCenter(),zoom:b};var T=y.subtract(f).divideBy(2),I=this.project(a.getSouthWest(),b),H=this.project(a.getNorthEast(),b),Q=this.unproject(I.add(H).divideBy(2).add(T),b);return{center:Q,zoom:b}},fitBounds:function(a,c){if(a=Pe(a),!a.isValid())throw new Error("Bounds are not valid.");var f=this._getBoundsCenterZoom(a,c);return this.setView(f.center,f.zoom,c)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,c){return this.setView(a,this._zoom,{pan:c})},panBy:function(a,c){if(a=G(a).round(),c=c||{},!a.x&&!a.y)return this.fire("moveend");if(c.animate!==!0&&!this.getSize().contains(a))return this._resetView(this.unproject(this.project(this.getCenter()).add(a)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new b0,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),c.noMoveStart||this.fire("movestart"),c.animate!==!1){et(this._mapPane,"leaflet-pan-anim");var f=this._getMapPanePos().subtract(a).round();this._panAnim.run(this._mapPane,f,c.duration||.25,c.easeLinearity)}else this._rawPanBy(a),this.fire("move").fire("moveend");return this},flyTo:function(a,c,f){if(f=f||{},f.animate===!1||!De.any3d)return this.setView(a,c,f);this._stop();var y=this.project(this.getCenter()),b=this.project(a),T=this.getSize(),I=this._zoom;a=ke(a),c=c===void 0?I:c;var H=Math.max(T.x,T.y),Q=H*this.getZoomScale(I,c),ae=b.distanceTo(y)||1,Ne=1.42,Ve=Ne*Ne;function st(an){var af=an?-1:1,KO=an?Q:H,GO=Q*Q-H*H+af*Ve*Ve*ae*ae,YO=2*KO*Ve*ae,Fp=GO/YO,rj=Math.sqrt(Fp*Fp+1)-Fp,QO=rj<1e-9?-18:Math.log(rj);return QO}function sr(an){return(Math.exp(an)-Math.exp(-an))/2}function Cn(an){return(Math.exp(an)+Math.exp(-an))/2}function Qr(an){return sr(an)/Cn(an)}var yr=st(0);function Jo(an){return H*(Cn(yr)/Cn(yr+Ne*an))}function WO(an){return H*(Cn(yr)*Qr(yr+Ne*an)-sr(yr))/Ve}function HO(an){return 1-Math.pow(1-an,1.5)}var qO=Date.now(),tj=(st(1)-yr)/Ne,ZO=f.duration?1e3*f.duration:1e3*tj*.8;function nj(){var an=(Date.now()-qO)/ZO,af=HO(an)*tj;an<=1?(this._flyToFrame=Z(nj,this),this._move(this.unproject(y.add(b.subtract(y).multiplyBy(WO(af)/ae)),I),this.getScaleZoom(H/Jo(af),I),{flyTo:!0})):this._move(a,c)._moveEnd(!0)}return this._moveStart(!0,f.noMoveStart),nj.call(this),this},flyToBounds:function(a,c){var f=this._getBoundsCenterZoom(a,c);return this.flyTo(f.center,f.zoom,c)},setMaxBounds:function(a){return a=Pe(a),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),a.isValid()?(this.options.maxBounds=a,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(a){var c=this.options.minZoom;return this.options.minZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(a):this},setMaxZoom:function(a){var c=this.options.maxZoom;return this.options.maxZoom=a,this._loaded&&c!==a&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(a):this},panInsideBounds:function(a,c){this._enforcingBounds=!0;var f=this.getCenter(),y=this._limitCenter(f,this._zoom,Pe(a));return f.equals(y)||this.panTo(y,c),this._enforcingBounds=!1,this},panInside:function(a,c){c=c||{};var f=G(c.paddingTopLeft||c.padding||[0,0]),y=G(c.paddingBottomRight||c.padding||[0,0]),b=this.project(this.getCenter()),T=this.project(a),I=this.getPixelBounds(),H=Me([I.min.add(f),I.max.subtract(y)]),Q=H.getSize();if(!H.contains(T)){this._enforcingBounds=!0;var ae=T.subtract(H.getCenter()),Ne=H.extend(T).getSize().subtract(Q);b.x+=ae.x<0?-Ne.x:Ne.x,b.y+=ae.y<0?-Ne.y:Ne.y,this.panTo(this.unproject(b),c),this._enforcingBounds=!1}return this},invalidateSize:function(a){if(!this._loaded)return this;a=i({animate:!1,pan:!0},a===!0?{animate:!0}:a);var c=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var f=this.getSize(),y=c.divideBy(2).round(),b=f.divideBy(2).round(),T=y.subtract(b);return!T.x&&!T.y?this:(a.animate&&a.pan?this.panBy(T):(a.pan&&this._rawPanBy(T),this.fire("move"),a.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:c,newSize:f}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(a){if(a=this._locateOptions=i({timeout:1e4,watch:!1},a),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var c=l(this._handleGeolocationResponse,this),f=l(this._handleGeolocationError,this);return a.watch?this._locationWatchId=navigator.geolocation.watchPosition(c,f,a):navigator.geolocation.getCurrentPosition(c,f,a),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(a){if(this._container._leaflet_id){var c=a.code,f=a.message||(c===1?"permission denied":c===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:c,message:"Geolocation error: "+f+"."})}},_handleGeolocationResponse:function(a){if(this._container._leaflet_id){var c=a.coords.latitude,f=a.coords.longitude,y=new Oe(c,f),b=y.toBounds(a.coords.accuracy*2),T=this._locateOptions;if(T.setView){var I=this.getBoundsZoom(b);this.setView(y,T.maxZoom?Math.min(I,T.maxZoom):I)}var H={latlng:y,bounds:b,timestamp:a.timestamp};for(var Q in a.coords)typeof a.coords[Q]=="number"&&(H[Q]=a.coords[Q]);this.fire("locationfound",H)}},addHandler:function(a,c){if(!c)return this;var f=this[a]=new c(this);return this._handlers.push(f),this.options[a]&&f.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Wt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(V(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var a;for(a in this._layers)this._layers[a].remove();for(a in this._panes)Wt(this._panes[a]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(a,c){var f="leaflet-pane"+(a?" leaflet-"+a.replace("Pane","")+"-pane":""),y=_t("div",f,c||this._mapPane);return a&&(this._panes[a]=y),y},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var a=this.getPixelBounds(),c=this.unproject(a.getBottomLeft()),f=this.unproject(a.getTopRight());return new qe(c,f)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(a,c,f){a=Pe(a),f=G(f||[0,0]);var y=this.getZoom()||0,b=this.getMinZoom(),T=this.getMaxZoom(),I=a.getNorthWest(),H=a.getSouthEast(),Q=this.getSize().subtract(f),ae=Me(this.project(H,y),this.project(I,y)).getSize(),Ne=De.any3d?this.options.zoomSnap:1,Ve=Q.x/ae.x,st=Q.y/ae.y,sr=c?Math.max(Ve,st):Math.min(Ve,st);return y=this.getScaleZoom(sr,y),Ne&&(y=Math.round(y/(Ne/100))*(Ne/100),y=c?Math.ceil(y/Ne)*Ne:Math.floor(y/Ne)*Ne),Math.max(b,Math.min(T,y))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new k(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(a,c){var f=this._getTopLeftPoint(a,c);return new le(f,f.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(a){return this.options.crs.getProjectedBounds(a===void 0?this.getZoom():a)},getPane:function(a){return typeof a=="string"?this._panes[a]:a},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a,c){var f=this.options.crs;return c=c===void 0?this._zoom:c,f.scale(a)/f.scale(c)},getScaleZoom:function(a,c){var f=this.options.crs;c=c===void 0?this._zoom:c;var y=f.zoom(a*f.scale(c));return isNaN(y)?1/0:y},project:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.latLngToPoint(ke(a),c)},unproject:function(a,c){return c=c===void 0?this._zoom:c,this.options.crs.pointToLatLng(G(a),c)},layerPointToLatLng:function(a){var c=G(a).add(this.getPixelOrigin());return this.unproject(c)},latLngToLayerPoint:function(a){var c=this.project(ke(a))._round();return c._subtract(this.getPixelOrigin())},wrapLatLng:function(a){return this.options.crs.wrapLatLng(ke(a))},wrapLatLngBounds:function(a){return this.options.crs.wrapLatLngBounds(Pe(a))},distance:function(a,c){return this.options.crs.distance(ke(a),ke(c))},containerPointToLayerPoint:function(a){return G(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return G(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var c=this.containerPointToLayerPoint(G(a));return this.layerPointToLatLng(c)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(ke(a)))},mouseEventToContainerPoint:function(a){return j0(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var c=this._container=x0(a);if(c){if(c._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ke(c,"scroll",this._onScroll,this),this._containerId=u(c)},_initLayout:function(){var a=this._container;this._fadeAnimated=this.options.fadeAnimation&&De.any3d,et(a,"leaflet-container"+(De.touch?" leaflet-touch":"")+(De.retina?" leaflet-retina":"")+(De.ielt9?" leaflet-oldie":"")+(De.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var c=Ec(a,"position");c!=="absolute"&&c!=="relative"&&c!=="fixed"&&c!=="sticky"&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),sn(this._mapPane,new k(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(et(a.markerPane,"leaflet-zoom-hide"),et(a.shadowPane,"leaflet-zoom-hide"))},_resetView:function(a,c,f){sn(this._mapPane,new k(0,0));var y=!this._loaded;this._loaded=!0,c=this._limitZoom(c),this.fire("viewprereset");var b=this._zoom!==c;this._moveStart(b,f)._move(a,c)._moveEnd(b),this.fire("viewreset"),y&&this.fire("load")},_moveStart:function(a,c){return a&&this.fire("zoomstart"),c||this.fire("movestart"),this},_move:function(a,c,f,y){c===void 0&&(c=this._zoom);var b=this._zoom!==c;return this._zoom=c,this._lastCenter=a,this._pixelOrigin=this._getNewPixelOrigin(a),y?f&&f.pinch&&this.fire("zoom",f):((b||f&&f.pinch)&&this.fire("zoom",f),this.fire("move",f)),this},_moveEnd:function(a){return a&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return V(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(a){sn(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(a){this._targets={},this._targets[u(this._container)]=this;var c=a?At:Ke;c(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&c(window,"resize",this._onResize,this),De.any3d&&this.options.transform3DLimit&&(a?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){V(this._resizeRequest),this._resizeRequest=Z(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var a=this._getMapPanePos();Math.max(Math.abs(a.x),Math.abs(a.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(a,c){for(var f=[],y,b=c==="mouseout"||c==="mouseover",T=a.target||a.srcElement,I=!1;T;){if(y=this._targets[u(T)],y&&(c==="click"||c==="preclick")&&this._draggableMoved(y)){I=!0;break}if(y&&y.listens(c,!0)&&(b&&!Pp(T,a)||(f.push(y),b))||T===this._container)break;T=T.parentNode}return!f.length&&!I&&!b&&this.listens(c,!0)&&(f=[this]),f},_isClickDisabled:function(a){for(;a&&a!==this._container;){if(a._leaflet_disable_click)return!0;a=a.parentNode}},_handleDOMEvent:function(a){var c=a.target||a.srcElement;if(!(!this._loaded||c._leaflet_disable_events||a.type==="click"&&this._isClickDisabled(c))){var f=a.type;f==="mousedown"&&jp(c),this._fireDOMEvent(a,f)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(a,c,f){if(a.type==="click"){var y=i({},a);y.type="preclick",this._fireDOMEvent(y,y.type,f)}var b=this._findEventTargets(a,c);if(f){for(var T=[],I=0;I<f.length;I++)f[I].listens(c,!0)&&T.push(f[I]);b=T.concat(b)}if(b.length){c==="contextmenu"&&On(a);var H=b[0],Q={originalEvent:a};if(a.type!=="keypress"&&a.type!=="keydown"&&a.type!=="keyup"){var ae=H.getLatLng&&(!H._radius||H._radius<=10);Q.containerPoint=ae?this.latLngToContainerPoint(H.getLatLng()):this.mouseEventToContainerPoint(a),Q.layerPoint=this.containerPointToLayerPoint(Q.containerPoint),Q.latlng=ae?H.getLatLng():this.layerPointToLatLng(Q.layerPoint)}for(I=0;I<b.length;I++)if(b[I].fire(c,Q,!0),Q.originalEvent._stopped||b[I].options.bubblingMouseEvents===!1&&P(this._mouseEvents,c)!==-1)return}},_draggableMoved:function(a){return a=a.dragging&&a.dragging.enabled()?a:this,a.dragging&&a.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var a=0,c=this._handlers.length;a<c;a++)this._handlers[a].disable()},whenReady:function(a,c){return this._loaded?a.call(c||this,{target:this}):this.on("load",a,c),this},_getMapPanePos:function(){return Qa(this._mapPane)||new k(0,0)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(a,c){var f=a&&c!==void 0?this._getNewPixelOrigin(a,c):this.getPixelOrigin();return f.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(a,c){var f=this.getSize()._divideBy(2);return this.project(a,c)._subtract(f)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(a,c,f){var y=this._getNewPixelOrigin(f,c);return this.project(a,c)._subtract(y)},_latLngBoundsToNewLayerBounds:function(a,c,f){var y=this._getNewPixelOrigin(f,c);return Me([this.project(a.getSouthWest(),c)._subtract(y),this.project(a.getNorthWest(),c)._subtract(y),this.project(a.getSouthEast(),c)._subtract(y),this.project(a.getNorthEast(),c)._subtract(y)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(a,c,f){if(!f)return a;var y=this.project(a,c),b=this.getSize().divideBy(2),T=new le(y.subtract(b),y.add(b)),I=this._getBoundsOffset(T,f,c);return Math.abs(I.x)<=1&&Math.abs(I.y)<=1?a:this.unproject(y.add(I),c)},_limitOffset:function(a,c){if(!c)return a;var f=this.getPixelBounds(),y=new le(f.min.add(a),f.max.add(a));return a.add(this._getBoundsOffset(y,c))},_getBoundsOffset:function(a,c,f){var y=Me(this.project(c.getNorthEast(),f),this.project(c.getSouthWest(),f)),b=y.min.subtract(a.min),T=y.max.subtract(a.max),I=this._rebound(b.x,-T.x),H=this._rebound(b.y,-T.y);return new k(I,H)},_rebound:function(a,c){return a+c>0?Math.round(a-c)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(c))},_limitZoom:function(a){var c=this.getMinZoom(),f=this.getMaxZoom(),y=De.any3d?this.options.zoomSnap:1;return y&&(a=Math.round(a/y)*y),Math.max(c,Math.min(f,a))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Xt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(a,c){var f=this._getCenterOffset(a)._trunc();return(c&&c.animate)!==!0&&!this.getSize().contains(f)?!1:(this.panBy(f,c),!0)},_createAnimProxy:function(){var a=this._proxy=_t("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(a),this.on("zoomanim",function(c){var f=mp,y=this._proxy.style[f];Ya(this._proxy,this.project(c.center,c.zoom),this.getZoomScale(c.zoom,1)),y===this._proxy.style[f]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Wt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var a=this.getCenter(),c=this.getZoom();Ya(this._proxy,this.project(a,c),this.getZoomScale(c,1))},_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(a,c,f){if(this._animatingZoom)return!0;if(f=f||{},!this._zoomAnimated||f.animate===!1||this._nothingToAnimate()||Math.abs(c-this._zoom)>this.options.zoomAnimationThreshold)return!1;var y=this.getZoomScale(c),b=this._getCenterOffset(a)._divideBy(1-1/y);return f.animate!==!0&&!this.getSize().contains(b)?!1:(Z(function(){this._moveStart(!0,f.noMoveStart||!1)._animateZoom(a,c,!0)},this),!0)},_animateZoom:function(a,c,f,y){this._mapPane&&(f&&(this._animatingZoom=!0,this._animateToCenter=a,this._animateToZoom=c,et(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:a,zoom:c,noUpdate:y}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Xt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function oO(a,c){return new gt(a,c)}var fs=X.extend({options:{position:"topright"},initialize:function(a){g(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var c=this._map;return c&&c.removeControl(this),this.options.position=a,c&&c.addControl(this),this},getContainer:function(){return this._container},addTo:function(a){this.remove(),this._map=a;var c=this._container=this.onAdd(a),f=this.getPosition(),y=a._controlCorners[f];return et(c,"leaflet-control"),f.indexOf("bottom")!==-1?y.insertBefore(c,y.firstChild):y.appendChild(c),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Wt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(a){this._map&&a&&a.screenX>0&&a.screenY>0&&this._map.getContainer().focus()}}),Ic=function(a){return new fs(a)};gt.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.remove(),this},_initControlPos:function(){var a=this._controlCorners={},c="leaflet-",f=this._controlContainer=_t("div",c+"control-container",this._container);function y(b,T){var I=c+b+" "+c+T;a[b+T]=_t("div",I,f)}y("top","left"),y("top","right"),y("bottom","left"),y("bottom","right")},_clearControlPos:function(){for(var a in this._controlCorners)Wt(this._controlCorners[a]);Wt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var N0=fs.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(a,c,f,y){return f<y?-1:y<f?1:0}},initialize:function(a,c,f){g(this,f),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var y in a)this._addLayer(a[y],y);for(y in c)this._addLayer(c[y],y,!0)},onAdd:function(a){this._initLayout(),this._update(),this._map=a,a.on("zoomend",this._checkDisabledLayers,this);for(var c=0;c<this._layers.length;c++)this._layers[c].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(a){return fs.prototype.addTo.call(this,a),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(a,c){return this._addLayer(a,c),this._map?this._update():this},addOverlay:function(a,c){return this._addLayer(a,c,!0),this._map?this._update():this},removeLayer:function(a){a.off("add remove",this._onLayerChange,this);var c=this._getLayer(u(a));return c&&this._layers.splice(this._layers.indexOf(c),1),this._map?this._update():this},expand:function(){et(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var a=this._map.getSize().y-(this._container.offsetTop+50);return a<this._section.clientHeight?(et(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=a+"px"):Xt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Xt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var a="leaflet-control-layers",c=this._container=_t("div",a),f=this.options.collapsed;c.setAttribute("aria-haspopup",!0),Lc(c),Cp(c);var y=this._section=_t("section",a+"-list");f&&(this._map.on("click",this.collapse,this),Ke(c,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var b=this._layersLink=_t("a",a+"-toggle",c);b.href="#",b.title="Layers",b.setAttribute("role","button"),Ke(b,{keydown:function(T){T.keyCode===13&&this._expandSafely()},click:function(T){On(T),this._expandSafely()}},this),f||this.expand(),this._baseLayersList=_t("div",a+"-base",y),this._separator=_t("div",a+"-separator",y),this._overlaysList=_t("div",a+"-overlays",y),c.appendChild(y)},_getLayer:function(a){for(var c=0;c<this._layers.length;c++)if(this._layers[c]&&u(this._layers[c].layer)===a)return this._layers[c]},_addLayer:function(a,c,f){this._map&&a.on("add remove",this._onLayerChange,this),this._layers.push({layer:a,name:c,overlay:f}),this.options.sortLayers&&this._layers.sort(l(function(y,b){return this.options.sortFunction(y.layer,b.layer,y.name,b.name)},this)),this.options.autoZIndex&&a.setZIndex&&(this._lastZIndex++,a.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Uu(this._baseLayersList),Uu(this._overlaysList),this._layerControlInputs=[];var a,c,f,y,b=0;for(f=0;f<this._layers.length;f++)y=this._layers[f],this._addItem(y),c=c||y.overlay,a=a||!y.overlay,b+=y.overlay?0:1;return this.options.hideSingleBase&&(a=a&&b>1,this._baseLayersList.style.display=a?"":"none"),this._separator.style.display=c&&a?"":"none",this},_onLayerChange:function(a){this._handlingClick||this._update();var c=this._getLayer(u(a.target)),f=c.overlay?a.type==="add"?"overlayadd":"overlayremove":a.type==="add"?"baselayerchange":null;f&&this._map.fire(f,c)},_createRadioElement:function(a,c){var f='<input type="radio" class="leaflet-control-layers-selector" name="'+a+'"'+(c?' checked="checked"':"")+"/>",y=document.createElement("div");return y.innerHTML=f,y.firstChild},_addItem:function(a){var c=document.createElement("label"),f=this._map.hasLayer(a.layer),y;a.overlay?(y=document.createElement("input"),y.type="checkbox",y.className="leaflet-control-layers-selector",y.defaultChecked=f):y=this._createRadioElement("leaflet-base-layers_"+u(this),f),this._layerControlInputs.push(y),y.layerId=u(a.layer),Ke(y,"click",this._onInputClick,this);var b=document.createElement("span");b.innerHTML=" "+a.name;var T=document.createElement("span");c.appendChild(T),T.appendChild(y),T.appendChild(b);var I=a.overlay?this._overlaysList:this._baseLayersList;return I.appendChild(c),this._checkDisabledLayers(),c},_onInputClick:function(){if(!this._preventClick){var a=this._layerControlInputs,c,f,y=[],b=[];this._handlingClick=!0;for(var T=a.length-1;T>=0;T--)c=a[T],f=this._getLayer(c.layerId).layer,c.checked?y.push(f):c.checked||b.push(f);for(T=0;T<b.length;T++)this._map.hasLayer(b[T])&&this._map.removeLayer(b[T]);for(T=0;T<y.length;T++)this._map.hasLayer(y[T])||this._map.addLayer(y[T]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var a=this._layerControlInputs,c,f,y=this._map.getZoom(),b=a.length-1;b>=0;b--)c=a[b],f=this._getLayer(c.layerId).layer,c.disabled=f.options.minZoom!==void 0&&y<f.options.minZoom||f.options.maxZoom!==void 0&&y>f.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var a=this._section;this._preventClick=!0,Ke(a,"click",On),this.expand();var c=this;setTimeout(function(){At(a,"click",On),c._preventClick=!1})}}),lO=function(a,c,f){return new N0(a,c,f)},kp=fs.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(a){var c="leaflet-control-zoom",f=_t("div",c+" leaflet-bar"),y=this.options;return this._zoomInButton=this._createButton(y.zoomInText,y.zoomInTitle,c+"-in",f,this._zoomIn),this._zoomOutButton=this._createButton(y.zoomOutText,y.zoomOutTitle,c+"-out",f,this._zoomOut),this._updateDisabled(),a.on("zoomend zoomlevelschange",this._updateDisabled,this),f},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(a){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(a.shiftKey?3:1))},_zoomOut:function(a){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(a.shiftKey?3:1))},_createButton:function(a,c,f,y,b){var T=_t("a",f,y);return T.innerHTML=a,T.href="#",T.title=c,T.setAttribute("role","button"),T.setAttribute("aria-label",c),Lc(T),Ke(T,"click",Ja),Ke(T,"click",b,this),Ke(T,"click",this._refocusOnMap,this),T},_updateDisabled:function(){var a=this._map,c="leaflet-disabled";Xt(this._zoomInButton,c),Xt(this._zoomOutButton,c),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||a._zoom===a.getMinZoom())&&(et(this._zoomOutButton,c),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||a._zoom===a.getMaxZoom())&&(et(this._zoomInButton,c),this._zoomInButton.setAttribute("aria-disabled","true"))}});gt.mergeOptions({zoomControl:!0}),gt.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new kp,this.addControl(this.zoomControl))});var cO=function(a){return new kp(a)},S0=fs.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(a){var c="leaflet-control-scale",f=_t("div",c),y=this.options;return this._addScales(y,c+"-line",f),a.on(y.updateWhenIdle?"moveend":"move",this._update,this),a.whenReady(this._update,this),f},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(a,c,f){a.metric&&(this._mScale=_t("div",c,f)),a.imperial&&(this._iScale=_t("div",c,f))},_update:function(){var a=this._map,c=a.getSize().y/2,f=a.distance(a.containerPointToLatLng([0,c]),a.containerPointToLatLng([this.options.maxWidth,c]));this._updateScales(f)},_updateScales:function(a){this.options.metric&&a&&this._updateMetric(a),this.options.imperial&&a&&this._updateImperial(a)},_updateMetric:function(a){var c=this._getRoundNum(a),f=c<1e3?c+" m":c/1e3+" km";this._updateScale(this._mScale,f,c/a)},_updateImperial:function(a){var c=a*3.2808399,f,y,b;c>5280?(f=c/5280,y=this._getRoundNum(f),this._updateScale(this._iScale,y+" mi",y/f)):(b=this._getRoundNum(c),this._updateScale(this._iScale,b+" ft",b/c))},_updateScale:function(a,c,f){a.style.width=Math.round(this.options.maxWidth*f)+"px",a.innerHTML=c},_getRoundNum:function(a){var c=Math.pow(10,(Math.floor(a)+"").length-1),f=a/c;return f=f>=10?10:f>=5?5:f>=3?3:f>=2?2:1,c*f}}),dO=function(a){return new S0(a)},uO='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Tp=fs.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(De.inlineSvg?uO+" ":"")+"Leaflet</a>"},initialize:function(a){g(this,a),this._attributions={}},onAdd:function(a){a.attributionControl=this,this._container=_t("div","leaflet-control-attribution"),Lc(this._container);for(var c in a._layers)a._layers[c].getAttribution&&this.addAttribution(a._layers[c].getAttribution());return this._update(),a.on("layeradd",this._addAttribution,this),this._container},onRemove:function(a){a.off("layeradd",this._addAttribution,this)},_addAttribution:function(a){a.layer.getAttribution&&(this.addAttribution(a.layer.getAttribution()),a.layer.once("remove",function(){this.removeAttribution(a.layer.getAttribution())},this))},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):this},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):this},_update:function(){if(this._map){var a=[];for(var c in this._attributions)this._attributions[c]&&a.push(c);var f=[];this.options.prefix&&f.push(this.options.prefix),a.length&&f.push(a.join(", ")),this._container.innerHTML=f.join(' <span aria-hidden="true">|</span> ')}}});gt.mergeOptions({attributionControl:!0}),gt.addInitHook(function(){this.options.attributionControl&&new Tp().addTo(this)});var fO=function(a){return new Tp(a)};fs.Layers=N0,fs.Zoom=kp,fs.Scale=S0,fs.Attribution=Tp,Ic.layers=lO,Ic.zoom=cO,Ic.scale=dO,Ic.attribution=fO;var $s=X.extend({initialize:function(a){this._map=a},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});$s.addTo=function(a,c){return a.addHandler(c,this),this};var hO={Events:ne},C0=De.touch?"touchstart mousedown":"mousedown",Wi=U.extend({options:{clickTolerance:3},initialize:function(a,c,f,y){g(this,y),this._element=a,this._dragStartTarget=c||a,this._preventOutline=f},enable:function(){this._enabled||(Ke(this._dragStartTarget,C0,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Wi._dragging===this&&this.finishDrag(!0),At(this._dragStartTarget,C0,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(a){if(this._enabled&&(this._moved=!1,!pp(this._element,"leaflet-zoom-anim"))){if(a.touches&&a.touches.length!==1){Wi._dragging===this&&this.finishDrag();return}if(!(Wi._dragging||a.shiftKey||a.which!==1&&a.button!==1&&!a.touches)&&(Wi._dragging=this,this._preventOutline&&jp(this._element),vp(),Mc(),!this._moving)){this.fire("down");var c=a.touches?a.touches[0]:a,f=v0(this._element);this._startPoint=new k(c.clientX,c.clientY),this._startPos=Qa(this._element),this._parentScale=_p(f);var y=a.type==="mousedown";Ke(document,y?"mousemove":"touchmove",this._onMove,this),Ke(document,y?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(a){if(this._enabled){if(a.touches&&a.touches.length>1){this._moved=!0;return}var c=a.touches&&a.touches.length===1?a.touches[0]:a,f=new k(c.clientX,c.clientY)._subtract(this._startPoint);!f.x&&!f.y||Math.abs(f.x)+Math.abs(f.y)<this.options.clickTolerance||(f.x/=this._parentScale.x,f.y/=this._parentScale.y,On(a),this._moved||(this.fire("dragstart"),this._moved=!0,et(document.body,"leaflet-dragging"),this._lastTarget=a.target||a.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),et(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(f),this._moving=!0,this._lastEvent=a,this._updatePosition())}},_updatePosition:function(){var a={originalEvent:this._lastEvent};this.fire("predrag",a),sn(this._element,this._newPos),this.fire("drag",a)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(a){Xt(document.body,"leaflet-dragging"),this._lastTarget&&(Xt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),At(document,"mousemove touchmove",this._onMove,this),At(document,"mouseup touchend touchcancel",this._onUp,this),yp(),Ac();var c=this._moved&&this._moving;this._moving=!1,Wi._dragging=!1,c&&this.fire("dragend",{noInertia:a,distance:this._newPos.distanceTo(this._startPos)})}});function P0(a,c,f){var y,b=[1,4,2,8],T,I,H,Q,ae,Ne,Ve,st;for(T=0,Ne=a.length;T<Ne;T++)a[T]._code=eo(a[T],c);for(H=0;H<4;H++){for(Ve=b[H],y=[],T=0,Ne=a.length,I=Ne-1;T<Ne;I=T++)Q=a[T],ae=a[I],Q._code&Ve?ae._code&Ve||(st=Ku(ae,Q,Ve,c,f),st._code=eo(st,c),y.push(st)):(ae._code&Ve&&(st=Ku(ae,Q,Ve,c,f),st._code=eo(st,c),y.push(st)),y.push(Q));a=y}return a}function k0(a,c){var f,y,b,T,I,H,Q,ae,Ne;if(!a||a.length===0)throw new Error("latlngs not passed");Yr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ve=ke([0,0]),st=Pe(a),sr=st.getNorthWest().distanceTo(st.getSouthWest())*st.getNorthEast().distanceTo(st.getNorthWest());sr<1700&&(Ve=Ep(a));var Cn=a.length,Qr=[];for(f=0;f<Cn;f++){var yr=ke(a[f]);Qr.push(c.project(ke([yr.lat-Ve.lat,yr.lng-Ve.lng])))}for(H=Q=ae=0,f=0,y=Cn-1;f<Cn;y=f++)b=Qr[f],T=Qr[y],I=b.y*T.x-T.y*b.x,Q+=(b.x+T.x)*I,ae+=(b.y+T.y)*I,H+=I*3;H===0?Ne=Qr[0]:Ne=[Q/H,ae/H];var Jo=c.unproject(G(Ne));return ke([Jo.lat+Ve.lat,Jo.lng+Ve.lng])}function Ep(a){for(var c=0,f=0,y=0,b=0;b<a.length;b++){var T=ke(a[b]);c+=T.lat,f+=T.lng,y++}return ke([c/y,f/y])}var mO={__proto__:null,clipPolygon:P0,polygonCenter:k0,centroid:Ep};function T0(a,c){if(!c||!a.length)return a.slice();var f=c*c;return a=xO(a,f),a=gO(a,f),a}function E0(a,c,f){return Math.sqrt(Oc(a,c,f,!0))}function pO(a,c,f){return Oc(a,c,f)}function gO(a,c){var f=a.length,y=typeof Uint8Array<"u"?Uint8Array:Array,b=new y(f);b[0]=b[f-1]=1,Mp(a,b,c,0,f-1);var T,I=[];for(T=0;T<f;T++)b[T]&&I.push(a[T]);return I}function Mp(a,c,f,y,b){var T=0,I,H,Q;for(H=y+1;H<=b-1;H++)Q=Oc(a[H],a[y],a[b],!0),Q>T&&(I=H,T=Q);T>f&&(c[I]=1,Mp(a,c,f,y,I),Mp(a,c,f,I,b))}function xO(a,c){for(var f=[a[0]],y=1,b=0,T=a.length;y<T;y++)vO(a[y],a[b])>c&&(f.push(a[y]),b=y);return b<T-1&&f.push(a[T-1]),f}var M0;function A0(a,c,f,y,b){var T=y?M0:eo(a,f),I=eo(c,f),H,Q,ae;for(M0=I;;){if(!(T|I))return[a,c];if(T&I)return!1;H=T||I,Q=Ku(a,c,H,f,b),ae=eo(Q,f),H===T?(a=Q,T=ae):(c=Q,I=ae)}}function Ku(a,c,f,y,b){var T=c.x-a.x,I=c.y-a.y,H=y.min,Q=y.max,ae,Ne;return f&8?(ae=a.x+T*(Q.y-a.y)/I,Ne=Q.y):f&4?(ae=a.x+T*(H.y-a.y)/I,Ne=H.y):f&2?(ae=Q.x,Ne=a.y+I*(Q.x-a.x)/T):f&1&&(ae=H.x,Ne=a.y+I*(H.x-a.x)/T),new k(ae,Ne,b)}function eo(a,c){var f=0;return a.x<c.min.x?f|=1:a.x>c.max.x&&(f|=2),a.y<c.min.y?f|=4:a.y>c.max.y&&(f|=8),f}function vO(a,c){var f=c.x-a.x,y=c.y-a.y;return f*f+y*y}function Oc(a,c,f,y){var b=c.x,T=c.y,I=f.x-b,H=f.y-T,Q=I*I+H*H,ae;return Q>0&&(ae=((a.x-b)*I+(a.y-T)*H)/Q,ae>1?(b=f.x,T=f.y):ae>0&&(b+=I*ae,T+=H*ae)),I=a.x-b,H=a.y-T,y?I*I+H*H:new k(b,T)}function Yr(a){return!N(a[0])||typeof a[0][0]!="object"&&typeof a[0][0]<"u"}function R0(a){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Yr(a)}function L0(a,c){var f,y,b,T,I,H,Q,ae;if(!a||a.length===0)throw new Error("latlngs not passed");Yr(a)||(console.warn("latlngs are not flat! Only the first ring will be used"),a=a[0]);var Ne=ke([0,0]),Ve=Pe(a),st=Ve.getNorthWest().distanceTo(Ve.getSouthWest())*Ve.getNorthEast().distanceTo(Ve.getNorthWest());st<1700&&(Ne=Ep(a));var sr=a.length,Cn=[];for(f=0;f<sr;f++){var Qr=ke(a[f]);Cn.push(c.project(ke([Qr.lat-Ne.lat,Qr.lng-Ne.lng])))}for(f=0,y=0;f<sr-1;f++)y+=Cn[f].distanceTo(Cn[f+1])/2;if(y===0)ae=Cn[0];else for(f=0,T=0;f<sr-1;f++)if(I=Cn[f],H=Cn[f+1],b=I.distanceTo(H),T+=b,T>y){Q=(T-y)/b,ae=[H.x-Q*(H.x-I.x),H.y-Q*(H.y-I.y)];break}var yr=c.unproject(G(ae));return ke([yr.lat+Ne.lat,yr.lng+Ne.lng])}var yO={__proto__:null,simplify:T0,pointToSegmentDistance:E0,closestPointOnSegment:pO,clipSegment:A0,_getEdgeIntersection:Ku,_getBitCode:eo,_sqClosestPointOnSegment:Oc,isFlat:Yr,_flat:R0,polylineCenter:L0},Ap={project:function(a){return new k(a.lng,a.lat)},unproject:function(a){return new Oe(a.y,a.x)},bounds:new le([-180,-90],[180,90])},Rp={R:6378137,R_MINOR:6356752314245179e-9,bounds:new le([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(a){var c=Math.PI/180,f=this.R,y=a.lat*c,b=this.R_MINOR/f,T=Math.sqrt(1-b*b),I=T*Math.sin(y),H=Math.tan(Math.PI/4-y/2)/Math.pow((1-I)/(1+I),T/2);return y=-f*Math.log(Math.max(H,1e-10)),new k(a.lng*c*f,y)},unproject:function(a){for(var c=180/Math.PI,f=this.R,y=this.R_MINOR/f,b=Math.sqrt(1-y*y),T=Math.exp(-a.y/f),I=Math.PI/2-2*Math.atan(T),H=0,Q=.1,ae;H<15&&Math.abs(Q)>1e-7;H++)ae=b*Math.sin(I),ae=Math.pow((1-ae)/(1+ae),b/2),Q=Math.PI/2-2*Math.atan(T*ae)-I,I+=Q;return new Oe(I*c,a.x*c/f)}},wO={__proto__:null,LonLat:Ap,Mercator:Rp,SphericalMercator:$e},jO=i({},B,{code:"EPSG:3395",projection:Rp,transformation:function(){var a=.5/(Math.PI*Rp.R);return lt(a,.5,-a,.5)}()}),I0=i({},B,{code:"EPSG:4326",projection:Ap,transformation:lt(1/180,1,-1/180,.5)}),_O=i({},E,{projection:Ap,transformation:lt(1,0,-1,0),scale:function(a){return Math.pow(2,a)},zoom:function(a){return Math.log(a)/Math.LN2},distance:function(a,c){var f=c.lng-a.lng,y=c.lat-a.lat;return Math.sqrt(f*f+y*y)},infinite:!0});E.Earth=B,E.EPSG3395=jO,E.EPSG3857=xn,E.EPSG900913=rr,E.EPSG4326=I0,E.Simple=_O;var hs=U.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(a){return a.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(a){return a&&a.removeLayer(this),this},getPane:function(a){return this._map.getPane(a?this.options[a]||a:this.options.pane)},addInteractiveTarget:function(a){return this._map._targets[u(a)]=this,this},removeInteractiveTarget:function(a){return delete this._map._targets[u(a)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(a){var c=a.target;if(c.hasLayer(this)){if(this._map=c,this._zoomAnimated=c._zoomAnimated,this.getEvents){var f=this.getEvents();c.on(f,this),this.once("remove",function(){c.off(f,this)},this)}this.onAdd(c),this.fire("add"),c.fire("layeradd",{layer:this})}}});gt.include({addLayer:function(a){if(!a._layerAdd)throw new Error("The provided object is not a Layer.");var c=u(a);return this._layers[c]?this:(this._layers[c]=a,a._mapToAdd=this,a.beforeAdd&&a.beforeAdd(this),this.whenReady(a._layerAdd,a),this)},removeLayer:function(a){var c=u(a);return this._layers[c]?(this._loaded&&a.onRemove(this),delete this._layers[c],this._loaded&&(this.fire("layerremove",{layer:a}),a.fire("remove")),a._map=a._mapToAdd=null,this):this},hasLayer:function(a){return u(a)in this._layers},eachLayer:function(a,c){for(var f in this._layers)a.call(c,this._layers[f]);return this},_addLayers:function(a){a=a?N(a)?a:[a]:[];for(var c=0,f=a.length;c<f;c++)this.addLayer(a[c])},_addZoomLimit:function(a){(!isNaN(a.options.maxZoom)||!isNaN(a.options.minZoom))&&(this._zoomBoundLayers[u(a)]=a,this._updateZoomLevels())},_removeZoomLimit:function(a){var c=u(a);this._zoomBoundLayers[c]&&(delete this._zoomBoundLayers[c],this._updateZoomLevels())},_updateZoomLevels:function(){var a=1/0,c=-1/0,f=this._getZoomSpan();for(var y in this._zoomBoundLayers){var b=this._zoomBoundLayers[y].options;a=b.minZoom===void 0?a:Math.min(a,b.minZoom),c=b.maxZoom===void 0?c:Math.max(c,b.maxZoom)}this._layersMaxZoom=c===-1/0?void 0:c,this._layersMinZoom=a===1/0?void 0:a,f!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Ko=hs.extend({initialize:function(a,c){g(this,c),this._layers={};var f,y;if(a)for(f=0,y=a.length;f<y;f++)this.addLayer(a[f])},addLayer:function(a){var c=this.getLayerId(a);return this._layers[c]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var c=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[c]&&this._map.removeLayer(this._layers[c]),delete this._layers[c],this},hasLayer:function(a){var c=typeof a=="number"?a:this.getLayerId(a);return c in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(a){var c=Array.prototype.slice.call(arguments,1),f,y;for(f in this._layers)y=this._layers[f],y[a]&&y[a].apply(y,c);return this},onAdd:function(a){this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a)},eachLayer:function(a,c){for(var f in this._layers)a.call(c,this._layers[f]);return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];return this.eachLayer(a.push,a),a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return u(a)}}),bO=function(a,c){return new Ko(a,c)},ui=Ko.extend({addLayer:function(a){return this.hasLayer(a)?this:(a.addEventParent(this),Ko.prototype.addLayer.call(this,a),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.removeEventParent(this),Ko.prototype.removeLayer.call(this,a),this.fire("layerremove",{layer:a})):this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new qe;for(var c in this._layers){var f=this._layers[c];a.extend(f.getBounds?f.getBounds():f.getLatLng())}return a}}),NO=function(a,c){return new ui(a,c)},Go=X.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(a){g(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(a,c){var f=this._getIconUrl(a);if(!f){if(a==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var y=this._createImg(f,c&&c.tagName==="IMG"?c:null);return this._setIconStyles(y,a),(this.options.crossOrigin||this.options.crossOrigin==="")&&(y.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),y},_setIconStyles:function(a,c){var f=this.options,y=f[c+"Size"];typeof y=="number"&&(y=[y,y]);var b=G(y),T=G(c==="shadow"&&f.shadowAnchor||f.iconAnchor||b&&b.divideBy(2,!0));a.className="leaflet-marker-"+c+" "+(f.className||""),T&&(a.style.marginLeft=-T.x+"px",a.style.marginTop=-T.y+"px"),b&&(a.style.width=b.x+"px",a.style.height=b.y+"px")},_createImg:function(a,c){return c=c||document.createElement("img"),c.src=a,c},_getIconUrl:function(a){return De.retina&&this.options[a+"RetinaUrl"]||this.options[a+"Url"]}});function SO(a){return new Go(a)}var Dc=Go.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(a){return typeof Dc.imagePath!="string"&&(Dc.imagePath=this._detectIconPath()),(this.options.imagePath||Dc.imagePath)+Go.prototype._getIconUrl.call(this,a)},_stripUrl:function(a){var c=function(f,y,b){var T=y.exec(f);return T&&T[b]};return a=c(a,/^url\((['"])?(.+)\1\)$/,2),a&&c(a,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var a=_t("div","leaflet-default-icon-path",document.body),c=Ec(a,"background-image")||Ec(a,"backgroundImage");if(document.body.removeChild(a),c=this._stripUrl(c),c)return c;var f=document.querySelector('link[href$="leaflet.css"]');return f?f.href.substring(0,f.href.length-11-1):""}}),O0=$s.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new Wi(a,a,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),et(a,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Xt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(a){var c=this._marker,f=c._map,y=this._marker.options.autoPanSpeed,b=this._marker.options.autoPanPadding,T=Qa(c._icon),I=f.getPixelBounds(),H=f.getPixelOrigin(),Q=Me(I.min._subtract(H).add(b),I.max._subtract(H).subtract(b));if(!Q.contains(T)){var ae=G((Math.max(Q.max.x,T.x)-Q.max.x)/(I.max.x-Q.max.x)-(Math.min(Q.min.x,T.x)-Q.min.x)/(I.min.x-Q.min.x),(Math.max(Q.max.y,T.y)-Q.max.y)/(I.max.y-Q.max.y)-(Math.min(Q.min.y,T.y)-Q.min.y)/(I.min.y-Q.min.y)).multiplyBy(y);f.panBy(ae,{animate:!1}),this._draggable._newPos._add(ae),this._draggable._startPos._add(ae),sn(c._icon,this._draggable._newPos),this._onDrag(a),this._panRequest=Z(this._adjustPan.bind(this,a))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(a){this._marker.options.autoPan&&(V(this._panRequest),this._panRequest=Z(this._adjustPan.bind(this,a)))},_onDrag:function(a){var c=this._marker,f=c._shadow,y=Qa(c._icon),b=c._map.layerPointToLatLng(y);f&&sn(f,y),c._latlng=b,a.latlng=b,a.oldLatLng=this._oldLatLng,c.fire("move",a).fire("drag",a)},_onDragEnd:function(a){V(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",a)}}),Gu=hs.extend({options:{icon:new Dc,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(a,c){g(this,c),this._latlng=ke(a)},onAdd:function(a){this._zoomAnimated=this._zoomAnimated&&a.options.markerZoomAnimation,this._zoomAnimated&&a.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(a){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&a.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(a){var c=this._latlng;return this._latlng=ke(a),this.update(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update()},getIcon:function(){return this.options.icon},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var a=this.options,c="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),f=a.icon.createIcon(this._icon),y=!1;f!==this._icon&&(this._icon&&this._removeIcon(),y=!0,a.title&&(f.title=a.title),f.tagName==="IMG"&&(f.alt=a.alt||"")),et(f,c),a.keyboard&&(f.tabIndex="0",f.setAttribute("role","button")),this._icon=f,a.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ke(f,"focus",this._panOnFocus,this);var b=a.icon.createShadow(this._shadow),T=!1;b!==this._shadow&&(this._removeShadow(),T=!0),b&&(et(b,c),b.alt=""),this._shadow=b,a.opacity<1&&this._updateOpacity(),y&&this.getPane().appendChild(this._icon),this._initInteraction(),b&&T&&this.getPane(a.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&At(this._icon,"focus",this._panOnFocus,this),Wt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Wt(this._shadow),this._shadow=null},_setPos:function(a){this._icon&&sn(this._icon,a),this._shadow&&sn(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon&&(this._icon.style.zIndex=this._zIndex+a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(c)},_initInteraction:function(){if(this.options.interactive&&(et(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),O0)){var a=this.options.draggable;this.dragging&&(a=this.dragging.enabled(),this.dragging.disable()),this.dragging=new O0(this),a&&this.dragging.enable()}},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var a=this.options.opacity;this._icon&&Gr(this._icon,a),this._shadow&&Gr(this._shadow,a)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var a=this._map;if(a){var c=this.options.icon.options,f=c.iconSize?G(c.iconSize):G(0,0),y=c.iconAnchor?G(c.iconAnchor):G(0,0);a.panInside(this._latlng,{paddingTopLeft:y,paddingBottomRight:f.subtract(y)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function CO(a,c){return new Gu(a,c)}var Hi=hs.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(a){this._renderer=a.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(a){return g(this,a),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&a&&Object.prototype.hasOwnProperty.call(a,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Yu=Hi.extend({options:{fill:!0,radius:10},initialize:function(a,c){g(this,c),this._latlng=ke(a),this._radius=this.options.radius},setLatLng:function(a){var c=this._latlng;return this._latlng=ke(a),this.redraw(),this.fire("move",{oldLatLng:c,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius},setStyle:function(a){var c=a&&a.radius||this._radius;return Hi.prototype.setStyle.call(this,a),this.setRadius(c),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var a=this._radius,c=this._radiusY||a,f=this._clickTolerance(),y=[a+f,c+f];this._pxBounds=new le(this._point.subtract(y),this._point.add(y))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(a){return a.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function PO(a,c){return new Yu(a,c)}var Lp=Yu.extend({initialize:function(a,c,f){if(typeof c=="number"&&(c=i({},f,{radius:c})),g(this,c),this._latlng=ke(a),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(a){return this._mRadius=a,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var a=[this._radius,this._radiusY||this._radius];return new qe(this._map.layerPointToLatLng(this._point.subtract(a)),this._map.layerPointToLatLng(this._point.add(a)))},setStyle:Hi.prototype.setStyle,_project:function(){var a=this._latlng.lng,c=this._latlng.lat,f=this._map,y=f.options.crs;if(y.distance===B.distance){var b=Math.PI/180,T=this._mRadius/B.R/b,I=f.project([c+T,a]),H=f.project([c-T,a]),Q=I.add(H).divideBy(2),ae=f.unproject(Q).lat,Ne=Math.acos((Math.cos(T*b)-Math.sin(c*b)*Math.sin(ae*b))/(Math.cos(c*b)*Math.cos(ae*b)))/b;(isNaN(Ne)||Ne===0)&&(Ne=T/Math.cos(Math.PI/180*c)),this._point=Q.subtract(f.getPixelOrigin()),this._radius=isNaN(Ne)?0:Q.x-f.project([ae,a-Ne]).x,this._radiusY=Q.y-I.y}else{var Ve=y.unproject(y.project(this._latlng).subtract([this._mRadius,0]));this._point=f.latLngToLayerPoint(this._latlng),this._radius=this._point.x-f.latLngToLayerPoint(Ve).x}this._updateBounds()}});function kO(a,c,f){return new Lp(a,c,f)}var fi=Hi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(a,c){g(this,c),this._setLatLngs(a)},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._setLatLngs(a),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(a){for(var c=1/0,f=null,y=Oc,b,T,I=0,H=this._parts.length;I<H;I++)for(var Q=this._parts[I],ae=1,Ne=Q.length;ae<Ne;ae++){b=Q[ae-1],T=Q[ae];var Ve=y(a,b,T,!0);Ve<c&&(c=Ve,f=y(a,b,T))}return f&&(f.distance=Math.sqrt(c)),f},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return L0(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(a,c){return c=c||this._defaultShape(),a=ke(a),c.push(a),this._bounds.extend(a),this.redraw()},_setLatLngs:function(a){this._bounds=new qe,this._latlngs=this._convertLatLngs(a)},_defaultShape:function(){return Yr(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(a){for(var c=[],f=Yr(a),y=0,b=a.length;y<b;y++)f?(c[y]=ke(a[y]),this._bounds.extend(c[y])):c[y]=this._convertLatLngs(a[y]);return c},_project:function(){var a=new le;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,a),this._bounds.isValid()&&a.isValid()&&(this._rawPxBounds=a,this._updateBounds())},_updateBounds:function(){var a=this._clickTolerance(),c=new k(a,a);this._rawPxBounds&&(this._pxBounds=new le([this._rawPxBounds.min.subtract(c),this._rawPxBounds.max.add(c)]))},_projectLatlngs:function(a,c,f){var y=a[0]instanceof Oe,b=a.length,T,I;if(y){for(I=[],T=0;T<b;T++)I[T]=this._map.latLngToLayerPoint(a[T]),f.extend(I[T]);c.push(I)}else for(T=0;T<b;T++)this._projectLatlngs(a[T],c,f)},_clipPoints:function(){var a=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}var c=this._parts,f,y,b,T,I,H,Q;for(f=0,b=0,T=this._rings.length;f<T;f++)for(Q=this._rings[f],y=0,I=Q.length;y<I-1;y++)H=A0(Q[y],Q[y+1],a,y,!0),H&&(c[b]=c[b]||[],c[b].push(H[0]),(H[1]!==Q[y+1]||y===I-2)&&(c[b].push(H[1]),b++))}},_simplifyPoints:function(){for(var a=this._parts,c=this.options.smoothFactor,f=0,y=a.length;f<y;f++)a[f]=T0(a[f],c)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(a,c){var f,y,b,T,I,H,Q=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(f=0,T=this._parts.length;f<T;f++)for(H=this._parts[f],y=0,I=H.length,b=I-1;y<I;b=y++)if(!(!c&&y===0)&&E0(a,H[b],H[y])<=Q)return!0;return!1}});function TO(a,c){return new fi(a,c)}fi._flat=R0;var Yo=fi.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return k0(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(a){var c=fi.prototype._convertLatLngs.call(this,a),f=c.length;return f>=2&&c[0]instanceof Oe&&c[0].equals(c[f-1])&&c.pop(),c},_setLatLngs:function(a){fi.prototype._setLatLngs.call(this,a),Yr(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Yr(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var a=this._renderer._bounds,c=this.options.weight,f=new k(c,c);if(a=new le(a.min.subtract(f),a.max.add(f)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(a))){if(this.options.noClip){this._parts=this._rings;return}for(var y=0,b=this._rings.length,T;y<b;y++)T=P0(this._rings[y],a,!0),T.length&&this._parts.push(T)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(a){var c=!1,f,y,b,T,I,H,Q,ae;if(!this._pxBounds||!this._pxBounds.contains(a))return!1;for(T=0,Q=this._parts.length;T<Q;T++)for(f=this._parts[T],I=0,ae=f.length,H=ae-1;I<ae;H=I++)y=f[I],b=f[H],y.y>a.y!=b.y>a.y&&a.x<(b.x-y.x)*(a.y-y.y)/(b.y-y.y)+y.x&&(c=!c);return c||fi.prototype._containsPoint.call(this,a,!0)}});function EO(a,c){return new Yo(a,c)}var hi=ui.extend({initialize:function(a,c){g(this,c),this._layers={},a&&this.addData(a)},addData:function(a){var c=N(a)?a:a.features,f,y,b;if(c){for(f=0,y=c.length;f<y;f++)b=c[f],(b.geometries||b.geometry||b.features||b.coordinates)&&this.addData(b);return this}var T=this.options;if(T.filter&&!T.filter(a))return this;var I=Qu(a,T);return I?(I.feature=ef(a),I.defaultOptions=I.options,this.resetStyle(I),T.onEachFeature&&T.onEachFeature(a,I),this.addLayer(I)):this},resetStyle:function(a){return a===void 0?this.eachLayer(this.resetStyle,this):(a.options=i({},a.defaultOptions),this._setLayerStyle(a,this.options.style),this)},setStyle:function(a){return this.eachLayer(function(c){this._setLayerStyle(c,a)},this)},_setLayerStyle:function(a,c){a.setStyle&&(typeof c=="function"&&(c=c(a.feature)),a.setStyle(c))}});function Qu(a,c){var f=a.type==="Feature"?a.geometry:a,y=f?f.coordinates:null,b=[],T=c&&c.pointToLayer,I=c&&c.coordsToLatLng||Ip,H,Q,ae,Ne;if(!y&&!f)return null;switch(f.type){case"Point":return H=I(y),D0(T,a,H,c);case"MultiPoint":for(ae=0,Ne=y.length;ae<Ne;ae++)H=I(y[ae]),b.push(D0(T,a,H,c));return new ui(b);case"LineString":case"MultiLineString":return Q=Xu(y,f.type==="LineString"?0:1,I),new fi(Q,c);case"Polygon":case"MultiPolygon":return Q=Xu(y,f.type==="Polygon"?1:2,I),new Yo(Q,c);case"GeometryCollection":for(ae=0,Ne=f.geometries.length;ae<Ne;ae++){var Ve=Qu({geometry:f.geometries[ae],type:"Feature",properties:a.properties},c);Ve&&b.push(Ve)}return new ui(b);case"FeatureCollection":for(ae=0,Ne=f.features.length;ae<Ne;ae++){var st=Qu(f.features[ae],c);st&&b.push(st)}return new ui(b);default:throw new Error("Invalid GeoJSON object.")}}function D0(a,c,f,y){return a?a(c,f):new Gu(f,y&&y.markersInheritOptions&&y)}function Ip(a){return new Oe(a[1],a[0],a[2])}function Xu(a,c,f){for(var y=[],b=0,T=a.length,I;b<T;b++)I=c?Xu(a[b],c-1,f):(f||Ip)(a[b]),y.push(I);return y}function Op(a,c){return a=ke(a),a.alt!==void 0?[x(a.lng,c),x(a.lat,c),x(a.alt,c)]:[x(a.lng,c),x(a.lat,c)]}function Ju(a,c,f,y){for(var b=[],T=0,I=a.length;T<I;T++)b.push(c?Ju(a[T],Yr(a[T])?0:c-1,f,y):Op(a[T],y));return!c&&f&&b.length>0&&b.push(b[0].slice()),b}function Qo(a,c){return a.feature?i({},a.feature,{geometry:c}):ef(c)}function ef(a){return a.type==="Feature"||a.type==="FeatureCollection"?a:{type:"Feature",properties:{},geometry:a}}var Dp={toGeoJSON:function(a){return Qo(this,{type:"Point",coordinates:Op(this.getLatLng(),a)})}};Gu.include(Dp),Lp.include(Dp),Yu.include(Dp),fi.include({toGeoJSON:function(a){var c=!Yr(this._latlngs),f=Ju(this._latlngs,c?1:0,!1,a);return Qo(this,{type:(c?"Multi":"")+"LineString",coordinates:f})}}),Yo.include({toGeoJSON:function(a){var c=!Yr(this._latlngs),f=c&&!Yr(this._latlngs[0]),y=Ju(this._latlngs,f?2:c?1:0,!0,a);return c||(y=[y]),Qo(this,{type:(f?"Multi":"")+"Polygon",coordinates:y})}}),Ko.include({toMultiPoint:function(a){var c=[];return this.eachLayer(function(f){c.push(f.toGeoJSON(a).geometry.coordinates)}),Qo(this,{type:"MultiPoint",coordinates:c})},toGeoJSON:function(a){var c=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(c==="MultiPoint")return this.toMultiPoint(a);var f=c==="GeometryCollection",y=[];return this.eachLayer(function(b){if(b.toGeoJSON){var T=b.toGeoJSON(a);if(f)y.push(T.geometry);else{var I=ef(T);I.type==="FeatureCollection"?y.push.apply(y,I.features):y.push(I)}}}),f?Qo(this,{geometries:y,type:"GeometryCollection"}):{type:"FeatureCollection",features:y}}});function F0(a,c){return new hi(a,c)}var MO=F0,tf=hs.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(a,c,f){this._url=a,this._bounds=Pe(c),g(this,f)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(et(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Wt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(a){return this.options.opacity=a,this._image&&this._updateOpacity(),this},setStyle:function(a){return a.opacity&&this.setOpacity(a.opacity),this},bringToFront:function(){return this._map&&qo(this._image),this},bringToBack:function(){return this._map&&Zo(this._image),this},setUrl:function(a){return this._url=a,this._image&&(this._image.src=a),this},setBounds:function(a){return this._bounds=Pe(a),this._map&&this._reset(),this},getEvents:function(){var a={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var a=this._url.tagName==="IMG",c=this._image=a?this._url:_t("img");if(et(c,"leaflet-image-layer"),this._zoomAnimated&&et(c,"leaflet-zoom-animated"),this.options.className&&et(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onload=l(this.fire,this,"load"),c.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),a){this._url=c.src;return}c.src=this._url,c.alt=this.options.alt},_animateZoom:function(a){var c=this._map.getZoomScale(a.zoom),f=this._map._latLngBoundsToNewLayerBounds(this._bounds,a.zoom,a.center).min;Ya(this._image,f,c)},_reset:function(){var a=this._image,c=new le(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),f=c.getSize();sn(a,c.min),a.style.width=f.x+"px",a.style.height=f.y+"px"},_updateOpacity:function(){Gr(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var a=this.options.errorOverlayUrl;a&&this._url!==a&&(this._url=a,this._image.src=a)},getCenter:function(){return this._bounds.getCenter()}}),AO=function(a,c,f){return new tf(a,c,f)},z0=tf.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var a=this._url.tagName==="VIDEO",c=this._image=a?this._url:_t("video");if(et(c,"leaflet-image-layer"),this._zoomAnimated&&et(c,"leaflet-zoom-animated"),this.options.className&&et(c,this.options.className),c.onselectstart=p,c.onmousemove=p,c.onloadeddata=l(this.fire,this,"load"),a){for(var f=c.getElementsByTagName("source"),y=[],b=0;b<f.length;b++)y.push(f[b].src);this._url=f.length>0?y:[c.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(c.style,"objectFit")&&(c.style.objectFit="fill"),c.autoplay=!!this.options.autoplay,c.loop=!!this.options.loop,c.muted=!!this.options.muted,c.playsInline=!!this.options.playsInline;for(var T=0;T<this._url.length;T++){var I=_t("source");I.src=this._url[T],c.appendChild(I)}}});function RO(a,c,f){return new z0(a,c,f)}var B0=tf.extend({_initImage:function(){var a=this._image=this._url;et(a,"leaflet-image-layer"),this._zoomAnimated&&et(a,"leaflet-zoom-animated"),this.options.className&&et(a,this.options.className),a.onselectstart=p,a.onmousemove=p}});function LO(a,c,f){return new B0(a,c,f)}var Vs=hs.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(a,c){a&&(a instanceof Oe||N(a))?(this._latlng=ke(a),g(this,c)):(g(this,a),this._source=c),this.options.content&&(this._content=this.options.content)},openOn:function(a){return a=arguments.length?a:this._source._map,a.hasLayer(this)||a.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(a){return this._map?this.close():(arguments.length?this._source=a:a=this._source,this._prepareOpen(),this.openOn(a._map)),this},onAdd:function(a){this._zoomAnimated=a._zoomAnimated,this._container||this._initLayout(),a._fadeAnimated&&Gr(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),a._fadeAnimated&&Gr(this._container,1),this.bringToFront(),this.options.interactive&&(et(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(a){a._fadeAnimated?(Gr(this._container,0),this._removeTimeout=setTimeout(l(Wt,void 0,this._container),200)):Wt(this._container),this.options.interactive&&(Xt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=ke(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var a={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&qo(this._container),this},bringToBack:function(){return this._map&&Zo(this._container),this},_prepareOpen:function(a){var c=this._source;if(!c._map)return!1;if(c instanceof ui){c=null;var f=this._source._layers;for(var y in f)if(f[y]._map){c=f[y];break}if(!c)return!1;this._source=c}if(!a)if(c.getCenter)a=c.getCenter();else if(c.getLatLng)a=c.getLatLng();else if(c.getBounds)a=c.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(a),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var a=this._contentNode,c=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof c=="string")a.innerHTML=c;else{for(;a.hasChildNodes();)a.removeChild(a.firstChild);a.appendChild(c)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var a=this._map.latLngToLayerPoint(this._latlng),c=G(this.options.offset),f=this._getAnchor();this._zoomAnimated?sn(this._container,a.add(f)):c=c.add(a).add(f);var y=this._containerBottom=-c.y,b=this._containerLeft=-Math.round(this._containerWidth/2)+c.x;this._container.style.bottom=y+"px",this._container.style.left=b+"px"}},_getAnchor:function(){return[0,0]}});gt.include({_initOverlay:function(a,c,f,y){var b=c;return b instanceof a||(b=new a(y).setContent(c)),f&&b.setLatLng(f),b}}),hs.include({_initOverlay:function(a,c,f,y){var b=f;return b instanceof a?(g(b,y),b._source=this):(b=c&&!y?c:new a(y,this),b.setContent(f)),b}});var nf=Vs.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(a){return a=arguments.length?a:this._source._map,!a.hasLayer(this)&&a._popup&&a._popup.options.autoClose&&a.removeLayer(a._popup),a._popup=this,Vs.prototype.openOn.call(this,a)},onAdd:function(a){Vs.prototype.onAdd.call(this,a),a.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Hi||this._source.on("preclick",Xa))},onRemove:function(a){Vs.prototype.onRemove.call(this,a),a.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Hi||this._source.off("preclick",Xa))},getEvents:function(){var a=Vs.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this.close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_initLayout:function(){var a="leaflet-popup",c=this._container=_t("div",a+" "+(this.options.className||"")+" leaflet-zoom-animated"),f=this._wrapper=_t("div",a+"-content-wrapper",c);if(this._contentNode=_t("div",a+"-content",f),Lc(c),Cp(this._contentNode),Ke(c,"contextmenu",Xa),this._tipContainer=_t("div",a+"-tip-container",c),this._tip=_t("div",a+"-tip",this._tipContainer),this.options.closeButton){var y=this._closeButton=_t("a",a+"-close-button",c);y.setAttribute("role","button"),y.setAttribute("aria-label","Close popup"),y.href="#close",y.innerHTML='<span aria-hidden="true">&#215;</span>',Ke(y,"click",function(b){On(b),this.close()},this)}},_updateLayout:function(){var a=this._contentNode,c=a.style;c.width="",c.whiteSpace="nowrap";var f=a.offsetWidth;f=Math.min(f,this.options.maxWidth),f=Math.max(f,this.options.minWidth),c.width=f+1+"px",c.whiteSpace="",c.height="";var y=a.offsetHeight,b=this.options.maxHeight,T="leaflet-popup-scrolled";b&&y>b?(c.height=b+"px",et(a,T)):Xt(a,T),this._containerWidth=this._container.offsetWidth},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center),f=this._getAnchor();sn(this._container,c.add(f))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var a=this._map,c=parseInt(Ec(this._container,"marginBottom"),10)||0,f=this._container.offsetHeight+c,y=this._containerWidth,b=new k(this._containerLeft,-f-this._containerBottom);b._add(Qa(this._container));var T=a.layerPointToContainerPoint(b),I=G(this.options.autoPanPadding),H=G(this.options.autoPanPaddingTopLeft||I),Q=G(this.options.autoPanPaddingBottomRight||I),ae=a.getSize(),Ne=0,Ve=0;T.x+y+Q.x>ae.x&&(Ne=T.x+y-ae.x+Q.x),T.x-Ne-H.x<0&&(Ne=T.x-H.x),T.y+f+Q.y>ae.y&&(Ve=T.y+f-ae.y+Q.y),T.y-Ve-H.y<0&&(Ve=T.y-H.y),(Ne||Ve)&&(this.options.keepInView&&(this._autopanning=!0),a.fire("autopanstart").panBy([Ne,Ve]))}},_getAnchor:function(){return G(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),IO=function(a,c){return new nf(a,c)};gt.mergeOptions({closePopupOnClick:!0}),gt.include({openPopup:function(a,c,f){return this._initOverlay(nf,a,c,f).openOn(this),this},closePopup:function(a){return a=arguments.length?a:this._popup,a&&a.close(),this}}),hs.include({bindPopup:function(a,c){return this._popup=this._initOverlay(nf,this._popup,a,c),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(a){return this._popup&&(this instanceof ui||(this._popup._source=this),this._popup._prepareOpen(a||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},getPopup:function(){return this._popup},_openPopup:function(a){if(!(!this._popup||!this._map)){Ja(a);var c=a.layer||a.target;if(this._popup._source===c&&!(c instanceof Hi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(a.latlng);return}this._popup._source=c,this.openPopup(a.latlng)}},_movePopup:function(a){this._popup.setLatLng(a.latlng)},_onKeyPress:function(a){a.originalEvent.keyCode===13&&this._openPopup(a)}});var rf=Vs.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(a){Vs.prototype.onAdd.call(this,a),this.setOpacity(this.options.opacity),a.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(a){Vs.prototype.onRemove.call(this,a),a.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var a=Vs.prototype.getEvents.call(this);return this.options.permanent||(a.preclick=this.close),a},_initLayout:function(){var a="leaflet-tooltip",c=a+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=_t("div",c),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(a){var c,f,y=this._map,b=this._container,T=y.latLngToContainerPoint(y.getCenter()),I=y.layerPointToContainerPoint(a),H=this.options.direction,Q=b.offsetWidth,ae=b.offsetHeight,Ne=G(this.options.offset),Ve=this._getAnchor();H==="top"?(c=Q/2,f=ae):H==="bottom"?(c=Q/2,f=0):H==="center"?(c=Q/2,f=ae/2):H==="right"?(c=0,f=ae/2):H==="left"?(c=Q,f=ae/2):I.x<T.x?(H="right",c=0,f=ae/2):(H="left",c=Q+(Ne.x+Ve.x)*2,f=ae/2),a=a.subtract(G(c,f,!0)).add(Ne).add(Ve),Xt(b,"leaflet-tooltip-right"),Xt(b,"leaflet-tooltip-left"),Xt(b,"leaflet-tooltip-top"),Xt(b,"leaflet-tooltip-bottom"),et(b,"leaflet-tooltip-"+H),sn(b,a)},_updatePosition:function(){var a=this._map.latLngToLayerPoint(this._latlng);this._setPosition(a)},setOpacity:function(a){this.options.opacity=a,this._container&&Gr(this._container,a)},_animateZoom:function(a){var c=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);this._setPosition(c)},_getAnchor:function(){return G(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),OO=function(a,c){return new rf(a,c)};gt.include({openTooltip:function(a,c,f){return this._initOverlay(rf,a,c,f).openOn(this),this},closeTooltip:function(a){return a.close(),this}}),hs.include({bindTooltip:function(a,c){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(rf,this._tooltip,a,c),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(a){if(!(!a&&this._tooltipHandlersAdded)){var c=a?"off":"on",f={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?f.add=this._openTooltip:(f.mouseover=this._openTooltip,f.mouseout=this.closeTooltip,f.click=this._openTooltip,this._map?this._addFocusListeners():f.add=this._addFocusListeners),this._tooltip.options.sticky&&(f.mousemove=this._moveTooltip),this[c](f),this._tooltipHandlersAdded=!a}},openTooltip:function(a){return this._tooltip&&(this instanceof ui||(this._tooltip._source=this),this._tooltip._prepareOpen(a)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(a){return this._tooltip&&this._tooltip.setContent(a),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&(Ke(c,"focus",function(){this._tooltip._source=a,this.openTooltip()},this),Ke(c,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(a){var c=typeof a.getElement=="function"&&a.getElement();c&&c.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(a){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var c=this;this._map.once("moveend",function(){c._openOnceFlag=!1,c._openTooltip(a)});return}this._tooltip._source=a.layer||a.target,this.openTooltip(this._tooltip.options.sticky?a.latlng:void 0)}},_moveTooltip:function(a){var c=a.latlng,f,y;this._tooltip.options.sticky&&a.originalEvent&&(f=this._map.mouseEventToContainerPoint(a.originalEvent),y=this._map.containerPointToLayerPoint(f),c=this._map.layerPointToLatLng(y)),this._tooltip.setLatLng(c)}});var $0=Go.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(a){var c=a&&a.tagName==="DIV"?a:document.createElement("div"),f=this.options;if(f.html instanceof Element?(Uu(c),c.appendChild(f.html)):c.innerHTML=f.html!==!1?f.html:"",f.bgPos){var y=G(f.bgPos);c.style.backgroundPosition=-y.x+"px "+-y.y+"px"}return this._setIconStyles(c,"icon"),c},createShadow:function(){return null}});function DO(a){return new $0(a)}Go.Default=Dc;var Fc=hs.extend({options:{tileSize:256,opacity:1,updateWhenIdle:De.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(a){g(this,a)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(a){a._addZoomLimit(this)},onRemove:function(a){this._removeAllTiles(),Wt(this._container),a._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(qo(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Zo(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var a=this._clampZoom(this._map.getZoom());a!==this._tileZoom&&(this._tileZoom=a,this._updateLevels()),this._update()}return this},getEvents:function(){var a={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=h(this._onMoveEnd,this.options.updateInterval,this)),a.move=this._onMove),this._zoomAnimated&&(a.zoomanim=this._animateZoom),a},createTile:function(){return document.createElement("div")},getTileSize:function(){var a=this.options.tileSize;return a instanceof k?a:new k(a,a)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(a){for(var c=this.getPane().children,f=-a(-1/0,1/0),y=0,b=c.length,T;y<b;y++)T=c[y].style.zIndex,c[y]!==this._container&&T&&(f=a(f,+T));isFinite(f)&&(this.options.zIndex=f+a(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!De.ielt9){Gr(this._container,this.options.opacity);var a=+new Date,c=!1,f=!1;for(var y in this._tiles){var b=this._tiles[y];if(!(!b.current||!b.loaded)){var T=Math.min(1,(a-b.loaded)/200);Gr(b.el,T),T<1?c=!0:(b.active?f=!0:this._onOpaqueTile(b),b.active=!0)}}f&&!this._noPrune&&this._pruneTiles(),c&&(V(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=_t("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var a=this._tileZoom,c=this.options.maxZoom;if(a!==void 0){for(var f in this._levels)f=Number(f),this._levels[f].el.children.length||f===a?(this._levels[f].el.style.zIndex=c-Math.abs(a-f),this._onUpdateLevel(f)):(Wt(this._levels[f].el),this._removeTilesAtZoom(f),this._onRemoveLevel(f),delete this._levels[f]);var y=this._levels[a],b=this._map;return y||(y=this._levels[a]={},y.el=_t("div","leaflet-tile-container leaflet-zoom-animated",this._container),y.el.style.zIndex=c,y.origin=b.project(b.unproject(b.getPixelOrigin()),a).round(),y.zoom=a,this._setZoomTransform(y,b.getCenter(),b.getZoom()),p(y.el.offsetWidth),this._onCreateLevel(y)),this._level=y,y}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var a,c,f=this._map.getZoom();if(f>this.options.maxZoom||f<this.options.minZoom){this._removeAllTiles();return}for(a in this._tiles)c=this._tiles[a],c.retain=c.current;for(a in this._tiles)if(c=this._tiles[a],c.current&&!c.active){var y=c.coords;this._retainParent(y.x,y.y,y.z,y.z-5)||this._retainChildren(y.x,y.y,y.z,y.z+2)}for(a in this._tiles)this._tiles[a].retain||this._removeTile(a)}},_removeTilesAtZoom:function(a){for(var c in this._tiles)this._tiles[c].coords.z===a&&this._removeTile(c)},_removeAllTiles:function(){for(var a in this._tiles)this._removeTile(a)},_invalidateAll:function(){for(var a in this._levels)Wt(this._levels[a].el),this._onRemoveLevel(Number(a)),delete this._levels[a];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(a,c,f,y){var b=Math.floor(a/2),T=Math.floor(c/2),I=f-1,H=new k(+b,+T);H.z=+I;var Q=this._tileCoordsToKey(H),ae=this._tiles[Q];return ae&&ae.active?(ae.retain=!0,!0):(ae&&ae.loaded&&(ae.retain=!0),I>y?this._retainParent(b,T,I,y):!1)},_retainChildren:function(a,c,f,y){for(var b=2*a;b<2*a+2;b++)for(var T=2*c;T<2*c+2;T++){var I=new k(b,T);I.z=f+1;var H=this._tileCoordsToKey(I),Q=this._tiles[H];if(Q&&Q.active){Q.retain=!0;continue}else Q&&Q.loaded&&(Q.retain=!0);f+1<y&&this._retainChildren(b,T,f+1,y)}},_resetView:function(a){var c=a&&(a.pinch||a.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),c,c)},_animateZoom:function(a){this._setView(a.center,a.zoom,!0,a.noUpdate)},_clampZoom:function(a){var c=this.options;return c.minNativeZoom!==void 0&&a<c.minNativeZoom?c.minNativeZoom:c.maxNativeZoom!==void 0&&c.maxNativeZoom<a?c.maxNativeZoom:a},_setView:function(a,c,f,y){var b=Math.round(c);this.options.maxZoom!==void 0&&b>this.options.maxZoom||this.options.minZoom!==void 0&&b<this.options.minZoom?b=void 0:b=this._clampZoom(b);var T=this.options.updateWhenZooming&&b!==this._tileZoom;(!y||T)&&(this._tileZoom=b,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),b!==void 0&&this._update(a),f||this._pruneTiles(),this._noPrune=!!f),this._setZoomTransforms(a,c)},_setZoomTransforms:function(a,c){for(var f in this._levels)this._setZoomTransform(this._levels[f],a,c)},_setZoomTransform:function(a,c,f){var y=this._map.getZoomScale(f,a.zoom),b=a.origin.multiplyBy(y).subtract(this._map._getNewPixelOrigin(c,f)).round();De.any3d?Ya(a.el,b,y):sn(a.el,b)},_resetGrid:function(){var a=this._map,c=a.options.crs,f=this._tileSize=this.getTileSize(),y=this._tileZoom,b=this._map.getPixelWorldBounds(this._tileZoom);b&&(this._globalTileRange=this._pxBoundsToTileRange(b)),this._wrapX=c.wrapLng&&!this.options.noWrap&&[Math.floor(a.project([0,c.wrapLng[0]],y).x/f.x),Math.ceil(a.project([0,c.wrapLng[1]],y).x/f.y)],this._wrapY=c.wrapLat&&!this.options.noWrap&&[Math.floor(a.project([c.wrapLat[0],0],y).y/f.x),Math.ceil(a.project([c.wrapLat[1],0],y).y/f.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(a){var c=this._map,f=c._animatingZoom?Math.max(c._animateToZoom,c.getZoom()):c.getZoom(),y=c.getZoomScale(f,this._tileZoom),b=c.project(a,this._tileZoom).floor(),T=c.getSize().divideBy(y*2);return new le(b.subtract(T),b.add(T))},_update:function(a){var c=this._map;if(c){var f=this._clampZoom(c.getZoom());if(a===void 0&&(a=c.getCenter()),this._tileZoom!==void 0){var y=this._getTiledPixelBounds(a),b=this._pxBoundsToTileRange(y),T=b.getCenter(),I=[],H=this.options.keepBuffer,Q=new le(b.getBottomLeft().subtract([H,-H]),b.getTopRight().add([H,-H]));if(!(isFinite(b.min.x)&&isFinite(b.min.y)&&isFinite(b.max.x)&&isFinite(b.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var ae in this._tiles){var Ne=this._tiles[ae].coords;(Ne.z!==this._tileZoom||!Q.contains(new k(Ne.x,Ne.y)))&&(this._tiles[ae].current=!1)}if(Math.abs(f-this._tileZoom)>1){this._setView(a,f);return}for(var Ve=b.min.y;Ve<=b.max.y;Ve++)for(var st=b.min.x;st<=b.max.x;st++){var sr=new k(st,Ve);if(sr.z=this._tileZoom,!!this._isValidTile(sr)){var Cn=this._tiles[this._tileCoordsToKey(sr)];Cn?Cn.current=!0:I.push(sr)}}if(I.sort(function(yr,Jo){return yr.distanceTo(T)-Jo.distanceTo(T)}),I.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Qr=document.createDocumentFragment();for(st=0;st<I.length;st++)this._addTile(I[st],Qr);this._level.el.appendChild(Qr)}}}},_isValidTile:function(a){var c=this._map.options.crs;if(!c.infinite){var f=this._globalTileRange;if(!c.wrapLng&&(a.x<f.min.x||a.x>f.max.x)||!c.wrapLat&&(a.y<f.min.y||a.y>f.max.y))return!1}if(!this.options.bounds)return!0;var y=this._tileCoordsToBounds(a);return Pe(this.options.bounds).overlaps(y)},_keyToBounds:function(a){return this._tileCoordsToBounds(this._keyToTileCoords(a))},_tileCoordsToNwSe:function(a){var c=this._map,f=this.getTileSize(),y=a.scaleBy(f),b=y.add(f),T=c.unproject(y,a.z),I=c.unproject(b,a.z);return[T,I]},_tileCoordsToBounds:function(a){var c=this._tileCoordsToNwSe(a),f=new qe(c[0],c[1]);return this.options.noWrap||(f=this._map.wrapLatLngBounds(f)),f},_tileCoordsToKey:function(a){return a.x+":"+a.y+":"+a.z},_keyToTileCoords:function(a){var c=a.split(":"),f=new k(+c[0],+c[1]);return f.z=+c[2],f},_removeTile:function(a){var c=this._tiles[a];c&&(Wt(c.el),delete this._tiles[a],this.fire("tileunload",{tile:c.el,coords:this._keyToTileCoords(a)}))},_initTile:function(a){et(a,"leaflet-tile");var c=this.getTileSize();a.style.width=c.x+"px",a.style.height=c.y+"px",a.onselectstart=p,a.onmousemove=p,De.ielt9&&this.options.opacity<1&&Gr(a,this.options.opacity)},_addTile:function(a,c){var f=this._getTilePos(a),y=this._tileCoordsToKey(a),b=this.createTile(this._wrapCoords(a),l(this._tileReady,this,a));this._initTile(b),this.createTile.length<2&&Z(l(this._tileReady,this,a,null,b)),sn(b,f),this._tiles[y]={el:b,coords:a,current:!0},c.appendChild(b),this.fire("tileloadstart",{tile:b,coords:a})},_tileReady:function(a,c,f){c&&this.fire("tileerror",{error:c,tile:f,coords:a});var y=this._tileCoordsToKey(a);f=this._tiles[y],f&&(f.loaded=+new Date,this._map._fadeAnimated?(Gr(f.el,0),V(this._fadeFrame),this._fadeFrame=Z(this._updateOpacity,this)):(f.active=!0,this._pruneTiles()),c||(et(f.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:f.el,coords:a})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),De.ielt9||!this._map._fadeAnimated?Z(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(a){return a.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(a){var c=new k(this._wrapX?m(a.x,this._wrapX):a.x,this._wrapY?m(a.y,this._wrapY):a.y);return c.z=a.z,c},_pxBoundsToTileRange:function(a){var c=this.getTileSize();return new le(a.min.unscaleBy(c).floor(),a.max.unscaleBy(c).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var a in this._tiles)if(!this._tiles[a].loaded)return!1;return!0}});function FO(a){return new Fc(a)}var Xo=Fc.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(a,c){this._url=a,c=g(this,c),c.detectRetina&&De.retina&&c.maxZoom>0?(c.tileSize=Math.floor(c.tileSize/2),c.zoomReverse?(c.zoomOffset--,c.minZoom=Math.min(c.maxZoom,c.minZoom+1)):(c.zoomOffset++,c.maxZoom=Math.max(c.minZoom,c.maxZoom-1)),c.minZoom=Math.max(0,c.minZoom)):c.zoomReverse?c.minZoom=Math.min(c.maxZoom,c.minZoom):c.maxZoom=Math.max(c.minZoom,c.maxZoom),typeof c.subdomains=="string"&&(c.subdomains=c.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(a,c){return this._url===a&&c===void 0&&(c=!0),this._url=a,c||this.redraw(),this},createTile:function(a,c){var f=document.createElement("img");return Ke(f,"load",l(this._tileOnLoad,this,c,f)),Ke(f,"error",l(this._tileOnError,this,c,f)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(f.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(f.referrerPolicy=this.options.referrerPolicy),f.alt="",f.src=this.getTileUrl(a),f},getTileUrl:function(a){var c={r:De.retina?"@2x":"",s:this._getSubdomain(a),x:a.x,y:a.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var f=this._globalTileRange.max.y-a.y;this.options.tms&&(c.y=f),c["-y"]=f}return w(this._url,i(c,this.options))},_tileOnLoad:function(a,c){De.ielt9?setTimeout(l(a,this,null,c),0):a(null,c)},_tileOnError:function(a,c,f){var y=this.options.errorTileUrl;y&&c.getAttribute("src")!==y&&(c.src=y),a(f,c)},_onTileRemove:function(a){a.tile.onload=null},_getZoomForUrl:function(){var a=this._tileZoom,c=this.options.maxZoom,f=this.options.zoomReverse,y=this.options.zoomOffset;return f&&(a=c-a),a+y},_getSubdomain:function(a){var c=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[c]},_abortLoading:function(){var a,c;for(a in this._tiles)if(this._tiles[a].coords.z!==this._tileZoom&&(c=this._tiles[a].el,c.onload=p,c.onerror=p,!c.complete)){c.src=M;var f=this._tiles[a].coords;Wt(c),delete this._tiles[a],this.fire("tileabort",{tile:c,coords:f})}},_removeTile:function(a){var c=this._tiles[a];if(c)return c.el.setAttribute("src",M),Fc.prototype._removeTile.call(this,a)},_tileReady:function(a,c,f){if(!(!this._map||f&&f.getAttribute("src")===M))return Fc.prototype._tileReady.call(this,a,c,f)}});function V0(a,c){return new Xo(a,c)}var U0=Xo.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(a,c){this._url=a;var f=i({},this.defaultWmsParams);for(var y in c)y in this.options||(f[y]=c[y]);c=g(this,c);var b=c.detectRetina&&De.retina?2:1,T=this.getTileSize();f.width=T.x*b,f.height=T.y*b,this.wmsParams=f},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var c=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[c]=this._crs.code,Xo.prototype.onAdd.call(this,a)},getTileUrl:function(a){var c=this._tileCoordsToNwSe(a),f=this._crs,y=Me(f.project(c[0]),f.project(c[1])),b=y.min,T=y.max,I=(this._wmsVersion>=1.3&&this._crs===I0?[b.y,b.x,T.y,T.x]:[b.x,b.y,T.x,T.y]).join(","),H=Xo.prototype.getTileUrl.call(this,a);return H+S(this.wmsParams,H,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+I},setParams:function(a,c){return i(this.wmsParams,a),c||this.redraw(),this}});function zO(a,c){return new U0(a,c)}Xo.WMS=U0,V0.wms=zO;var mi=hs.extend({options:{padding:.1},initialize:function(a){g(this,a),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),et(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var a={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(a.zoomanim=this._onAnimZoom),a},_onAnimZoom:function(a){this._updateTransform(a.center,a.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(a,c){var f=this._map.getZoomScale(c,this._zoom),y=this._map.getSize().multiplyBy(.5+this.options.padding),b=this._map.project(this._center,c),T=y.multiplyBy(-f).add(b).subtract(this._map._getNewPixelOrigin(a,c));De.any3d?Ya(this._container,T,f):sn(this._container,T)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var a in this._layers)this._layers[a]._reset()},_onZoomEnd:function(){for(var a in this._layers)this._layers[a]._project()},_updatePaths:function(){for(var a in this._layers)this._layers[a]._update()},_update:function(){var a=this.options.padding,c=this._map.getSize(),f=this._map.containerPointToLayerPoint(c.multiplyBy(-a)).round();this._bounds=new le(f,f.add(c.multiplyBy(1+a*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),W0=mi.extend({options:{tolerance:0},getEvents:function(){var a=mi.prototype.getEvents.call(this);return a.viewprereset=this._onViewPreReset,a},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){mi.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var a=this._container=document.createElement("canvas");Ke(a,"mousemove",this._onMouseMove,this),Ke(a,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ke(a,"mouseout",this._handleMouseOut,this),a._leaflet_disable_events=!0,this._ctx=a.getContext("2d")},_destroyContainer:function(){V(this._redrawRequest),delete this._ctx,Wt(this._container),At(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var a;this._redrawBounds=null;for(var c in this._layers)a=this._layers[c],a._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mi.prototype._update.call(this);var a=this._bounds,c=this._container,f=a.getSize(),y=De.retina?2:1;sn(c,a.min),c.width=y*f.x,c.height=y*f.y,c.style.width=f.x+"px",c.style.height=f.y+"px",De.retina&&this._ctx.scale(2,2),this._ctx.translate(-a.min.x,-a.min.y),this.fire("update")}},_reset:function(){mi.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(a){this._updateDashArray(a),this._layers[u(a)]=a;var c=a._order={layer:a,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=c),this._drawLast=c,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(a){this._requestRedraw(a)},_removePath:function(a){var c=a._order,f=c.next,y=c.prev;f?f.prev=y:this._drawLast=y,y?y.next=f:this._drawFirst=f,delete a._order,delete this._layers[u(a)],this._requestRedraw(a)},_updatePath:function(a){this._extendRedrawBounds(a),a._project(),a._update(),this._requestRedraw(a)},_updateStyle:function(a){this._updateDashArray(a),this._requestRedraw(a)},_updateDashArray:function(a){if(typeof a.options.dashArray=="string"){var c=a.options.dashArray.split(/[, ]+/),f=[],y,b;for(b=0;b<c.length;b++){if(y=Number(c[b]),isNaN(y))return;f.push(y)}a.options._dashArray=f}else a.options._dashArray=a.options.dashArray},_requestRedraw:function(a){this._map&&(this._extendRedrawBounds(a),this._redrawRequest=this._redrawRequest||Z(this._redraw,this))},_extendRedrawBounds:function(a){if(a._pxBounds){var c=(a.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new le,this._redrawBounds.extend(a._pxBounds.min.subtract([c,c])),this._redrawBounds.extend(a._pxBounds.max.add([c,c]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var a=this._redrawBounds;if(a){var c=a.getSize();this._ctx.clearRect(a.min.x,a.min.y,c.x,c.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var a,c=this._redrawBounds;if(this._ctx.save(),c){var f=c.getSize();this._ctx.beginPath(),this._ctx.rect(c.min.x,c.min.y,f.x,f.y),this._ctx.clip()}this._drawing=!0;for(var y=this._drawFirst;y;y=y.next)a=y.layer,(!c||a._pxBounds&&a._pxBounds.intersects(c))&&a._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(a,c){if(this._drawing){var f,y,b,T,I=a._parts,H=I.length,Q=this._ctx;if(H){for(Q.beginPath(),f=0;f<H;f++){for(y=0,b=I[f].length;y<b;y++)T=I[f][y],Q[y?"lineTo":"moveTo"](T.x,T.y);c&&Q.closePath()}this._fillStroke(Q,a)}}},_updateCircle:function(a){if(!(!this._drawing||a._empty())){var c=a._point,f=this._ctx,y=Math.max(Math.round(a._radius),1),b=(Math.max(Math.round(a._radiusY),1)||y)/y;b!==1&&(f.save(),f.scale(1,b)),f.beginPath(),f.arc(c.x,c.y/b,y,0,Math.PI*2,!1),b!==1&&f.restore(),this._fillStroke(f,a)}},_fillStroke:function(a,c){var f=c.options;f.fill&&(a.globalAlpha=f.fillOpacity,a.fillStyle=f.fillColor||f.color,a.fill(f.fillRule||"evenodd")),f.stroke&&f.weight!==0&&(a.setLineDash&&a.setLineDash(c.options&&c.options._dashArray||[]),a.globalAlpha=f.opacity,a.lineWidth=f.weight,a.strokeStyle=f.color,a.lineCap=f.lineCap,a.lineJoin=f.lineJoin,a.stroke())},_onClick:function(a){for(var c=this._map.mouseEventToLayerPoint(a),f,y,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(c)&&(!(a.type==="click"||a.type==="preclick")||!this._map._draggableMoved(f))&&(y=f);this._fireEvent(y?[y]:!1,a)},_onMouseMove:function(a){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var c=this._map.mouseEventToLayerPoint(a);this._handleMouseHover(a,c)}},_handleMouseOut:function(a){var c=this._hoveredLayer;c&&(Xt(this._container,"leaflet-interactive"),this._fireEvent([c],a,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(a,c){if(!this._mouseHoverThrottled){for(var f,y,b=this._drawFirst;b;b=b.next)f=b.layer,f.options.interactive&&f._containsPoint(c)&&(y=f);y!==this._hoveredLayer&&(this._handleMouseOut(a),y&&(et(this._container,"leaflet-interactive"),this._fireEvent([y],a,"mouseover"),this._hoveredLayer=y)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,a),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(a,c,f){this._map._fireDOMEvent(c,f||c.type,a)},_bringToFront:function(a){var c=a._order;if(c){var f=c.next,y=c.prev;if(f)f.prev=y;else return;y?y.next=f:f&&(this._drawFirst=f),c.prev=this._drawLast,this._drawLast.next=c,c.next=null,this._drawLast=c,this._requestRedraw(a)}},_bringToBack:function(a){var c=a._order;if(c){var f=c.next,y=c.prev;if(y)y.next=f;else return;f?f.prev=y:y&&(this._drawLast=y),c.prev=null,c.next=this._drawFirst,this._drawFirst.prev=c,this._drawFirst=c,this._requestRedraw(a)}}});function H0(a){return De.canvas?new W0(a):null}var zc=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(a){return document.createElement("<lvml:"+a+' class="lvml">')}}catch{}return function(a){return document.createElement("<"+a+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),BO={_initContainer:function(){this._container=_t("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(mi.prototype._update.call(this),this.fire("update"))},_initPath:function(a){var c=a._container=zc("shape");et(c,"leaflet-vml-shape "+(this.options.className||"")),c.coordsize="1 1",a._path=zc("path"),c.appendChild(a._path),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){var c=a._container;this._container.appendChild(c),a.options.interactive&&a.addInteractiveTarget(c)},_removePath:function(a){var c=a._container;Wt(c),a.removeInteractiveTarget(c),delete this._layers[u(a)]},_updateStyle:function(a){var c=a._stroke,f=a._fill,y=a.options,b=a._container;b.stroked=!!y.stroke,b.filled=!!y.fill,y.stroke?(c||(c=a._stroke=zc("stroke")),b.appendChild(c),c.weight=y.weight+"px",c.color=y.color,c.opacity=y.opacity,y.dashArray?c.dashStyle=N(y.dashArray)?y.dashArray.join(" "):y.dashArray.replace(/( *, *)/g," "):c.dashStyle="",c.endcap=y.lineCap.replace("butt","flat"),c.joinstyle=y.lineJoin):c&&(b.removeChild(c),a._stroke=null),y.fill?(f||(f=a._fill=zc("fill")),b.appendChild(f),f.color=y.fillColor||y.color,f.opacity=y.fillOpacity):f&&(b.removeChild(f),a._fill=null)},_updateCircle:function(a){var c=a._point.round(),f=Math.round(a._radius),y=Math.round(a._radiusY||f);this._setPath(a,a._empty()?"M0 0":"AL "+c.x+","+c.y+" "+f+","+y+" 0,"+65535*360)},_setPath:function(a,c){a._path.v=c},_bringToFront:function(a){qo(a._container)},_bringToBack:function(a){Zo(a._container)}},sf=De.vml?zc:Fs,Bc=mi.extend({_initContainer:function(){this._container=sf("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=sf("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Wt(this._container),At(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){mi.prototype._update.call(this);var a=this._bounds,c=a.getSize(),f=this._container;(!this._svgSize||!this._svgSize.equals(c))&&(this._svgSize=c,f.setAttribute("width",c.x),f.setAttribute("height",c.y)),sn(f,a.min),f.setAttribute("viewBox",[a.min.x,a.min.y,c.x,c.y].join(" ")),this.fire("update")}},_initPath:function(a){var c=a._path=sf("path");a.options.className&&et(c,a.options.className),a.options.interactive&&et(c,"leaflet-interactive"),this._updateStyle(a),this._layers[u(a)]=a},_addPath:function(a){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(a._path),a.addInteractiveTarget(a._path)},_removePath:function(a){Wt(a._path),a.removeInteractiveTarget(a._path),delete this._layers[u(a)]},_updatePath:function(a){a._project(),a._update()},_updateStyle:function(a){var c=a._path,f=a.options;c&&(f.stroke?(c.setAttribute("stroke",f.color),c.setAttribute("stroke-opacity",f.opacity),c.setAttribute("stroke-width",f.weight),c.setAttribute("stroke-linecap",f.lineCap),c.setAttribute("stroke-linejoin",f.lineJoin),f.dashArray?c.setAttribute("stroke-dasharray",f.dashArray):c.removeAttribute("stroke-dasharray"),f.dashOffset?c.setAttribute("stroke-dashoffset",f.dashOffset):c.removeAttribute("stroke-dashoffset")):c.setAttribute("stroke","none"),f.fill?(c.setAttribute("fill",f.fillColor||f.color),c.setAttribute("fill-opacity",f.fillOpacity),c.setAttribute("fill-rule",f.fillRule||"evenodd")):c.setAttribute("fill","none"))},_updatePoly:function(a,c){this._setPath(a,us(a._parts,c))},_updateCircle:function(a){var c=a._point,f=Math.max(Math.round(a._radius),1),y=Math.max(Math.round(a._radiusY),1)||f,b="a"+f+","+y+" 0 1,0 ",T=a._empty()?"M0 0":"M"+(c.x-f)+","+c.y+b+f*2+",0 "+b+-f*2+",0 ";this._setPath(a,T)},_setPath:function(a,c){a._path.setAttribute("d",c)},_bringToFront:function(a){qo(a._path)},_bringToBack:function(a){Zo(a._path)}});De.vml&&Bc.include(BO);function q0(a){return De.svg||De.vml?new Bc(a):null}gt.include({getRenderer:function(a){var c=a.options.renderer||this._getPaneRenderer(a.options.pane)||this.options.renderer||this._renderer;return c||(c=this._renderer=this._createRenderer()),this.hasLayer(c)||this.addLayer(c),c},_getPaneRenderer:function(a){if(a==="overlayPane"||a===void 0)return!1;var c=this._paneRenderers[a];return c===void 0&&(c=this._createRenderer({pane:a}),this._paneRenderers[a]=c),c},_createRenderer:function(a){return this.options.preferCanvas&&H0(a)||q0(a)}});var Z0=Yo.extend({initialize:function(a,c){Yo.prototype.initialize.call(this,this._boundsToLatLngs(a),c)},setBounds:function(a){return this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=Pe(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}});function $O(a,c){return new Z0(a,c)}Bc.create=sf,Bc.pointsToPath=us,hi.geometryToLayer=Qu,hi.coordsToLatLng=Ip,hi.coordsToLatLngs=Xu,hi.latLngToCoords=Op,hi.latLngsToCoords=Ju,hi.getFeature=Qo,hi.asFeature=ef,gt.mergeOptions({boxZoom:!0});var K0=$s.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._resetStateTimeout=0,a.on("unload",this._destroy,this)},addHooks:function(){Ke(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){At(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Wt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(a){if(!a.shiftKey||a.which!==1&&a.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mc(),vp(),this._startPoint=this._map.mouseEventToContainerPoint(a),Ke(document,{contextmenu:Ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(a){this._moved||(this._moved=!0,this._box=_t("div","leaflet-zoom-box",this._container),et(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(a);var c=new le(this._point,this._startPoint),f=c.getSize();sn(this._box,c.min),this._box.style.width=f.x+"px",this._box.style.height=f.y+"px"},_finish:function(){this._moved&&(Wt(this._box),Xt(this._container,"leaflet-crosshair")),Ac(),yp(),At(document,{contextmenu:Ja,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(a){if(!(a.which!==1&&a.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var c=new qe(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(c).fire("boxzoomend",{boxZoomBounds:c})}},_onKeyDown:function(a){a.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});gt.addInitHook("addHandler","boxZoom",K0),gt.mergeOptions({doubleClickZoom:!0});var G0=$s.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(a){var c=this._map,f=c.getZoom(),y=c.options.zoomDelta,b=a.originalEvent.shiftKey?f-y:f+y;c.options.doubleClickZoom==="center"?c.setZoom(b):c.setZoomAround(a.containerPoint,b)}});gt.addInitHook("addHandler","doubleClickZoom",G0),gt.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Y0=$s.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new Wi(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),a.on("zoomend",this._onZoomEnd,this),a.whenReady(this._onZoomEnd,this))}et(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Xt(this._map._container,"leaflet-grab"),Xt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var a=this._map;if(a._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var c=Pe(this._map.options.maxBounds);this._offsetLimit=Me(this._map.latLngToContainerPoint(c.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(c.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(a){if(this._map.options.inertia){var c=this._lastTime=+new Date,f=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(f),this._times.push(c),this._prunePositions(c)}this._map.fire("move",a).fire("drag",a)},_prunePositions:function(a){for(;this._positions.length>1&&a-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var a=this._map.getSize().divideBy(2),c=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=c.subtract(a).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(a,c){return a-(a-c)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var a=this._draggable._newPos.subtract(this._draggable._startPos),c=this._offsetLimit;a.x<c.min.x&&(a.x=this._viscousLimit(a.x,c.min.x)),a.y<c.min.y&&(a.y=this._viscousLimit(a.y,c.min.y)),a.x>c.max.x&&(a.x=this._viscousLimit(a.x,c.max.x)),a.y>c.max.y&&(a.y=this._viscousLimit(a.y,c.max.y)),this._draggable._newPos=this._draggable._startPos.add(a)}},_onPreDragWrap:function(){var a=this._worldWidth,c=Math.round(a/2),f=this._initialWorldOffset,y=this._draggable._newPos.x,b=(y-c+f)%a+c-f,T=(y+c+f)%a-c-f,I=Math.abs(b+f)<Math.abs(T+f)?b:T;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=I},_onDragEnd:function(a){var c=this._map,f=c.options,y=!f.inertia||a.noInertia||this._times.length<2;if(c.fire("dragend",a),y)c.fire("moveend");else{this._prunePositions(+new Date);var b=this._lastPos.subtract(this._positions[0]),T=(this._lastTime-this._times[0])/1e3,I=f.easeLinearity,H=b.multiplyBy(I/T),Q=H.distanceTo([0,0]),ae=Math.min(f.inertiaMaxSpeed,Q),Ne=H.multiplyBy(ae/Q),Ve=ae/(f.inertiaDeceleration*I),st=Ne.multiplyBy(-Ve/2).round();!st.x&&!st.y?c.fire("moveend"):(st=c._limitOffset(st,c.options.maxBounds),Z(function(){c.panBy(st,{duration:Ve,easeLinearity:I,noMoveStart:!0,animate:!0})}))}}});gt.addInitHook("addHandler","dragging",Y0),gt.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Q0=$s.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(a){this._map=a,this._setPanDelta(a.options.keyboardPanDelta),this._setZoomDelta(a.options.zoomDelta)},addHooks:function(){var a=this._map._container;a.tabIndex<=0&&(a.tabIndex="0"),Ke(a,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),At(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var a=document.body,c=document.documentElement,f=a.scrollTop||c.scrollTop,y=a.scrollLeft||c.scrollLeft;this._map._container.focus(),window.scrollTo(y,f)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(a){var c=this._panKeys={},f=this.keyCodes,y,b;for(y=0,b=f.left.length;y<b;y++)c[f.left[y]]=[-1*a,0];for(y=0,b=f.right.length;y<b;y++)c[f.right[y]]=[a,0];for(y=0,b=f.down.length;y<b;y++)c[f.down[y]]=[0,a];for(y=0,b=f.up.length;y<b;y++)c[f.up[y]]=[0,-1*a]},_setZoomDelta:function(a){var c=this._zoomKeys={},f=this.keyCodes,y,b;for(y=0,b=f.zoomIn.length;y<b;y++)c[f.zoomIn[y]]=a;for(y=0,b=f.zoomOut.length;y<b;y++)c[f.zoomOut[y]]=-a},_addHooks:function(){Ke(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){At(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(a){if(!(a.altKey||a.ctrlKey||a.metaKey)){var c=a.keyCode,f=this._map,y;if(c in this._panKeys){if(!f._panAnim||!f._panAnim._inProgress)if(y=this._panKeys[c],a.shiftKey&&(y=G(y).multiplyBy(3)),f.options.maxBounds&&(y=f._limitOffset(G(y),f.options.maxBounds)),f.options.worldCopyJump){var b=f.wrapLatLng(f.unproject(f.project(f.getCenter()).add(y)));f.panTo(b)}else f.panBy(y)}else if(c in this._zoomKeys)f.setZoom(f.getZoom()+(a.shiftKey?3:1)*this._zoomKeys[c]);else if(c===27&&f._popup&&f._popup.options.closeOnEscapeKey)f.closePopup();else return;Ja(a)}}});gt.addInitHook("addHandler","keyboard",Q0),gt.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var X0=$s.extend({addHooks:function(){Ke(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){At(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(a){var c=_0(a),f=this._map.options.wheelDebounceTime;this._delta+=c,this._lastMousePos=this._map.mouseEventToContainerPoint(a),this._startTime||(this._startTime=+new Date);var y=Math.max(f-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),y),Ja(a)},_performZoom:function(){var a=this._map,c=a.getZoom(),f=this._map.options.zoomSnap||0;a._stop();var y=this._delta/(this._map.options.wheelPxPerZoomLevel*4),b=4*Math.log(2/(1+Math.exp(-Math.abs(y))))/Math.LN2,T=f?Math.ceil(b/f)*f:b,I=a._limitZoom(c+(this._delta>0?T:-T))-c;this._delta=0,this._startTime=null,I&&(a.options.scrollWheelZoom==="center"?a.setZoom(c+I):a.setZoomAround(this._lastMousePos,c+I))}});gt.addInitHook("addHandler","scrollWheelZoom",X0);var VO=600;gt.mergeOptions({tapHold:De.touchNative&&De.safari&&De.mobile,tapTolerance:15});var J0=$s.extend({addHooks:function(){Ke(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){At(this._map._container,"touchstart",this._onDown,this)},_onDown:function(a){if(clearTimeout(this._holdTimeout),a.touches.length===1){var c=a.touches[0];this._startPos=this._newPos=new k(c.clientX,c.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(Ke(document,"touchend",On),Ke(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",c))},this),VO),Ke(document,"touchend touchcancel contextmenu",this._cancel,this),Ke(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function a(){At(document,"touchend",On),At(document,"touchend touchcancel",a)},_cancel:function(){clearTimeout(this._holdTimeout),At(document,"touchend touchcancel contextmenu",this._cancel,this),At(document,"touchmove",this._onMove,this)},_onMove:function(a){var c=a.touches[0];this._newPos=new k(c.clientX,c.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(a,c){var f=new MouseEvent(a,{bubbles:!0,cancelable:!0,view:window,screenX:c.screenX,screenY:c.screenY,clientX:c.clientX,clientY:c.clientY});f._simulated=!0,c.target.dispatchEvent(f)}});gt.addInitHook("addHandler","tapHold",J0),gt.mergeOptions({touchZoom:De.touch,bounceAtZoomLimits:!0});var ej=$s.extend({addHooks:function(){et(this._map._container,"leaflet-touch-zoom"),Ke(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Xt(this._map._container,"leaflet-touch-zoom"),At(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(a){var c=this._map;if(!(!a.touches||a.touches.length!==2||c._animatingZoom||this._zooming)){var f=c.mouseEventToContainerPoint(a.touches[0]),y=c.mouseEventToContainerPoint(a.touches[1]);this._centerPoint=c.getSize()._divideBy(2),this._startLatLng=c.containerPointToLatLng(this._centerPoint),c.options.touchZoom!=="center"&&(this._pinchStartLatLng=c.containerPointToLatLng(f.add(y)._divideBy(2))),this._startDist=f.distanceTo(y),this._startZoom=c.getZoom(),this._moved=!1,this._zooming=!0,c._stop(),Ke(document,"touchmove",this._onTouchMove,this),Ke(document,"touchend touchcancel",this._onTouchEnd,this),On(a)}},_onTouchMove:function(a){if(!(!a.touches||a.touches.length!==2||!this._zooming)){var c=this._map,f=c.mouseEventToContainerPoint(a.touches[0]),y=c.mouseEventToContainerPoint(a.touches[1]),b=f.distanceTo(y)/this._startDist;if(this._zoom=c.getScaleZoom(b,this._startZoom),!c.options.bounceAtZoomLimits&&(this._zoom<c.getMinZoom()&&b<1||this._zoom>c.getMaxZoom()&&b>1)&&(this._zoom=c._limitZoom(this._zoom)),c.options.touchZoom==="center"){if(this._center=this._startLatLng,b===1)return}else{var T=f._add(y)._divideBy(2)._subtract(this._centerPoint);if(b===1&&T.x===0&&T.y===0)return;this._center=c.unproject(c.project(this._pinchStartLatLng,this._zoom).subtract(T),this._zoom)}this._moved||(c._moveStart(!0,!1),this._moved=!0),V(this._animRequest);var I=l(c._move,c,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Z(I,this,!0),On(a)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,V(this._animRequest),At(document,"touchmove",this._onTouchMove,this),At(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});gt.addInitHook("addHandler","touchZoom",ej),gt.BoxZoom=K0,gt.DoubleClickZoom=G0,gt.Drag=Y0,gt.Keyboard=Q0,gt.ScrollWheelZoom=X0,gt.TapHold=J0,gt.TouchZoom=ej,n.Bounds=le,n.Browser=De,n.CRS=E,n.Canvas=W0,n.Circle=Lp,n.CircleMarker=Yu,n.Class=X,n.Control=fs,n.DivIcon=$0,n.DivOverlay=Vs,n.DomEvent=aO,n.DomUtil=sO,n.Draggable=Wi,n.Evented=U,n.FeatureGroup=ui,n.GeoJSON=hi,n.GridLayer=Fc,n.Handler=$s,n.Icon=Go,n.ImageOverlay=tf,n.LatLng=Oe,n.LatLngBounds=qe,n.Layer=hs,n.LayerGroup=Ko,n.LineUtil=yO,n.Map=gt,n.Marker=Gu,n.Mixin=hO,n.Path=Hi,n.Point=k,n.PolyUtil=mO,n.Polygon=Yo,n.Polyline=fi,n.Popup=nf,n.PosAnimation=b0,n.Projection=wO,n.Rectangle=Z0,n.Renderer=mi,n.SVG=Bc,n.SVGOverlay=B0,n.TileLayer=Xo,n.Tooltip=rf,n.Transformation=Ze,n.Util=te,n.VideoOverlay=z0,n.bind=l,n.bounds=Me,n.canvas=H0,n.circle=kO,n.circleMarker=PO,n.control=Ic,n.divIcon=DO,n.extend=i,n.featureGroup=NO,n.geoJSON=F0,n.geoJson=MO,n.gridLayer=FO,n.icon=SO,n.imageOverlay=AO,n.latLng=ke,n.latLngBounds=Pe,n.layerGroup=bO,n.map=oO,n.marker=CO,n.point=G,n.polygon=EO,n.polyline=TO,n.popup=IO,n.rectangle=$O,n.setOptions=g,n.stamp=u,n.svg=q0,n.svgOverlay=LO,n.tileLayer=V0,n.tooltip=OO,n.transformation=lt,n.version=s,n.videoOverlay=RO;var UO=window.L;n.noConflict=function(){return window.L=UO,this},window.L=n})})(Sv,Sv.exports);var Ru=Sv.exports;const zw=dm(Ru);function Bw(e,t,n){return Object.freeze({instance:e,context:t,container:n})}function $w(e,t){return t==null?function(s,i){const o=v.useRef();return o.current||(o.current=e(s,i)),o}:function(s,i){const o=v.useRef();o.current||(o.current=e(s,i));const l=v.useRef(s),{instance:d}=o.current;return v.useEffect(function(){l.current!==s&&(t(d,s,l.current),l.current=s)},[d,s,i]),o}}function QW(e,t){v.useEffect(function(){return(t.layerContainer??t.map).addLayer(e.instance),function(){var o;(o=t.layerContainer)==null||o.removeLayer(e.instance),t.map.removeLayer(e.instance)}},[t,e])}function rR(e){return function(n){const s=Dw(),i=e(Fw(n,s),s);return J4(s.map,n.attribution),nR(i.current,n.eventHandlers),QW(i.current,s),i}}function XW(e,t){const n=$w(e,t),s=rR(n);return ZW(s)}function JW(e,t){const n=$w(e),s=YW(n,t);return KW(s)}function e7(e,t){const n=$w(e,t),s=rR(n);return GW(s)}function t7(e,t,n){const{opacity:s,zIndex:i}=t;s!=null&&s!==n.opacity&&e.setOpacity(s),i!=null&&i!==n.zIndex&&e.setZIndex(i)}function n7(){return Dw().map}function Cv(){return Cv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Cv.apply(this,arguments)}function r7({bounds:e,boundsOptions:t,center:n,children:s,className:i,id:o,placeholder:l,style:d,whenReady:u,zoom:h,...m},p){const[x]=v.useState({className:i,id:o,style:d}),[j,C]=v.useState(null);v.useImperativeHandle(p,()=>(j==null?void 0:j.map)??null,[j]);const g=v.useCallback(_=>{if(_!==null&&j===null){const w=new Ru.Map(_,m);n!=null&&h!=null?w.setView(n,h):e!=null&&w.fitBounds(e,t),u!=null&&w.whenReady(u),C(HW(w))}},[]);v.useEffect(()=>()=>{j==null||j.map.remove()},[j]);const S=j?he.createElement(tR,{value:j},s):l??null;return he.createElement("div",Cv({},x,{ref:g}),S)}const s7=v.forwardRef(r7),i7=XW(function({position:t,...n},s){const i=new Ru.Marker(t,n);return Bw(i,qW(s,{overlayContainer:i}))},function(t,n,s){n.position!==s.position&&t.setLatLng(n.position),n.icon!=null&&n.icon!==s.icon&&t.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==s.zIndexOffset&&t.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==s.opacity&&t.setOpacity(n.opacity),t.dragging!=null&&n.draggable!==s.draggable&&(n.draggable===!0?t.dragging.enable():t.dragging.disable())}),a7=JW(function(t,n){const s=new Ru.Popup(t,n.overlayContainer);return Bw(s,n)},function(t,n,{position:s},i){v.useEffect(function(){const{instance:l}=t;function d(h){h.popup===l&&(l.update(),i(!0))}function u(h){h.popup===l&&i(!1)}return n.map.on({popupopen:d,popupclose:u}),n.overlayContainer==null?(s!=null&&l.setLatLng(s),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var m;n.map.off({popupopen:d,popupclose:u}),(m=n.overlayContainer)==null||m.unbindPopup(),n.map.removeLayer(l)}},[t,n,i,s])}),o7=e7(function({url:t,...n},s){const i=new Ru.TileLayer(t,Fw(n,s));return Bw(i,s)},function(t,n,s){t7(t,n,s);const{url:i}=n;i!=null&&i!==s.url&&t.setUrl(i)});function Vw(e){let t,n;return Array.isArray(e)?(n=parseFloat(String(e[0])),t=parseFloat(String(e[1]))):e&&typeof e=="object"&&(e.type==="Point"&&Array.isArray(e.coordinates)?(n=parseFloat(String(e.coordinates[0])),t=parseFloat(String(e.coordinates[1]))):(t=e.lat??e.latitude,n=e.lng??e.longitude,t=t!==void 0?parseFloat(String(t)):void 0,n=n!==void 0?parseFloat(String(n)):void 0)),t!==void 0&&n!==void 0&&(Math.abs(t)>90&&Math.abs(n)<=90||Math.abs(t)<=90&&Math.abs(n)>180)&&([t,n]=[n,t]),t===void 0||n===void 0||t<-90||t>90?null:(n=((n+180)%360+360)%360-180,{lat:t,lng:n})}function l7(e){e.forEach(t=>{var s,i;const n=Vw(t);console.debug("Result",t.id,(s=n==null?void 0:n.lat)==null?void 0:s.toFixed(6),(i=n==null?void 0:n.lng)==null?void 0:i.toFixed(6),t)})}const c7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",d7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC",u7="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==";let f7=zw.icon({iconUrl:c7,shadowUrl:d7,iconRetinaUrl:u7,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]});zw.Marker.prototype.options.icon=f7;function h7({listings:e}){const t=n7();return v.useEffect(()=>{if(e.length===0)return;const n=[];if(e.forEach(s=>{const i=Vw({lat:s.lat,lng:s.lng});i&&n.push([i.lat,i.lng])}),n.length>0){const s=zw.latLngBounds(n);t.fitBounds(s,{padding:[50,50]})}},[e,t]),null}function sR({selectedCategoryId:e,searchQuery:t,onListingSelect:n,className:s=""}){const[i,o]=v.useState(!1),[l,d]=v.useState(null),[u,h]=v.useState(t||""),[m,p]=v.useState((e==null?void 0:e.toString())||"all");v.useEffect(()=>{h(t||"")},[t]),v.useEffect(()=>{p((e==null?void 0:e.toString())||"all")},[e]);const x=[41.2586,-95.9378],{data:j=[],isLoading:C,error:g}=Je({queryKey:["/api/listings/map",m,u],queryFn:async()=>{const N=new URLSearchParams;m&&m!=="all"&&N.append("category",m);const P=await fetch(`/api/listings/map?${N}`);if(!P.ok)throw new Error("Failed to fetch map listings");const M=await P.json();return console.log("Map API returned listings:",M.length,M),l7(M),M}}),S=j.filter(N=>{if(!u)return!0;const P=u.toLowerCase();return N.title.toLowerCase().includes(P)}),_=()=>{o(!i)},w=N=>{d(N),n&&n(N)};return r.jsx("div",{className:`relative ${s}`,children:r.jsx(se,{className:`overflow-hidden ${i?"fixed inset-4 z-50":""}`,children:r.jsxs(ie,{className:"p-0",children:[r.jsx("div",{className:"absolute top-4 left-4 right-4 z-[1000] flex gap-2",children:r.jsxs("div",{className:"flex-1 flex gap-2",children:[r.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md p-2 flex items-center gap-2 flex-1",children:[r.jsx(ri,{className:"w-4 h-4 text-muted-foreground"}),r.jsx(ze,{placeholder:"Search on map...",value:u,onChange:N=>h(N.target.value),className:"border-0 shadow-none focus-visible:ring-0","data-testid":"input-map-search"})]}),r.jsxs(Bn,{value:m,onValueChange:p,children:[r.jsx(Mn,{className:"w-48 bg-white dark:bg-gray-800 shadow-md","data-testid":"select-map-category",children:r.jsx($n,{placeholder:"All Categories"})}),r.jsxs(An,{children:[r.jsx(je,{value:"all",children:"All Categories"}),r.jsx(je,{value:"1",children:"Home Improvement"}),r.jsx(je,{value:"2",children:"Landscaping"}),r.jsx(je,{value:"3",children:"Cleaning Services"}),r.jsx(je,{value:"4",children:"Moving & Storage"})]})]})]})}),r.jsxs("div",{className:`relative ${i?"h-[calc(100vh-2rem)]":"h-96 lg:h-[600px]"}`,children:[r.jsxs(s7,{center:x,zoom:12,className:"h-full w-full",zoomControl:!1,children:[r.jsx(o7,{attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),r.jsx(h7,{listings:S}),S.map(N=>{const P=Vw({lat:N.lat,lng:N.lng});return P?r.jsx(i7,{position:[P.lat,P.lng],eventHandlers:{click:()=>w(N)},children:r.jsx(a7,{children:r.jsxs("div",{className:"p-2 min-w-[200px]",children:[r.jsx("h3",{className:"font-semibold mb-2",children:N.title}),r.jsxs("div",{className:"flex items-center gap-1 text-sm text-primary font-bold",children:[r.jsx(hr,{className:"w-4 h-4"}),(N.priceCents/100).toFixed(2)]}),r.jsx(q,{size:"sm",className:"w-full mt-2",onClick:()=>{window.location.href=`/project/${N.id}`},children:"View Details"})]})})},N.id):null})]}),r.jsx("div",{className:"absolute top-4 right-4 z-[1000] flex flex-col space-y-2",children:r.jsx(q,{variant:"outline",size:"sm",onClick:_,className:"bg-background/90 backdrop-blur","data-testid":"button-toggle-fullscreen",children:i?r.jsx(Bz,{className:"w-4 h-4"}):r.jsx(Fz,{className:"w-4 h-4"})})}),C&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-background/50 z-[999]",children:r.jsx(se,{className:"p-4",children:r.jsx("p",{className:"text-sm",children:"Loading map..."})})}),!C&&S.length===0&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center pointer-events-none z-[999]",children:r.jsx(se,{className:"p-4 bg-background/90 backdrop-blur",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:g?"Failed to load listings":"No listings found in this area"})})})]})]})})})}function m7(){const[,e]=Ua(),{user:t}=Sn(),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,d]=v.useState("list"),[u,h]=v.useState(""),[m,p]=v.useState("any"),{data:x=[],isLoading:j}=Je({queryKey:["/api/listings",{status:"published",limit:6}],queryFn:async()=>{const _=await fetch("/api/listings?status=published&limit=6");if(!_.ok)throw new Error("Failed to fetch listings");return _.json()}}),C=()=>{const _=new URLSearchParams;u&&_.set("q",u),m!=="any"&&_.set("budget",m),e(`/search?${_.toString()}`)},g=()=>{t?e("/post-project"):s(!0)},S=()=>{e("/search")};return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Tt,{onAuthClick:()=>s(!0),onPostProjectClick:g}),r.jsxs("section",{className:"relative overflow-hidden bg-gradient-to-br from-primary/5 to-secondary/5 py-24 sm:py-32",children:[r.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:r.jsxs("div",{className:"mx-auto max-w-2xl text-center",children:[r.jsx("h1",{className:"text-4xl font-bold tracking-tight text-primary sm:text-6xl",children:"Connect. Collaborate. Complete."}),r.jsx("p",{className:"mt-6 text-lg leading-8 text-muted-foreground",children:"OmahaShareHub brings together property owners and skilled providers for seamless project completion. Post your project or find work that matches your expertise."}),r.jsxs("div",{className:"mt-10 flex flex-col sm:flex-row items-center justify-center gap-4",children:[r.jsxs(q,{size:"lg",className:"w-full sm:w-auto bg-secondary text-secondary-foreground hover:bg-secondary/90",onClick:g,"data-testid":"button-post-project",children:[r.jsx(Li,{className:"mr-2 h-4 w-4"}),"Post a Project"]}),r.jsxs(q,{variant:"outline",size:"lg",className:"w-full sm:w-auto",onClick:S,"data-testid":"button-find-work",children:[r.jsx(ri,{className:"mr-2 h-4 w-4"}),"Find Work"]})]})]})}),r.jsx("div",{className:"container mx-auto px-4 lg:px-8 mt-16",children:r.jsx("div",{className:"mx-auto max-w-4xl",children:r.jsx(se,{className:"shadow-lg",children:r.jsx(ie,{className:"p-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"md:col-span-2",children:[r.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"What do you need help with?"}),r.jsx(ze,{placeholder:"Search projects, skills, or services...",value:u,onChange:_=>h(_.target.value),"data-testid":"input-search"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"text-sm font-medium text-foreground mb-2 block",children:"Budget Range"}),r.jsxs(Bn,{value:m,onValueChange:p,children:[r.jsx(Mn,{"data-testid":"select-budget",children:r.jsx($n,{placeholder:"Any budget"})}),r.jsxs(An,{children:[r.jsx(je,{value:"any",children:"Any budget"}),r.jsx(je,{value:"0-500",children:"$0 - $500"}),r.jsx(je,{value:"500-2000",children:"$500 - $2,000"}),r.jsx(je,{value:"2000-5000",children:"$2,000 - $5,000"}),r.jsx(je,{value:"5000+",children:"$5,000+"})]})]})]}),r.jsx("div",{className:"flex items-end",children:r.jsxs(q,{className:"w-full",onClick:C,"data-testid":"button-search",children:[r.jsx(ri,{className:"mr-2 h-4 w-4"}),"Search"]})})]})})})})})]}),r.jsx("section",{id:"how-it-works",className:"py-24 sm:py-32 bg-background",children:r.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[r.jsxs("div",{className:"mx-auto max-w-2xl text-center",children:[r.jsx("h2",{className:"text-3xl font-bold tracking-tight text-primary sm:text-4xl",children:"How OmahaShareHub Works"}),r.jsx("p",{className:"mt-6 text-lg leading-8 text-muted-foreground",children:"Simple steps to connect property owners with trusted providers"})]}),r.jsxs("div",{className:"mx-auto mt-16 max-w-7xl",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[r.jsx(se,{className:"hover:shadow-lg transition-all duration-300 border-2 hover:border-secondary",children:r.jsxs(ie,{className:"p-8 text-center",children:[r.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-secondary/10 flex items-center justify-center mb-6",children:r.jsx(xg,{className:"text-secondary h-8 w-8"})}),r.jsx("h3",{className:"text-xl font-semibold text-primary mb-4",children:"1. Post or Browse"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Property owners post projects with details and budget. Providers browse and find work that matches their skills."}),r.jsxs("div",{className:"flex flex-col gap-2",children:[r.jsxs(q,{onClick:g,className:"w-full bg-secondary text-secondary-foreground hover:bg-secondary/90","data-testid":"button-how-post-project",children:[r.jsx(Li,{className:"mr-2 h-4 w-4"}),"Post a Project"]}),r.jsxs(q,{variant:"outline",onClick:S,className:"w-full","data-testid":"button-how-find-work",children:[r.jsx(ri,{className:"mr-2 h-4 w-4"}),"Browse Projects"]})]})]})}),r.jsx(se,{className:"hover:shadow-lg transition-all duration-300 border-2 hover:border-accent",children:r.jsxs(ie,{className:"p-8 text-center",children:[r.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-accent/10 flex items-center justify-center mb-6",children:r.jsx(Ps,{className:"text-accent h-8 w-8"})}),r.jsx("h3",{className:"text-xl font-semibold text-primary mb-4",children:"2. Connect & Plan"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Message directly to discuss details, timeline, and expectations. Schedule meetings and plan the work together."}),r.jsxs("div",{className:"space-y-3 text-sm text-left",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(rc,{className:"h-4 w-4 text-accent mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Direct messaging with providers"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Or,{className:"h-4 w-4 text-accent mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Schedule meetings and site visits"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(En,{className:"h-4 w-4 text-accent mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Review provider ratings & history"})]})]}),t&&r.jsxs(q,{variant:"outline",className:"w-full mt-6",onClick:()=>e("/messages"),"data-testid":"button-how-messages",children:[r.jsx(Ps,{className:"mr-2 h-4 w-4"}),"View Messages"]})]})}),r.jsx(se,{className:"hover:shadow-lg transition-all duration-300 border-2 hover:border-primary",children:r.jsxs(ie,{className:"p-8 text-center",children:[r.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mb-6",children:r.jsx(Ln,{className:"text-primary h-8 w-8"})}),r.jsx("h3",{className:"text-xl font-semibold text-primary mb-4",children:"3. Secure Payment"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"Book with confidence using our secure escrow system. Funds are protected until work is completed to everyone's satisfaction."}),r.jsxs("div",{className:"space-y-3 text-sm text-left",children:[r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(Ln,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Secure escrow holds funds safely"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(rs,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Payment released after completion"})]}),r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(To,{className:"h-4 w-4 text-primary mt-0.5 flex-shrink-0"}),r.jsx("span",{children:"Mutual reviews build trust"})]})]}),t&&r.jsxs(q,{variant:"outline",className:"w-full mt-6",onClick:()=>e("/bookings"),"data-testid":"button-how-bookings",children:[r.jsx(xg,{className:"mr-2 h-4 w-4"}),"Manage Bookings"]})]})})]}),r.jsxs("div",{className:"text-center mt-12",children:[r.jsx("p",{className:"text-muted-foreground mb-4",children:"Ready to get started?"}),r.jsx(q,{size:"lg",onClick:()=>t?g():s(!0),"data-testid":"button-how-get-started",children:t?"Post Your First Project":"Join OmahaShareHub Today"})]})]})]})}),r.jsx("section",{className:"py-24 sm:py-32 bg-muted/30",children:r.jsxs("div",{className:"container mx-auto px-4 lg:px-8",children:[r.jsxs("div",{className:"flex items-center justify-between mb-8",children:[r.jsxs("div",{children:[r.jsx("h2",{className:"text-3xl font-bold tracking-tight text-primary sm:text-4xl",children:"Featured Projects"}),r.jsx("p",{className:"mt-2 text-muted-foreground",children:"Discover opportunities in your area"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(q,{variant:l==="list"?"default":"outline",size:"sm",onClick:()=>d("list"),"data-testid":"button-list-view",children:[r.jsx(aT,{className:"mr-2 h-4 w-4"}),"List"]}),r.jsxs(q,{variant:l==="map"?"default":"outline",size:"sm",onClick:()=>d("map"),"data-testid":"button-map-view",children:[r.jsx(lT,{className:"mr-2 h-4 w-4"}),"Map"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsx(X4,{})}),r.jsx("div",{className:"lg:col-span-2",children:l==="list"?r.jsxs("div",{className:"space-y-6",children:[j?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading projects..."})]}):x.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(xg,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),r.jsx("p",{className:"text-lg font-medium text-foreground",children:"No projects found"}),r.jsx("p",{className:"text-muted-foreground",children:"Be the first to post a project!"})]}):x.map(_=>r.jsx(Iw,{listing:_},_.id)),x.length>0&&r.jsx("div",{className:"mt-8 text-center",children:r.jsx(Ct,{href:"/search",children:r.jsx(q,{variant:"outline","data-testid":"button-load-more",children:"Load More Projects"})})})]}):r.jsx(sR,{})})]})]})}),r.jsx("section",{id:"help",className:"py-24 sm:py-32 bg-background",children:r.jsx("div",{className:"container mx-auto px-4 lg:px-8",children:r.jsxs("div",{className:"mx-auto max-w-3xl",children:[r.jsxs("div",{className:"text-center mb-12",children:[r.jsx("div",{className:"mx-auto h-16 w-16 rounded-full bg-primary/10 flex items-center justify-center mb-6",children:r.jsx(iT,{className:"text-primary h-8 w-8"})}),r.jsx("h2",{className:"text-3xl font-bold tracking-tight text-primary sm:text-4xl",children:"Frequently Asked Questions"}),r.jsx("p",{className:"mt-4 text-lg text-muted-foreground",children:"Everything you need to know about using OmahaShareHub"})]}),r.jsxs(tV,{type:"single",collapsible:!0,className:"w-full",children:[r.jsxs(Xi,{value:"item-1",children:[r.jsx(Ji,{className:"text-left","data-testid":"faq-getting-started",children:"How do I get started on OmahaShareHub?"}),r.jsx(ea,{className:"text-muted-foreground",children:`Simply create an account by clicking "Sign Up" and selecting whether you're a property owner looking to post projects or a service provider looking for work. You can choose both roles if needed. Once registered, property owners can immediately start posting projects, while providers can browse and bid on available work.`})]}),r.jsxs(Xi,{value:"item-2",children:[r.jsx(Ji,{className:"text-left","data-testid":"faq-payments",children:"How does the payment system work?"}),r.jsx(ea,{className:"text-muted-foreground",children:"OmahaShareHub uses a secure escrow system powered by Stripe. When a project is booked, the payment is held safely in escrow. Funds are only released to the provider after the work is completed and approved by the property owner. This protects both parties and ensures quality work."})]}),r.jsxs(Xi,{value:"item-3",children:[r.jsx(Ji,{className:"text-left","data-testid":"faq-fees",children:"What are the fees for using the platform?"}),r.jsx(ea,{className:"text-muted-foreground",children:"Creating an account and posting projects is completely free for property owners. Service providers can browse projects for free as well. A small service fee is applied to completed transactions to cover payment processing and platform maintenance. Detailed fee information is provided before any booking is confirmed."})]}),r.jsxs(Xi,{value:"item-4",children:[r.jsx(Ji,{className:"text-left","data-testid":"faq-safety",children:"How do I know providers are trustworthy?"}),r.jsx(ea,{className:"text-muted-foreground",children:"OmahaShareHub includes a comprehensive review and rating system. You can view a provider's complete work history, ratings from previous clients, and detailed reviews before booking. We encourage all users to communicate through our secure messaging system to discuss project details, timelines, and expectations before committing."})]}),r.jsxs(Xi,{value:"item-5",children:[r.jsx(Ji,{className:"text-left","data-testid":"faq-disputes",children:"What happens if there's a problem with a project?"}),r.jsx(ea,{className:"text-muted-foreground",children:"Our escrow system protects both parties. If issues arise, you can contact our support team who will help mediate the situation. Funds remain in escrow until the dispute is resolved fairly. We also encourage open communication between property owners and providers to resolve minor issues directly."})]}),r.jsxs(Xi,{value:"item-6",children:[r.jsx(Ji,{className:"text-left","data-testid":"faq-area",children:"Is OmahaShareHub only for Omaha area?"}),r.jsx(ea,{className:"text-muted-foreground",children:"Currently, OmahaShareHub primarily serves the Omaha metropolitan area and surrounding communities. This local focus helps us build a stronger, more connected community of property owners and service providers. We're considering expansion to other regions based on user demand."})]}),r.jsxs(Xi,{value:"item-7",children:[r.jsx(Ji,{className:"text-left","data-testid":"faq-categories",children:"What types of projects can I post or find?"}),r.jsx(ea,{className:"text-muted-foreground",children:"OmahaShareHub supports a wide range of project categories including home repairs, renovations, cleaning services, landscaping, painting, plumbing, electrical work, HVAC, roofing, and more. Whether it's a small repair or a major renovation, you can find skilled providers ready to help."})]})]}),r.jsxs("div",{className:"mt-12 text-center",children:[r.jsx("p",{className:"text-muted-foreground mb-4",children:"Still have questions?"}),r.jsxs(q,{variant:"outline",size:"lg",onClick:()=>o(!0),"data-testid":"button-contact-support",children:[r.jsx(Ps,{className:"mr-2 h-4 w-4"}),"Contact Support"]})]})]})})}),r.jsx(Lt,{}),r.jsx(Pd,{isOpen:n,onClose:()=>s(!1)}),r.jsx(O4,{isOpen:i,onClose:()=>o(!1)})]})}const p7=ee.object({email:ee.string().email("Please enter a valid email address"),password:ee.string().min(1,"Password is required")}),g7=ee.object({name:ee.string().min(2,"Name must be at least 2 characters"),email:ee.string().email("Please enter a valid email address"),password:ee.string().min(6,"Password must be at least 6 characters"),roleOwner:ee.boolean().optional(),roleProvider:ee.boolean().optional()}).refine(e=>e.roleOwner||e.roleProvider,{message:"Please select at least one role",path:["roleOwner"]});function x7(){var j,C;const{user:e,loginMutation:t,registerMutation:n}=Sn(),[s,i]=v.useState("signin"),[o,l]=v.useState(""),[d,u]=v.useState(""),h=Wn({resolver:Hn(p7),defaultValues:{email:"",password:""}}),m=Wn({resolver:Hn(g7),defaultValues:{name:"",email:"",password:"",roleOwner:!1,roleProvider:!1}});if(v.useEffect(()=>{const g=m.watch(()=>{d&&u("")});return()=>g.unsubscribe()},[m,d]),v.useEffect(()=>{const g=h.watch(()=>{o&&l("")});return()=>g.unsubscribe()},[h,o]),v.useEffect(()=>{n.isError&&n.error&&(console.log("Register error:",n.error.message),u(n.error.message))},[n.isError,n.error]),v.useEffect(()=>{t.isError&&l(t.error.message)},[t.isError,t.error]),e)return r.jsx(h2,{to:"/dashboard"});const p=g=>{l(""),t.mutate(g)},x=g=>{u(""),n.mutate(g)};return r.jsxs("div",{className:"min-h-screen flex",children:[r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsxs("div",{className:"w-full max-w-md",children:[r.jsxs("div",{className:"text-center mb-8",children:[r.jsx("div",{className:"flex items-center justify-center mb-4",children:r.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary flex items-center justify-center",children:r.jsx($y,{className:"h-6 w-6 text-primary-foreground"})})}),r.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Welcome to OmahaShareHub"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Choose how you'd like to get started"})]}),r.jsxs(qa,{value:s,onValueChange:i,className:"w-full",children:[r.jsxs($i,{className:"grid w-full grid-cols-2",children:[r.jsx(bt,{value:"signin","data-testid":"tab-signin",children:"Sign In"}),r.jsx(bt,{value:"signup","data-testid":"tab-signup",children:"Sign Up"})]}),r.jsx(Nt,{value:"signin",className:"space-y-4",children:r.jsxs("form",{onSubmit:h.handleSubmit(p),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"email",children:"Email"}),r.jsx(ze,{id:"email",type:"email",placeholder:"Enter your email",...h.register("email"),"data-testid":"input-login-email"}),h.formState.errors.email&&r.jsx("p",{className:"text-sm text-destructive",children:h.formState.errors.email.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"password",children:"Password"}),r.jsx(ze,{id:"password",type:"password",placeholder:"Enter your password",...h.register("password"),"data-testid":"input-login-password"}),h.formState.errors.password&&r.jsx("p",{className:"text-sm text-destructive",children:h.formState.errors.password.message})]}),(o||t.isError)&&r.jsx("div",{className:"rounded-md bg-destructive/10 p-3",children:r.jsx("p",{className:"text-sm text-destructive font-medium",children:o||((j=t.error)==null?void 0:j.message)||"Login failed"})}),r.jsx(q,{type:"submit",className:"w-full",disabled:t.isPending,"data-testid":"button-signin",children:t.isPending?"Signing In...":"Sign In"}),r.jsx("div",{className:"text-center",children:r.jsx("a",{href:"#",className:"text-sm text-muted-foreground hover:text-primary",children:"Forgot your password?"})})]})}),r.jsx(Nt,{value:"signup",className:"space-y-4",children:r.jsxs("form",{onSubmit:m.handleSubmit(x),className:"space-y-4",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"name",children:"Full Name"}),r.jsx(ze,{id:"name",type:"text",placeholder:"Enter your full name",...m.register("name"),"data-testid":"input-register-name"}),m.formState.errors.name&&r.jsx("p",{className:"text-sm text-destructive",children:m.formState.errors.name.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"register-email",children:"Email"}),r.jsx(ze,{id:"register-email",type:"email",placeholder:"Enter your email",...m.register("email"),"data-testid":"input-register-email"}),m.formState.errors.email&&r.jsx("p",{className:"text-sm text-destructive",children:m.formState.errors.email.message})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{htmlFor:"register-password",children:"Password"}),r.jsx(ze,{id:"register-password",type:"password",placeholder:"Create a password",...m.register("password"),"data-testid":"input-register-password"}),m.formState.errors.password&&r.jsx("p",{className:"text-sm text-destructive",children:m.formState.errors.password.message})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsx(pe,{children:"I want to:"}),r.jsxs("div",{className:"space-y-2",children:[r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xd,{name:"roleOwner",control:m.control,render:({field:g})=>r.jsx(Di,{id:"roleOwner",checked:g.value===!0,onCheckedChange:S=>g.onChange(S===!0),"data-testid":"checkbox-role-owner"})}),r.jsx(pe,{htmlFor:"roleOwner",className:"text-sm font-normal cursor-pointer",children:"Post projects (Property Owner)"})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Xd,{name:"roleProvider",control:m.control,render:({field:g})=>r.jsx(Di,{id:"roleProvider",checked:g.value===!0,onCheckedChange:S=>g.onChange(S===!0),"data-testid":"checkbox-role-provider"})}),r.jsx(pe,{htmlFor:"roleProvider",className:"text-sm font-normal cursor-pointer",children:"Find work opportunities (Service Provider)"})]})]}),m.formState.errors.roleOwner&&r.jsx("p",{className:"text-sm text-destructive",children:m.formState.errors.roleOwner.message})]}),(d||n.isError)&&r.jsx("div",{className:"rounded-md bg-destructive/10 p-3","data-testid":"error-registration",children:r.jsx("p",{className:"text-sm text-destructive font-medium",children:d||((C=n.error)==null?void 0:C.message)||"Registration failed"})}),r.jsx(q,{type:"submit",className:"w-full bg-secondary text-secondary-foreground hover:bg-secondary/90",disabled:n.isPending,"data-testid":"button-signup",children:n.isPending?"Creating Account...":"Create Account"}),r.jsx("div",{className:"text-center",children:r.jsxs("p",{className:"text-xs text-muted-foreground",children:["By signing up, you agree to our"," ",r.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Terms of Service"})," ","and"," ",r.jsx("a",{href:"#",className:"text-primary hover:underline",children:"Privacy Policy"})]})})]})})]})]})}),r.jsx("div",{className:"hidden lg:flex flex-1 bg-gradient-to-br from-primary to-primary/80 text-primary-foreground",children:r.jsx("div",{className:"flex flex-col justify-center p-12",children:r.jsxs("div",{className:"max-w-md",children:[r.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Join Our Community"}),r.jsx("p",{className:"text-lg mb-8 text-primary-foreground/90",children:"Connect with trusted professionals and property owners in Omaha. Build lasting relationships while getting work done."}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Ln,{className:"h-6 w-6 mt-1 text-secondary"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Secure Payments"}),r.jsx("p",{className:"text-sm text-primary-foreground/80",children:"Protected escrow system ensures safe transactions"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(ka,{className:"h-6 w-6 mt-1 text-secondary"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Verified Professionals"}),r.jsx("p",{className:"text-sm text-primary-foreground/80",children:"All service providers are background checked"})]})]}),r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(Jn,{className:"h-6 w-6 mt-1 text-secondary"}),r.jsxs("div",{children:[r.jsx("h3",{className:"font-semibold",children:"Quality Guarantee"}),r.jsx("p",{className:"text-sm text-primary-foreground/80",children:"Satisfaction guaranteed or your money back"})]})]})]})]})})})]})}function v7(){const[e]=Ua(),[t,n]=v.useState("list"),[s,i]=v.useState(!1),[o,l]=v.useState(!1),[d,u]=v.useState({});v.useEffect(()=>{const g=new URLSearchParams(e.split("?")[1]||""),S={};g.get("q")&&(S.search=g.get("q")),g.get("category")&&(S.categoryId=parseInt(g.get("category"))),g.get("minPrice")&&(S.minPrice=parseInt(g.get("minPrice"))),g.get("maxPrice")&&(S.maxPrice=parseInt(g.get("maxPrice"))),S.limit=20,S.offset=0,u(S)},[e]);const{data:h=[],isLoading:m,error:p}=Je({queryKey:["/api/listings",d],queryFn:async()=>{const g=new URLSearchParams;Object.entries(d).forEach(([_,w])=>{w!==void 0&&g.append(_,w.toString())});const S=await fetch(`/api/listings?${g.toString()}`);if(!S.ok)throw new Error("Failed to fetch listings");return S.json()},enabled:Object.keys(d).length>0}),{data:x=[]}=Je({queryKey:["/api/categories"],queryFn:async()=>{const g=await fetch("/api/categories");if(!g.ok)throw new Error("Failed to fetch categories");return g.json()}}),j=g=>{u({...d,...g,offset:0})},C=Object.values(d).filter(g=>g!==void 0&&g!==""&&g!=="published").length-2;return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Tt,{onAuthClick:()=>l(!0)}),r.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Search Projects"}),r.jsx("p",{className:"text-muted-foreground mt-1",children:d.search?`Results for "${d.search}"`:"Browse available projects"})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsxs(q,{variant:"outline",size:"sm",onClick:()=>i(!s),className:"lg:hidden","data-testid":"button-toggle-filters",children:[r.jsx(dT,{className:"mr-2 h-4 w-4"}),"Filters",C>0&&r.jsx(Pt,{variant:"secondary",className:"ml-2",children:C})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsxs(q,{variant:t==="list"?"default":"outline",size:"sm",onClick:()=>n("list"),"data-testid":"button-list-view",children:[r.jsx(aT,{className:"mr-2 h-4 w-4"}),"List"]}),r.jsxs(q,{variant:t==="map"?"default":"outline",size:"sm",onClick:()=>n("map"),"data-testid":"button-map-view",children:[r.jsx(lT,{className:"mr-2 h-4 w-4"}),"Map"]})]})]})]}),r.jsx("div",{className:"mt-4 text-sm text-muted-foreground",children:m?"Searching...":`${h.length} project${h.length!==1?"s":""} found`})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[r.jsx("div",{className:`lg:col-span-1 ${s?"block":"hidden lg:block"}`,children:r.jsx("div",{className:"sticky top-24",children:r.jsx(X4,{onFilterChange:j,categories:x,currentFilters:d})})}),r.jsxs("div",{className:"lg:col-span-3",children:[m?r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading projects..."})]})}):p?r.jsx("div",{className:"text-center py-12",children:r.jsx("p",{className:"text-destructive",children:"Failed to load projects. Please try again."})}):t==="list"?r.jsx("div",{className:"space-y-6",children:h.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(ri,{className:"mx-auto h-12 w-12 text-muted-foreground mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No projects found"}),r.jsx("p",{className:"text-muted-foreground",children:"Try adjusting your search criteria or browse all projects."})]}):h.map(g=>r.jsx(Iw,{listing:g},g.id))}):r.jsx(sR,{selectedCategoryId:d.categoryId,searchQuery:d.search}),h.length>=20&&r.jsx("div",{className:"mt-8 text-center",children:r.jsx(q,{variant:"outline",onClick:()=>j({offset:d.offset+20}),"data-testid":"button-load-more",children:"Load More Projects"})})]})]})]}),r.jsx(Lt,{}),r.jsx(Pd,{isOpen:o,onClose:()=>l(!1)})]})}function y7({activeProjects:e,completedJobs:t,averageRating:n,totalEarnings:s,responseTime:i,completionRate:o,className:l=""}){const d=m=>{switch(m){case"secondary":return"bg-secondary/10 text-secondary";case"accent":return"bg-accent/10 text-accent";case"success":return"bg-green-100 text-green-600 dark:bg-green-900/20 dark:text-green-400";case"warning":return"bg-yellow-100 text-yellow-600 dark:bg-yellow-900/20 dark:text-yellow-400";default:return"bg-primary/10 text-primary"}},u=m=>{switch(m){case"up":return r.jsx(Nd,{className:"w-3 h-3 text-green-500"});case"down":return r.jsx(hT,{className:"w-3 h-3 text-red-500"});default:return r.jsx($z,{className:"w-3 h-3 text-muted-foreground"})}},h=[{title:"Active Projects",value:e,description:"Currently in progress",icon:r.jsx(Or,{className:"w-8 h-8"}),color:"secondary"},{title:"Completed Jobs",value:t,description:"Total completed projects",icon:r.jsx(Jn,{className:"w-8 h-8"}),color:"accent"},{title:"Average Rating",value:n>0?n.toFixed(1):"No reviews",description:"Overall satisfaction rating",icon:r.jsx(En,{className:"w-8 h-8"}),color:"warning"}];return s!==void 0&&h.push({title:"Total Earnings",value:`$${s.toLocaleString()}`,description:"Revenue this month",icon:r.jsx(hr,{className:"w-8 h-8"}),color:"success"}),i&&h.push({title:"Response Time",value:i,description:"Average reply time",icon:r.jsx(rs,{className:"w-8 h-8"}),color:"primary"}),o!==void 0&&h.push({title:"Completion Rate",value:`${o}%`,description:"Projects completed on time",icon:r.jsx(uT,{className:"w-8 h-8"}),color:"accent"}),r.jsxs("div",{className:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8 ${l}`,children:[h.map((m,p)=>r.jsx(se,{className:"hover:shadow-md transition-shadow duration-200","data-testid":`stat-card-${m.title.toLowerCase().replace(/\s+/g,"-")}`,children:r.jsx(ie,{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`p-3 rounded-lg ${d(m.color)}`,children:m.icon}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:m.title}),r.jsxs("div",{className:"flex items-baseline space-x-2",children:[r.jsx("p",{className:"text-2xl font-bold text-primary","data-testid":`stat-value-${m.title.toLowerCase().replace(/\s+/g,"-")}`,children:m.value}),m.trend&&r.jsxs("div",{className:"flex items-center space-x-1",children:[u(m.trend.direction),r.jsx("span",{className:`text-xs font-medium ${m.trend.direction==="up"?"text-green-600":m.trend.direction==="down"?"text-red-600":"text-muted-foreground"}`,children:m.trend.value})]})]}),m.description&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:m.description}),m.trend&&r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:m.trend.label})]})]})})})},m.title)),r.jsx(se,{className:"hover:shadow-md transition-shadow duration-200 border-dashed border-muted-foreground/30",children:r.jsx(ie,{className:"p-6",children:r.jsx("div",{className:"flex items-center justify-center h-full",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"p-3 rounded-lg bg-muted/50 w-fit mx-auto mb-3",children:r.jsx(va,{className:"w-8 h-8 text-muted-foreground"})}),r.jsx("p",{className:"text-sm font-medium text-muted-foreground mb-1",children:"Next Milestone"}),r.jsx("p",{className:"text-lg font-semibold text-foreground",children:t<10?"10 Projects":t<25?"25 Projects":"50 Projects"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:t<10?`${10-t} projects to go`:t<25?`${25-t} projects to go`:`${50-t} projects to go`}),r.jsx("div",{className:"w-full bg-muted rounded-full h-2 mt-2",children:r.jsx("div",{className:"bg-accent rounded-full h-2 transition-all duration-300",style:{width:`${Math.min(100,t/(t<10?10:t<25?25:50)*100)}%`}})})]})})})})]})}function Nb(){const{user:e}=Sn(),[,t]=Ua(),{toast:n}=mn(),{data:s=[]}=Je({queryKey:["/api/listings",{ownerId:e==null?void 0:e.id}],queryFn:async()=>{const x=await fetch(`/api/listings?ownerId=${e==null?void 0:e.id}&status=`);if(!x.ok)throw new Error("Failed to fetch listings");return x.json()},enabled:!!(e!=null&&e.roleOwner)}),{data:i=[]}=Je({queryKey:["/api/bookings"],queryFn:async()=>{const x=await fetch("/api/bookings");if(!x.ok)throw new Error("Failed to fetch bookings");return x.json()}}),{data:o=[]}=Je({queryKey:["/api/reviews",{revieweeId:e==null?void 0:e.id}],queryFn:async()=>{const x=await fetch(`/api/reviews?revieweeId=${e==null?void 0:e.id}`);if(!x.ok)throw new Error("Failed to fetch reviews");return x.json()},enabled:!!e}),l=ut({mutationFn:async x=>{await Xe("DELETE",`/api/listings/${x}`)},onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/listings"]}),n({title:"Project deleted",description:"Your project has been successfully deleted."})},onError:x=>{n({title:"Failed to delete project",description:x.message,variant:"destructive"})}}),d=x=>{confirm("Are you sure you want to delete this project?")&&l.mutate(x)},u=[],h=s.filter(x=>x.status==="published").length,m=i.filter(x=>x.status==="completed").length,p=o.length>0?o.reduce((x,j)=>x+j.rating,0)/o.length:0;return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Tt,{}),r.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your projects, bookings, and account"})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[r.jsx("div",{className:"lg:col-span-1",children:r.jsx(se,{children:r.jsx(ie,{className:"p-4",children:r.jsxs("nav",{className:"space-y-2",children:[r.jsxs(q,{variant:"ghost",className:"w-full justify-start bg-primary/10 text-primary",children:[r.jsx(Or,{className:"w-5 h-5 mr-3"}),"Overview"]}),r.jsxs(q,{variant:"ghost",className:"w-full justify-start",onClick:()=>{const x=document.getElementById("my-projects-section");x==null||x.scrollIntoView({behavior:"smooth",block:"start"})},"data-testid":"button-my-projects",children:[r.jsx(Li,{className:"w-5 h-5 mr-3"}),"My Projects"]}),r.jsx(Ct,{href:"/dashboard/bookings",children:r.jsxs(q,{variant:"ghost",className:"w-full justify-start",children:[r.jsx(Or,{className:"w-5 h-5 mr-3"}),"Bookings"]})}),r.jsx(Ct,{href:"/messages",children:r.jsxs(q,{variant:"ghost",className:"w-full justify-start",children:[r.jsx(Ps,{className:"w-5 h-5 mr-3"}),"Messages"]})}),r.jsx(Ct,{href:"/dashboard/reviews",children:r.jsxs(q,{variant:"ghost",className:"w-full justify-start",children:[r.jsx(En,{className:"w-5 h-5 mr-3"}),"Reviews"]})}),r.jsx(Ct,{href:"/profile",children:r.jsxs(q,{variant:"ghost",className:"w-full justify-start",children:[r.jsx(ki,{className:"w-5 h-5 mr-3"}),"Profile"]})}),r.jsx(Ct,{href:"/dashboard/settings",children:r.jsxs(q,{variant:"ghost",className:"w-full justify-start",children:[r.jsx(Ah,{className:"w-5 h-5 mr-3"}),"Settings"]})})]})})})}),r.jsxs("div",{className:"lg:col-span-3",children:[r.jsx(y7,{activeProjects:h,completedJobs:m,averageRating:p}),u.length>0&&r.jsxs(se,{className:"mb-8",children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Recent Activity"})}),r.jsx(ie,{children:r.jsx("div",{className:"space-y-4",children:u.map(x=>r.jsxs("div",{className:"flex items-center space-x-3 p-3 rounded-lg bg-muted/50",children:[r.jsx("div",{className:`w-2 h-2 ${x.color} rounded-full`}),r.jsxs("div",{className:"flex-1",children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:x.message}),r.jsx("p",{className:"text-xs text-muted-foreground",children:x.time})]})]},x.id))})})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Quick Actions"})}),r.jsx(ie,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs(q,{variant:"outline",className:"h-auto p-4 flex items-start",onClick:()=>t("/post-project"),"data-testid":"button-post-project",children:[r.jsx("div",{className:"p-2 rounded-lg bg-secondary/10 mr-3",children:r.jsx(Li,{className:"h-4 w-4 text-secondary"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium text-foreground",children:"Post New Project"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a new project listing"})]})]}),r.jsx(Ct,{href:"/search",children:r.jsxs(q,{variant:"outline",className:"h-auto p-4 flex items-start w-full",children:[r.jsx("div",{className:"p-2 rounded-lg bg-accent/10 mr-3",children:r.jsx(ri,{className:"h-4 w-4 text-accent"})}),r.jsxs("div",{className:"text-left",children:[r.jsx("p",{className:"font-medium text-foreground",children:"Find Work"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Browse available projects"})]})]})})]})})]}),(e==null?void 0:e.roleOwner)&&s.length>0&&r.jsxs(se,{className:"mt-8",id:"my-projects-section",children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"My Recent Projects"})}),r.jsx(ie,{children:r.jsx("div",{className:"space-y-3",children:s.slice(0,3).map(x=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-foreground",children:x.title}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",(x.priceCents/100).toLocaleString(),"  ",x.status]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{variant:x.status==="published"?"default":"secondary",children:x.status}),r.jsx(q,{size:"sm",variant:"ghost",onClick:()=>t(`/project/${x.id}`),"data-testid":`button-view-${x.id}`,children:r.jsx(kl,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"ghost",onClick:()=>t(`/post-project?edit=${x.id}`),"data-testid":`button-edit-${x.id}`,children:r.jsx(Vy,{className:"h-4 w-4"})}),r.jsx(q,{size:"sm",variant:"ghost",onClick:()=>d(x.id),disabled:l.isPending,"data-testid":`button-delete-${x.id}`,children:r.jsx(Rh,{className:"h-4 w-4 text-destructive"})})]})]},x.id))})})]}),i.length>0&&r.jsxs(se,{className:"mt-8",children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Recent Bookings"})}),r.jsx(ie,{children:r.jsx("div",{className:"space-y-3",children:i.slice(0,3).map(x=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsxs("h4",{className:"font-medium text-foreground",children:["Booking #",x.id]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["$",(x.totalCents/100).toLocaleString(),"  ",new Date(x.startAt).toLocaleDateString()]})]}),r.jsx(Pt,{variant:x.status==="completed"?"default":x.status==="in_progress"?"secondary":"outline",children:x.status.replace("_"," ")})]},x.id))})})]})]})]})]})}),r.jsx(Lt,{})]})}var w7="Separator",Sb="horizontal",j7=["horizontal","vertical"],iR=v.forwardRef((e,t)=>{const{decorative:n,orientation:s=Sb,...i}=e,o=_7(s)?s:Sb,d=n?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return r.jsx(Re.div,{"data-orientation":o,...d,...i,ref:t})});iR.displayName=w7;function _7(e){return j7.includes(e)}var aR=iR;const is=v.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...s},i)=>r.jsx(aR,{ref:i,decorative:n,orientation:t,className:_e("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...s}));is.displayName=aR.displayName;function jt(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Wr(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ur(e,t){const n=jt(e);return isNaN(t)?Wr(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Ls(e,t){const n=jt(e);if(isNaN(t))return Wr(e,NaN);if(!t)return n;const s=n.getDate(),i=Wr(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}const Uw=6048e5,b7=864e5;let N7={};function Lu(){return N7}function ci(e,t){var d,u,h,m;const n=Lu(),s=(t==null?void 0:t.weekStartsOn)??((u=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,i=jt(e),o=i.getDay(),l=(o<s?7:0)+o-s;return i.setDate(i.getDate()-l),i.setHours(0,0,0,0),i}function Do(e){return ci(e,{weekStartsOn:1})}function oR(e){const t=jt(e),n=t.getFullYear(),s=Wr(e,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=Do(s),o=Wr(e,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Do(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function cc(e){const t=jt(e);return t.setHours(0,0,0,0),t}function tm(e){const t=jt(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ei(e,t){const n=cc(e),s=cc(t),i=+n-tm(n),o=+s-tm(s);return Math.round((i-o)/b7)}function S7(e){const t=oR(e),n=Wr(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Do(n)}function Pv(e,t){const n=t*7;return ur(e,n)}function C7(e,t){return Ls(e,t*12)}function P7(e){let t;return e.forEach(function(n){const s=jt(n);(t===void 0||t<s||isNaN(Number(s)))&&(t=s)}),t||new Date(NaN)}function k7(e){let t;return e.forEach(n=>{const s=jt(n);(!t||t>s||isNaN(+s))&&(t=s)}),t||new Date(NaN)}function Sr(e,t){const n=cc(e),s=cc(t);return+n==+s}function Ww(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function T7(e){if(!Ww(e)&&typeof e!="number")return!1;const t=jt(e);return!isNaN(Number(t))}function fu(e,t){const n=jt(e),s=jt(t),i=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return i*12+o}function E7(e,t,n){const s=ci(e,n),i=ci(t,n),o=+s-tm(s),l=+i-tm(i);return Math.round((o-l)/Uw)}function Hw(e){const t=jt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Tr(e){const t=jt(e);return t.setDate(1),t.setHours(0,0,0,0),t}function lR(e){const t=jt(e),n=Wr(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function qw(e,t){var d,u,h,m;const n=Lu(),s=(t==null?void 0:t.weekStartsOn)??((u=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.weekStartsOn)??0,i=jt(e),o=i.getDay(),l=(o<s?-7:0)+6-(o-s);return i.setDate(i.getDate()+l),i.setHours(23,59,59,999),i}function cR(e){return qw(e,{weekStartsOn:1})}const M7={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},A7=(e,t,n)=>{let s;const i=M7[e];return typeof i=="string"?s=i:t===1?s=i.one:s=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+s:s+" ago":s};function Rg(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const R7={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},L7={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},I7={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},O7={date:Rg({formats:R7,defaultWidth:"full"}),time:Rg({formats:L7,defaultWidth:"full"}),dateTime:Rg({formats:I7,defaultWidth:"full"})},D7={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},F7=(e,t,n,s)=>D7[e];function Jc(e){return(t,n)=>{const s=n!=null&&n.context?String(n.context):"standalone";let i;if(s==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,d=n!=null&&n.width?String(n.width):l;i=e.formattingValues[d]||e.formattingValues[l]}else{const l=e.defaultWidth,d=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[d]||e.values[l]}const o=e.argumentCallback?e.argumentCallback(t):t;return i[o]}}const z7={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},B7={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$7={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},V7={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},U7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},W7={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},H7=(e,t)=>{const n=Number(e),s=n%100;if(s>20||s<10)switch(s%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},q7={ordinalNumber:H7,era:Jc({values:z7,defaultWidth:"wide"}),quarter:Jc({values:B7,defaultWidth:"wide",argumentCallback:e=>e-1}),month:Jc({values:$7,defaultWidth:"wide"}),day:Jc({values:V7,defaultWidth:"wide"}),dayPeriod:Jc({values:U7,defaultWidth:"wide",formattingValues:W7,defaultFormattingWidth:"wide"})};function ed(e){return(t,n={})=>{const s=n.width,i=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const l=o[0],d=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(d)?K7(d,p=>p.test(l)):Z7(d,p=>p.test(l));let h;h=e.valueCallback?e.valueCallback(u):u,h=n.valueCallback?n.valueCallback(h):h;const m=t.slice(l.length);return{value:h,rest:m}}}function Z7(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function K7(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function G7(e){return(t,n={})=>{const s=t.match(e.matchPattern);if(!s)return null;const i=s[0],o=t.match(e.parsePattern);if(!o)return null;let l=e.valueCallback?e.valueCallback(o[0]):o[0];l=n.valueCallback?n.valueCallback(l):l;const d=t.slice(i.length);return{value:l,rest:d}}}const Y7=/^(\d+)(th|st|nd|rd)?/i,Q7=/\d+/i,X7={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},J7={any:[/^b/i,/^(a|c)/i]},eH={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},tH={any:[/1/i,/2/i,/3/i,/4/i]},nH={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},rH={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},sH={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},iH={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},aH={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},oH={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},lH={ordinalNumber:G7({matchPattern:Y7,parsePattern:Q7,valueCallback:e=>parseInt(e,10)}),era:ed({matchPatterns:X7,defaultMatchWidth:"wide",parsePatterns:J7,defaultParseWidth:"any"}),quarter:ed({matchPatterns:eH,defaultMatchWidth:"wide",parsePatterns:tH,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ed({matchPatterns:nH,defaultMatchWidth:"wide",parsePatterns:rH,defaultParseWidth:"any"}),day:ed({matchPatterns:sH,defaultMatchWidth:"wide",parsePatterns:iH,defaultParseWidth:"any"}),dayPeriod:ed({matchPatterns:aH,defaultMatchWidth:"any",parsePatterns:oH,defaultParseWidth:"any"})},dR={code:"en-US",formatDistance:A7,formatLong:O7,formatRelative:F7,localize:q7,match:lH,options:{weekStartsOn:0,firstWeekContainsDate:1}};function cH(e){const t=jt(e);return ei(t,lR(t))+1}function uR(e){const t=jt(e),n=+Do(t)-+S7(t);return Math.round(n/Uw)+1}function fR(e,t){var m,p,x,j;const n=jt(e),s=n.getFullYear(),i=Lu(),o=(t==null?void 0:t.firstWeekContainsDate)??((p=(m=t==null?void 0:t.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??i.firstWeekContainsDate??((j=(x=i.locale)==null?void 0:x.options)==null?void 0:j.firstWeekContainsDate)??1,l=Wr(e,0);l.setFullYear(s+1,0,o),l.setHours(0,0,0,0);const d=ci(l,t),u=Wr(e,0);u.setFullYear(s,0,o),u.setHours(0,0,0,0);const h=ci(u,t);return n.getTime()>=d.getTime()?s+1:n.getTime()>=h.getTime()?s:s-1}function dH(e,t){var d,u,h,m;const n=Lu(),s=(t==null?void 0:t.firstWeekContainsDate)??((u=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(h=n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??1,i=fR(e,t),o=Wr(e,0);return o.setFullYear(i,0,s),o.setHours(0,0,0,0),ci(o,t)}function hR(e,t){const n=jt(e),s=+ci(n,t)-+dH(n,t);return Math.round(s/Uw)+1}function Et(e,t){const n=e<0?"-":"",s=Math.abs(e).toString().padStart(t,"0");return n+s}const Gi={y(e,t){const n=e.getFullYear(),s=n>0?n:1-n;return Et(t==="yy"?s%100:s,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Et(n+1,2)},d(e,t){return Et(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Et(e.getHours()%12||12,t.length)},H(e,t){return Et(e.getHours(),t.length)},m(e,t){return Et(e.getMinutes(),t.length)},s(e,t){return Et(e.getSeconds(),t.length)},S(e,t){const n=t.length,s=e.getMilliseconds(),i=Math.trunc(s*Math.pow(10,n-3));return Et(i,t.length)}},il={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Cb={G:function(e,t,n){const s=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(s,{width:"abbreviated"});case"GGGGG":return n.era(s,{width:"narrow"});case"GGGG":default:return n.era(s,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const s=e.getFullYear(),i=s>0?s:1-s;return n.ordinalNumber(i,{unit:"year"})}return Gi.y(e,t)},Y:function(e,t,n,s){const i=fR(e,s),o=i>0?i:1-i;if(t==="YY"){const l=o%100;return Et(l,2)}return t==="Yo"?n.ordinalNumber(o,{unit:"year"}):Et(o,t.length)},R:function(e,t){const n=oR(e);return Et(n,t.length)},u:function(e,t){const n=e.getFullYear();return Et(n,t.length)},Q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(s);case"QQ":return Et(s,2);case"Qo":return n.ordinalNumber(s,{unit:"quarter"});case"QQQ":return n.quarter(s,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(s,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(s,{width:"wide",context:"formatting"})}},q:function(e,t,n){const s=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(s);case"qq":return Et(s,2);case"qo":return n.ordinalNumber(s,{unit:"quarter"});case"qqq":return n.quarter(s,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(s,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(s,{width:"wide",context:"standalone"})}},M:function(e,t,n){const s=e.getMonth();switch(t){case"M":case"MM":return Gi.M(e,t);case"Mo":return n.ordinalNumber(s+1,{unit:"month"});case"MMM":return n.month(s,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(s,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(s,{width:"wide",context:"formatting"})}},L:function(e,t,n){const s=e.getMonth();switch(t){case"L":return String(s+1);case"LL":return Et(s+1,2);case"Lo":return n.ordinalNumber(s+1,{unit:"month"});case"LLL":return n.month(s,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(s,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(s,{width:"wide",context:"standalone"})}},w:function(e,t,n,s){const i=hR(e,s);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):Et(i,t.length)},I:function(e,t,n){const s=uR(e);return t==="Io"?n.ordinalNumber(s,{unit:"week"}):Et(s,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Gi.d(e,t)},D:function(e,t,n){const s=cH(e);return t==="Do"?n.ordinalNumber(s,{unit:"dayOfYear"}):Et(s,t.length)},E:function(e,t,n){const s=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(s,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(s,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(s,{width:"short",context:"formatting"});case"EEEE":default:return n.day(s,{width:"wide",context:"formatting"})}},e:function(e,t,n,s){const i=e.getDay(),o=(i-s.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Et(o,2);case"eo":return n.ordinalNumber(o,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,s){const i=e.getDay(),o=(i-s.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Et(o,t.length);case"co":return n.ordinalNumber(o,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const s=e.getDay(),i=s===0?7:s;switch(t){case"i":return String(i);case"ii":return Et(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(s,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(s,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(s,{width:"short",context:"formatting"});case"iiii":default:return n.day(s,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const s=e.getHours();let i;switch(s===12?i=il.noon:s===0?i=il.midnight:i=s/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const s=e.getHours();let i;switch(s>=17?i=il.evening:s>=12?i=il.afternoon:s>=4?i=il.morning:i=il.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let s=e.getHours()%12;return s===0&&(s=12),n.ordinalNumber(s,{unit:"hour"})}return Gi.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Gi.H(e,t)},K:function(e,t,n){const s=e.getHours()%12;return t==="Ko"?n.ordinalNumber(s,{unit:"hour"}):Et(s,t.length)},k:function(e,t,n){let s=e.getHours();return s===0&&(s=24),t==="ko"?n.ordinalNumber(s,{unit:"hour"}):Et(s,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Gi.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Gi.s(e,t)},S:function(e,t){return Gi.S(e,t)},X:function(e,t,n){const s=e.getTimezoneOffset();if(s===0)return"Z";switch(t){case"X":return kb(s);case"XXXX":case"XX":return ro(s);case"XXXXX":case"XXX":default:return ro(s,":")}},x:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"x":return kb(s);case"xxxx":case"xx":return ro(s);case"xxxxx":case"xxx":default:return ro(s,":")}},O:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Pb(s,":");case"OOOO":default:return"GMT"+ro(s,":")}},z:function(e,t,n){const s=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Pb(s,":");case"zzzz":default:return"GMT"+ro(s,":")}},t:function(e,t,n){const s=Math.trunc(e.getTime()/1e3);return Et(s,t.length)},T:function(e,t,n){const s=e.getTime();return Et(s,t.length)}};function Pb(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Math.trunc(s/60),o=s%60;return o===0?n+String(i):n+String(i)+t+Et(o,2)}function kb(e,t){return e%60===0?(e>0?"-":"+")+Et(Math.abs(e)/60,2):ro(e,t)}function ro(e,t=""){const n=e>0?"-":"+",s=Math.abs(e),i=Et(Math.trunc(s/60),2),o=Et(s%60,2);return n+i+t+o}const Tb=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},mR=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},uH=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],s=n[1],i=n[2];if(!i)return Tb(e,t);let o;switch(s){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",Tb(s,t)).replace("{{time}}",mR(i,t))},fH={p:mR,P:uH},hH=/^D+$/,mH=/^Y+$/,pH=["D","DD","YY","YYYY"];function gH(e){return hH.test(e)}function xH(e){return mH.test(e)}function vH(e,t,n){const s=yH(e,t,n);if(console.warn(s),pH.includes(e))throw new RangeError(s)}function yH(e,t,n){const s=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${s} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wH=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,jH=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_H=/^'([^]*?)'?$/,bH=/''/g,NH=/[a-zA-Z]/;function Vo(e,t,n){var m,p,x,j,C,g,S,_;const s=Lu(),i=(n==null?void 0:n.locale)??s.locale??dR,o=(n==null?void 0:n.firstWeekContainsDate)??((p=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((j=(x=s.locale)==null?void 0:x.options)==null?void 0:j.firstWeekContainsDate)??1,l=(n==null?void 0:n.weekStartsOn)??((g=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:g.weekStartsOn)??s.weekStartsOn??((_=(S=s.locale)==null?void 0:S.options)==null?void 0:_.weekStartsOn)??0,d=jt(e);if(!T7(d))throw new RangeError("Invalid time value");let u=t.match(jH).map(w=>{const N=w[0];if(N==="p"||N==="P"){const P=fH[N];return P(w,i.formatLong)}return w}).join("").match(wH).map(w=>{if(w==="''")return{isToken:!1,value:"'"};const N=w[0];if(N==="'")return{isToken:!1,value:SH(w)};if(Cb[N])return{isToken:!0,value:w};if(N.match(NH))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:w}});i.localize.preprocessor&&(u=i.localize.preprocessor(d,u));const h={firstWeekContainsDate:o,weekStartsOn:l,locale:i};return u.map(w=>{if(!w.isToken)return w.value;const N=w.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&xH(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&gH(N))&&vH(N,t,String(e));const P=Cb[N[0]];return P(d,N,i.localize,h)}).join("")}function SH(e){const t=e.match(_H);return t?t[1].replace(bH,"'"):e}function CH(e){const t=jt(e),n=t.getFullYear(),s=t.getMonth(),i=Wr(e,0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}function PH(e){return Math.trunc(+jt(e)/1e3)}function kH(e){const t=jt(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function TH(e,t){return E7(kH(e),Tr(e),t)+1}function kv(e,t){const n=jt(e),s=jt(t);return n.getTime()>s.getTime()}function pR(e,t){const n=jt(e),s=jt(t);return+n<+s}function Zw(e,t){const n=jt(e),s=jt(t);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function EH(e,t){const n=jt(e),s=jt(t);return n.getFullYear()===s.getFullYear()}function Lg(e,t){return ur(e,-t)}function Ig(e,t){const n=jt(e),s=n.getFullYear(),i=n.getDate(),o=Wr(e,0);o.setFullYear(s,t,15),o.setHours(0,0,0,0);const l=CH(o);return n.setMonth(t,Math.min(i,l)),n}function Eb(e,t){const n=jt(e);return isNaN(+n)?Wr(e,NaN):(n.setFullYear(t),n)}var We=function(){return We=Object.assign||function(t){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},We.apply(this,arguments)};function MH(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(e);i<s.length;i++)t.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(n[s[i]]=e[s[i]]);return n}function gR(e,t,n){for(var s=0,i=t.length,o;s<i;s++)(o||!(s in t))&&(o||(o=Array.prototype.slice.call(t,0,s)),o[s]=t[s]);return e.concat(o||Array.prototype.slice.call(t))}function Iu(e){return e.mode==="multiple"}function Ou(e){return e.mode==="range"}function ap(e){return e.mode==="single"}var AH={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function RH(e,t){return Vo(e,"LLLL y",t)}function LH(e,t){return Vo(e,"d",t)}function IH(e,t){return Vo(e,"LLLL",t)}function OH(e){return"".concat(e)}function DH(e,t){return Vo(e,"cccccc",t)}function FH(e,t){return Vo(e,"yyyy",t)}var zH=Object.freeze({__proto__:null,formatCaption:RH,formatDay:LH,formatMonthCaption:IH,formatWeekNumber:OH,formatWeekdayName:DH,formatYearCaption:FH}),BH=function(e,t,n){return Vo(e,"do MMMM (EEEE)",n)},$H=function(){return"Month: "},VH=function(){return"Go to next month"},UH=function(){return"Go to previous month"},WH=function(e,t){return Vo(e,"cccc",t)},HH=function(e){return"Week n. ".concat(e)},qH=function(){return"Year: "},ZH=Object.freeze({__proto__:null,labelDay:BH,labelMonthDropdown:$H,labelNext:VH,labelPrevious:UH,labelWeekNumber:HH,labelWeekday:WH,labelYearDropdown:qH});function KH(){var e="buttons",t=AH,n=dR,s={},i={},o=1,l={},d=new Date;return{captionLayout:e,classNames:t,formatters:zH,labels:ZH,locale:n,modifiersClassNames:s,modifiers:i,numberOfMonths:o,styles:l,today:d,mode:"default"}}function GH(e){var t=e.fromYear,n=e.toYear,s=e.fromMonth,i=e.toMonth,o=e.fromDate,l=e.toDate;return s?o=Tr(s):t&&(o=new Date(t,0,1)),i?l=Hw(i):n&&(l=new Date(n,11,31)),{fromDate:o?cc(o):void 0,toDate:l?cc(l):void 0}}var xR=v.createContext(void 0);function YH(e){var t,n=e.initialProps,s=KH(),i=GH(n),o=i.fromDate,l=i.toDate,d=(t=n.captionLayout)!==null&&t!==void 0?t:s.captionLayout;d!=="buttons"&&(!o||!l)&&(d="buttons");var u;(ap(n)||Iu(n)||Ou(n))&&(u=n.onSelect);var h=We(We(We({},s),n),{captionLayout:d,classNames:We(We({},s.classNames),n.classNames),components:We({},n.components),formatters:We(We({},s.formatters),n.formatters),fromDate:o,labels:We(We({},s.labels),n.labels),mode:n.mode||s.mode,modifiers:We(We({},s.modifiers),n.modifiers),modifiersClassNames:We(We({},s.modifiersClassNames),n.modifiersClassNames),onSelect:u,styles:We(We({},s.styles),n.styles),toDate:l});return r.jsx(xR.Provider,{value:h,children:e.children})}function It(){var e=v.useContext(xR);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function vR(e){var t=It(),n=t.locale,s=t.classNames,i=t.styles,o=t.formatters.formatCaption;return r.jsx("div",{className:s.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:o(e.displayMonth,{locale:n})})}function QH(e){return r.jsx("svg",We({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:r.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function yR(e){var t,n,s=e.onChange,i=e.value,o=e.children,l=e.caption,d=e.className,u=e.style,h=It(),m=(n=(t=h.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:QH;return r.jsxs("div",{className:d,style:u,children:[r.jsx("span",{className:h.classNames.vhidden,children:e["aria-label"]}),r.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:h.classNames.dropdown,style:h.styles.dropdown,value:i,onChange:s,children:o}),r.jsxs("div",{className:h.classNames.caption_label,style:h.styles.caption_label,"aria-hidden":"true",children:[l,r.jsx(m,{className:h.classNames.dropdown_icon,style:h.styles.dropdown_icon})]})]})}function XH(e){var t,n=It(),s=n.fromDate,i=n.toDate,o=n.styles,l=n.locale,d=n.formatters.formatMonthCaption,u=n.classNames,h=n.components,m=n.labels.labelMonthDropdown;if(!s)return r.jsx(r.Fragment,{});if(!i)return r.jsx(r.Fragment,{});var p=[];if(EH(s,i))for(var x=Tr(s),j=s.getMonth();j<=i.getMonth();j++)p.push(Ig(x,j));else for(var x=Tr(new Date),j=0;j<=11;j++)p.push(Ig(x,j));var C=function(S){var _=Number(S.target.value),w=Ig(Tr(e.displayMonth),_);e.onChange(w)},g=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:yR;return r.jsx(g,{name:"months","aria-label":m(),className:u.dropdown_month,style:o.dropdown_month,onChange:C,value:e.displayMonth.getMonth(),caption:d(e.displayMonth,{locale:l}),children:p.map(function(S){return r.jsx("option",{value:S.getMonth(),children:d(S,{locale:l})},S.getMonth())})})}function JH(e){var t,n=e.displayMonth,s=It(),i=s.fromDate,o=s.toDate,l=s.locale,d=s.styles,u=s.classNames,h=s.components,m=s.formatters.formatYearCaption,p=s.labels.labelYearDropdown,x=[];if(!i)return r.jsx(r.Fragment,{});if(!o)return r.jsx(r.Fragment,{});for(var j=i.getFullYear(),C=o.getFullYear(),g=j;g<=C;g++)x.push(Eb(lR(new Date),g));var S=function(w){var N=Eb(Tr(n),Number(w.target.value));e.onChange(N)},_=(t=h==null?void 0:h.Dropdown)!==null&&t!==void 0?t:yR;return r.jsx(_,{name:"years","aria-label":p(),className:u.dropdown_year,style:d.dropdown_year,onChange:S,value:n.getFullYear(),caption:m(n,{locale:l}),children:x.map(function(w){return r.jsx("option",{value:w.getFullYear(),children:m(w,{locale:l})},w.getFullYear())})})}function eq(e,t){var n=v.useState(e),s=n[0],i=n[1],o=t===void 0?s:t;return[o,i]}function tq(e){var t=e.month,n=e.defaultMonth,s=e.today,i=t||n||s||new Date,o=e.toDate,l=e.fromDate,d=e.numberOfMonths,u=d===void 0?1:d;if(o&&fu(o,i)<0){var h=-1*(u-1);i=Ls(o,h)}return l&&fu(i,l)<0&&(i=l),Tr(i)}function nq(){var e=It(),t=tq(e),n=eq(t,e.month),s=n[0],i=n[1],o=function(l){var d;if(!e.disableNavigation){var u=Tr(l);i(u),(d=e.onMonthChange)===null||d===void 0||d.call(e,u)}};return[s,o]}function rq(e,t){for(var n=t.reverseMonths,s=t.numberOfMonths,i=Tr(e),o=Tr(Ls(i,s)),l=fu(o,i),d=[],u=0;u<l;u++){var h=Ls(i,u);d.push(h)}return n&&(d=d.reverse()),d}function sq(e,t){if(!t.disableNavigation){var n=t.toDate,s=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,l=s?o:1,d=Tr(e);if(!n)return Ls(d,l);var u=fu(n,e);if(!(u<o))return Ls(d,l)}}function iq(e,t){if(!t.disableNavigation){var n=t.fromDate,s=t.pagedNavigation,i=t.numberOfMonths,o=i===void 0?1:i,l=s?o:1,d=Tr(e);if(!n)return Ls(d,-l);var u=fu(d,n);if(!(u<=0))return Ls(d,-l)}}var wR=v.createContext(void 0);function aq(e){var t=It(),n=nq(),s=n[0],i=n[1],o=rq(s,t),l=sq(s,t),d=iq(s,t),u=function(p){return o.some(function(x){return Zw(p,x)})},h=function(p,x){u(p)||(x&&pR(p,x)?i(Ls(p,1+t.numberOfMonths*-1)):i(p))},m={currentMonth:s,displayMonths:o,goToMonth:i,goToDate:h,previousMonth:d,nextMonth:l,isDateDisplayed:u};return r.jsx(wR.Provider,{value:m,children:e.children})}function Du(){var e=v.useContext(wR);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function Mb(e){var t,n=It(),s=n.classNames,i=n.styles,o=n.components,l=Du().goToMonth,d=function(m){l(Ls(m,e.displayIndex?-e.displayIndex:0))},u=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:vR,h=r.jsx(u,{id:e.id,displayMonth:e.displayMonth});return r.jsxs("div",{className:s.caption_dropdowns,style:i.caption_dropdowns,children:[r.jsx("div",{className:s.vhidden,children:h}),r.jsx(XH,{onChange:d,displayMonth:e.displayMonth}),r.jsx(JH,{onChange:d,displayMonth:e.displayMonth})]})}function oq(e){return r.jsx("svg",We({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function lq(e){return r.jsx("svg",We({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:r.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var nm=v.forwardRef(function(e,t){var n=It(),s=n.classNames,i=n.styles,o=[s.button_reset,s.button];e.className&&o.push(e.className);var l=o.join(" "),d=We(We({},i.button_reset),i.button);return e.style&&Object.assign(d,e.style),r.jsx("button",We({},e,{ref:t,type:"button",className:l,style:d}))});function cq(e){var t,n,s=It(),i=s.dir,o=s.locale,l=s.classNames,d=s.styles,u=s.labels,h=u.labelPrevious,m=u.labelNext,p=s.components;if(!e.nextMonth&&!e.previousMonth)return r.jsx(r.Fragment,{});var x=h(e.previousMonth,{locale:o}),j=[l.nav_button,l.nav_button_previous].join(" "),C=m(e.nextMonth,{locale:o}),g=[l.nav_button,l.nav_button_next].join(" "),S=(t=p==null?void 0:p.IconRight)!==null&&t!==void 0?t:lq,_=(n=p==null?void 0:p.IconLeft)!==null&&n!==void 0?n:oq;return r.jsxs("div",{className:l.nav,style:d.nav,children:[!e.hidePrevious&&r.jsx(nm,{name:"previous-month","aria-label":x,className:j,style:d.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?r.jsx(S,{className:l.nav_icon,style:d.nav_icon}):r.jsx(_,{className:l.nav_icon,style:d.nav_icon})}),!e.hideNext&&r.jsx(nm,{name:"next-month","aria-label":C,className:g,style:d.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?r.jsx(_,{className:l.nav_icon,style:d.nav_icon}):r.jsx(S,{className:l.nav_icon,style:d.nav_icon})})]})}function Ab(e){var t=It().numberOfMonths,n=Du(),s=n.previousMonth,i=n.nextMonth,o=n.goToMonth,l=n.displayMonths,d=l.findIndex(function(C){return Zw(e.displayMonth,C)}),u=d===0,h=d===l.length-1,m=t>1&&(u||!h),p=t>1&&(h||!u),x=function(){s&&o(s)},j=function(){i&&o(i)};return r.jsx(cq,{displayMonth:e.displayMonth,hideNext:m,hidePrevious:p,nextMonth:i,previousMonth:s,onPreviousClick:x,onNextClick:j})}function dq(e){var t,n=It(),s=n.classNames,i=n.disableNavigation,o=n.styles,l=n.captionLayout,d=n.components,u=(t=d==null?void 0:d.CaptionLabel)!==null&&t!==void 0?t:vR,h;return i?h=r.jsx(u,{id:e.id,displayMonth:e.displayMonth}):l==="dropdown"?h=r.jsx(Mb,{displayMonth:e.displayMonth,id:e.id}):l==="dropdown-buttons"?h=r.jsxs(r.Fragment,{children:[r.jsx(Mb,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),r.jsx(Ab,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):h=r.jsxs(r.Fragment,{children:[r.jsx(u,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(Ab,{displayMonth:e.displayMonth,id:e.id})]}),r.jsx("div",{className:s.caption,style:o.caption,children:h})}function uq(e){var t=It(),n=t.footer,s=t.styles,i=t.classNames.tfoot;return n?r.jsx("tfoot",{className:i,style:s.tfoot,children:r.jsx("tr",{children:r.jsx("td",{colSpan:8,children:n})})}):r.jsx(r.Fragment,{})}function fq(e,t,n){for(var s=n?Do(new Date):ci(new Date,{locale:e,weekStartsOn:t}),i=[],o=0;o<7;o++){var l=ur(s,o);i.push(l)}return i}function hq(){var e=It(),t=e.classNames,n=e.styles,s=e.showWeekNumber,i=e.locale,o=e.weekStartsOn,l=e.ISOWeek,d=e.formatters.formatWeekdayName,u=e.labels.labelWeekday,h=fq(i,o,l);return r.jsxs("tr",{style:n.head_row,className:t.head_row,children:[s&&r.jsx("td",{style:n.head_cell,className:t.head_cell}),h.map(function(m,p){return r.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":u(m,{locale:i}),children:d(m,{locale:i})},p)})]})}function mq(){var e,t=It(),n=t.classNames,s=t.styles,i=t.components,o=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:hq;return r.jsx("thead",{style:s.head,className:n.head,children:r.jsx(o,{})})}function pq(e){var t=It(),n=t.locale,s=t.formatters.formatDay;return r.jsx(r.Fragment,{children:s(e.date,{locale:n})})}var Kw=v.createContext(void 0);function gq(e){if(!Iu(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return r.jsx(Kw.Provider,{value:t,children:e.children})}return r.jsx(xq,{initialProps:e.initialProps,children:e.children})}function xq(e){var t=e.initialProps,n=e.children,s=t.selected,i=t.min,o=t.max,l=function(h,m,p){var x,j;(x=t.onDayClick)===null||x===void 0||x.call(t,h,m,p);var C=!!(m.selected&&i&&(s==null?void 0:s.length)===i);if(!C){var g=!!(!m.selected&&o&&(s==null?void 0:s.length)===o);if(!g){var S=s?gR([],s):[];if(m.selected){var _=S.findIndex(function(w){return Sr(h,w)});S.splice(_,1)}else S.push(h);(j=t.onSelect)===null||j===void 0||j.call(t,S,h,m,p)}}},d={disabled:[]};s&&d.disabled.push(function(h){var m=o&&s.length>o-1,p=s.some(function(x){return Sr(x,h)});return!!(m&&!p)});var u={selected:s,onDayClick:l,modifiers:d};return r.jsx(Kw.Provider,{value:u,children:n})}function Gw(){var e=v.useContext(Kw);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function vq(e,t){var n=t||{},s=n.from,i=n.to;return s&&i?Sr(i,e)&&Sr(s,e)?void 0:Sr(i,e)?{from:i,to:void 0}:Sr(s,e)?void 0:kv(s,e)?{from:e,to:i}:{from:s,to:e}:i?kv(e,i)?{from:i,to:e}:{from:e,to:i}:s?pR(e,s)?{from:e,to:s}:{from:s,to:e}:{from:e,to:void 0}}var Yw=v.createContext(void 0);function yq(e){if(!Ou(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return r.jsx(Yw.Provider,{value:t,children:e.children})}return r.jsx(wq,{initialProps:e.initialProps,children:e.children})}function wq(e){var t=e.initialProps,n=e.children,s=t.selected,i=s||{},o=i.from,l=i.to,d=t.min,u=t.max,h=function(j,C,g){var S,_;(S=t.onDayClick)===null||S===void 0||S.call(t,j,C,g);var w=vq(j,s);(_=t.onSelect)===null||_===void 0||_.call(t,w,j,C,g)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(m.range_start=[o],l?(m.range_end=[l],Sr(o,l)||(m.range_middle=[{after:o,before:l}])):m.range_end=[o]):l&&(m.range_start=[l],m.range_end=[l]),d&&(o&&!l&&m.disabled.push({after:Lg(o,d-1),before:ur(o,d-1)}),o&&l&&m.disabled.push({after:o,before:ur(o,d-1)}),!o&&l&&m.disabled.push({after:Lg(l,d-1),before:ur(l,d-1)})),u){if(o&&!l&&(m.disabled.push({before:ur(o,-u+1)}),m.disabled.push({after:ur(o,u-1)})),o&&l){var p=ei(l,o)+1,x=u-p;m.disabled.push({before:Lg(o,x)}),m.disabled.push({after:ur(l,x)})}!o&&l&&(m.disabled.push({before:ur(l,-u+1)}),m.disabled.push({after:ur(l,u-1)}))}return r.jsx(Yw.Provider,{value:{selected:s,onDayClick:h,modifiers:m},children:n})}function Qw(){var e=v.useContext(Yw);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function th(e){return Array.isArray(e)?gR([],e):e!==void 0?[e]:[]}function jq(e){var t={};return Object.entries(e).forEach(function(n){var s=n[0],i=n[1];t[s]=th(i)}),t}var Is;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})(Is||(Is={}));var _q=Is.Selected,xi=Is.Disabled,bq=Is.Hidden,Nq=Is.Today,Og=Is.RangeEnd,Dg=Is.RangeMiddle,Fg=Is.RangeStart,Sq=Is.Outside;function Cq(e,t,n){var s,i=(s={},s[_q]=th(e.selected),s[xi]=th(e.disabled),s[bq]=th(e.hidden),s[Nq]=[e.today],s[Og]=[],s[Dg]=[],s[Fg]=[],s[Sq]=[],s);return e.fromDate&&i[xi].push({before:e.fromDate}),e.toDate&&i[xi].push({after:e.toDate}),Iu(e)?i[xi]=i[xi].concat(t.modifiers[xi]):Ou(e)&&(i[xi]=i[xi].concat(n.modifiers[xi]),i[Fg]=n.modifiers[Fg],i[Dg]=n.modifiers[Dg],i[Og]=n.modifiers[Og]),i}var jR=v.createContext(void 0);function Pq(e){var t=It(),n=Gw(),s=Qw(),i=Cq(t,n,s),o=jq(t.modifiers),l=We(We({},i),o);return r.jsx(jR.Provider,{value:l,children:e.children})}function _R(){var e=v.useContext(jR);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function kq(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Tq(e){return!!(e&&typeof e=="object"&&"from"in e)}function Eq(e){return!!(e&&typeof e=="object"&&"after"in e)}function Mq(e){return!!(e&&typeof e=="object"&&"before"in e)}function Aq(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function Rq(e,t){var n,s=t.from,i=t.to;if(s&&i){var o=ei(i,s)<0;o&&(n=[i,s],s=n[0],i=n[1]);var l=ei(e,s)>=0&&ei(i,e)>=0;return l}return i?Sr(i,e):s?Sr(s,e):!1}function Lq(e){return Ww(e)}function Iq(e){return Array.isArray(e)&&e.every(Ww)}function Oq(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(Lq(n))return Sr(e,n);if(Iq(n))return n.includes(e);if(Tq(n))return Rq(e,n);if(Aq(n))return n.dayOfWeek.includes(e.getDay());if(kq(n)){var s=ei(n.before,e),i=ei(n.after,e),o=s>0,l=i<0,d=kv(n.before,n.after);return d?l&&o:o||l}return Eq(n)?ei(e,n.after)>0:Mq(n)?ei(n.before,e)>0:typeof n=="function"?n(e):!1})}function Xw(e,t,n){var s=Object.keys(t).reduce(function(o,l){var d=t[l];return Oq(e,d)&&o.push(l),o},[]),i={};return s.forEach(function(o){return i[o]=!0}),n&&!Zw(e,n)&&(i.outside=!0),i}function Dq(e,t){for(var n=Tr(e[0]),s=Hw(e[e.length-1]),i,o,l=n;l<=s;){var d=Xw(l,t),u=!d.disabled&&!d.hidden;if(!u){l=ur(l,1);continue}if(d.selected)return l;d.today&&!o&&(o=l),i||(i=l),l=ur(l,1)}return o||i}var Fq=365;function bR(e,t){var n=t.moveBy,s=t.direction,i=t.context,o=t.modifiers,l=t.retry,d=l===void 0?{count:0,lastFocused:e}:l,u=i.weekStartsOn,h=i.fromDate,m=i.toDate,p=i.locale,x={day:ur,week:Pv,month:Ls,year:C7,startOfWeek:function(S){return i.ISOWeek?Do(S):ci(S,{locale:p,weekStartsOn:u})},endOfWeek:function(S){return i.ISOWeek?cR(S):qw(S,{locale:p,weekStartsOn:u})}},j=x[n](e,s==="after"?1:-1);s==="before"&&h?j=P7([h,j]):s==="after"&&m&&(j=k7([m,j]));var C=!0;if(o){var g=Xw(j,o);C=!g.disabled&&!g.hidden}return C?j:d.count>Fq?d.lastFocused:bR(j,{moveBy:n,direction:s,context:i,modifiers:o,retry:We(We({},d),{count:d.count+1})})}var NR=v.createContext(void 0);function zq(e){var t=Du(),n=_R(),s=v.useState(),i=s[0],o=s[1],l=v.useState(),d=l[0],u=l[1],h=Dq(t.displayMonths,n),m=i??(d&&t.isDateDisplayed(d))?d:h,p=function(){u(i),o(void 0)},x=function(S){o(S)},j=It(),C=function(S,_){if(i){var w=bR(i,{moveBy:S,direction:_,context:j,modifiers:n});Sr(i,w)||(t.goToDate(w,i),x(w))}},g={focusedDay:i,focusTarget:m,blur:p,focus:x,focusDayAfter:function(){return C("day","after")},focusDayBefore:function(){return C("day","before")},focusWeekAfter:function(){return C("week","after")},focusWeekBefore:function(){return C("week","before")},focusMonthBefore:function(){return C("month","before")},focusMonthAfter:function(){return C("month","after")},focusYearBefore:function(){return C("year","before")},focusYearAfter:function(){return C("year","after")},focusStartOfWeek:function(){return C("startOfWeek","before")},focusEndOfWeek:function(){return C("endOfWeek","after")}};return r.jsx(NR.Provider,{value:g,children:e.children})}function Jw(){var e=v.useContext(NR);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function Bq(e,t){var n=_R(),s=Xw(e,n,t);return s}var e0=v.createContext(void 0);function $q(e){if(!ap(e.initialProps)){var t={selected:void 0};return r.jsx(e0.Provider,{value:t,children:e.children})}return r.jsx(Vq,{initialProps:e.initialProps,children:e.children})}function Vq(e){var t=e.initialProps,n=e.children,s=function(o,l,d){var u,h,m;if((u=t.onDayClick)===null||u===void 0||u.call(t,o,l,d),l.selected&&!t.required){(h=t.onSelect)===null||h===void 0||h.call(t,void 0,o,l,d);return}(m=t.onSelect)===null||m===void 0||m.call(t,o,o,l,d)},i={selected:t.selected,onDayClick:s};return r.jsx(e0.Provider,{value:i,children:n})}function SR(){var e=v.useContext(e0);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function Uq(e,t){var n=It(),s=SR(),i=Gw(),o=Qw(),l=Jw(),d=l.focusDayAfter,u=l.focusDayBefore,h=l.focusWeekAfter,m=l.focusWeekBefore,p=l.blur,x=l.focus,j=l.focusMonthBefore,C=l.focusMonthAfter,g=l.focusYearBefore,S=l.focusYearAfter,_=l.focusStartOfWeek,w=l.focusEndOfWeek,N=function(U){var k,W,G,le;ap(n)?(k=s.onDayClick)===null||k===void 0||k.call(s,e,t,U):Iu(n)?(W=i.onDayClick)===null||W===void 0||W.call(i,e,t,U):Ou(n)?(G=o.onDayClick)===null||G===void 0||G.call(o,e,t,U):(le=n.onDayClick)===null||le===void 0||le.call(n,e,t,U)},P=function(U){var k;x(e),(k=n.onDayFocus)===null||k===void 0||k.call(n,e,t,U)},M=function(U){var k;p(),(k=n.onDayBlur)===null||k===void 0||k.call(n,e,t,U)},A=function(U){var k;(k=n.onDayMouseEnter)===null||k===void 0||k.call(n,e,t,U)},R=function(U){var k;(k=n.onDayMouseLeave)===null||k===void 0||k.call(n,e,t,U)},F=function(U){var k;(k=n.onDayPointerEnter)===null||k===void 0||k.call(n,e,t,U)},Y=function(U){var k;(k=n.onDayPointerLeave)===null||k===void 0||k.call(n,e,t,U)},z=function(U){var k;(k=n.onDayTouchCancel)===null||k===void 0||k.call(n,e,t,U)},Z=function(U){var k;(k=n.onDayTouchEnd)===null||k===void 0||k.call(n,e,t,U)},V=function(U){var k;(k=n.onDayTouchMove)===null||k===void 0||k.call(n,e,t,U)},te=function(U){var k;(k=n.onDayTouchStart)===null||k===void 0||k.call(n,e,t,U)},X=function(U){var k;(k=n.onDayKeyUp)===null||k===void 0||k.call(n,e,t,U)},J=function(U){var k;switch(U.key){case"ArrowLeft":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?d():u();break;case"ArrowRight":U.preventDefault(),U.stopPropagation(),n.dir==="rtl"?u():d();break;case"ArrowDown":U.preventDefault(),U.stopPropagation(),h();break;case"ArrowUp":U.preventDefault(),U.stopPropagation(),m();break;case"PageUp":U.preventDefault(),U.stopPropagation(),U.shiftKey?g():j();break;case"PageDown":U.preventDefault(),U.stopPropagation(),U.shiftKey?S():C();break;case"Home":U.preventDefault(),U.stopPropagation(),_();break;case"End":U.preventDefault(),U.stopPropagation(),w();break}(k=n.onDayKeyDown)===null||k===void 0||k.call(n,e,t,U)},ne={onClick:N,onFocus:P,onBlur:M,onKeyDown:J,onKeyUp:X,onMouseEnter:A,onMouseLeave:R,onPointerEnter:F,onPointerLeave:Y,onTouchCancel:z,onTouchEnd:Z,onTouchMove:V,onTouchStart:te};return ne}function Wq(){var e=It(),t=SR(),n=Gw(),s=Qw(),i=ap(e)?t.selected:Iu(e)?n.selected:Ou(e)?s.selected:void 0;return i}function Hq(e){return Object.values(Is).includes(e)}function qq(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(s){var i=e.modifiersClassNames[s];if(i)n.push(i);else if(Hq(s)){var o=e.classNames["day_".concat(s)];o&&n.push(o)}}),n}function Zq(e,t){var n=We({},e.styles.day);return Object.keys(t).forEach(function(s){var i;n=We(We({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[s])}),n}function Kq(e,t,n){var s,i,o,l=It(),d=Jw(),u=Bq(e,t),h=Uq(e,u),m=Wq(),p=!!(l.onDayClick||l.mode!=="default");v.useEffect(function(){var A;u.outside||d.focusedDay&&p&&Sr(d.focusedDay,e)&&((A=n.current)===null||A===void 0||A.focus())},[d.focusedDay,e,n,p,u.outside]);var x=qq(l,u).join(" "),j=Zq(l,u),C=!!(u.outside&&!l.showOutsideDays||u.hidden),g=(o=(i=l.components)===null||i===void 0?void 0:i.DayContent)!==null&&o!==void 0?o:pq,S=r.jsx(g,{date:e,displayMonth:t,activeModifiers:u}),_={style:j,className:x,children:S,role:"gridcell"},w=d.focusTarget&&Sr(d.focusTarget,e)&&!u.outside,N=d.focusedDay&&Sr(d.focusedDay,e),P=We(We(We({},_),(s={disabled:u.disabled,role:"gridcell"},s["aria-selected"]=u.selected,s.tabIndex=N||w?0:-1,s)),h),M={isButton:p,isHidden:C,activeModifiers:u,selectedDays:m,buttonProps:P,divProps:_};return M}function Gq(e){var t=v.useRef(null),n=Kq(e.date,e.displayMonth,t);return n.isHidden?r.jsx("div",{role:"gridcell"}):n.isButton?r.jsx(nm,We({name:"day",ref:t},n.buttonProps)):r.jsx("div",We({},n.divProps))}function Yq(e){var t=e.number,n=e.dates,s=It(),i=s.onWeekNumberClick,o=s.styles,l=s.classNames,d=s.locale,u=s.labels.labelWeekNumber,h=s.formatters.formatWeekNumber,m=h(Number(t),{locale:d});if(!i)return r.jsx("span",{className:l.weeknumber,style:o.weeknumber,children:m});var p=u(Number(t),{locale:d}),x=function(j){i(t,n,j)};return r.jsx(nm,{name:"week-number","aria-label":p,className:l.weeknumber,style:o.weeknumber,onClick:x,children:m})}function Qq(e){var t,n,s=It(),i=s.styles,o=s.classNames,l=s.showWeekNumber,d=s.components,u=(t=d==null?void 0:d.Day)!==null&&t!==void 0?t:Gq,h=(n=d==null?void 0:d.WeekNumber)!==null&&n!==void 0?n:Yq,m;return l&&(m=r.jsx("td",{className:o.cell,style:i.cell,children:r.jsx(h,{number:e.weekNumber,dates:e.dates})})),r.jsxs("tr",{className:o.row,style:i.row,children:[m,e.dates.map(function(p){return r.jsx("td",{className:o.cell,style:i.cell,role:"presentation",children:r.jsx(u,{displayMonth:e.displayMonth,date:p})},PH(p))})]})}function Rb(e,t,n){for(var s=n!=null&&n.ISOWeek?cR(t):qw(t,n),i=n!=null&&n.ISOWeek?Do(e):ci(e,n),o=ei(s,i),l=[],d=0;d<=o;d++)l.push(ur(i,d));var u=l.reduce(function(h,m){var p=n!=null&&n.ISOWeek?uR(m):hR(m,n),x=h.find(function(j){return j.weekNumber===p});return x?(x.dates.push(m),h):(h.push({weekNumber:p,dates:[m]}),h)},[]);return u}function Xq(e,t){var n=Rb(Tr(e),Hw(e),t);if(t!=null&&t.useFixedWeeks){var s=TH(e,t);if(s<6){var i=n[n.length-1],o=i.dates[i.dates.length-1],l=Pv(o,6-s),d=Rb(Pv(o,1),l,t);n.push.apply(n,d)}}return n}function Jq(e){var t,n,s,i=It(),o=i.locale,l=i.classNames,d=i.styles,u=i.hideHead,h=i.fixedWeeks,m=i.components,p=i.weekStartsOn,x=i.firstWeekContainsDate,j=i.ISOWeek,C=Xq(e.displayMonth,{useFixedWeeks:!!h,ISOWeek:j,locale:o,weekStartsOn:p,firstWeekContainsDate:x}),g=(t=m==null?void 0:m.Head)!==null&&t!==void 0?t:mq,S=(n=m==null?void 0:m.Row)!==null&&n!==void 0?n:Qq,_=(s=m==null?void 0:m.Footer)!==null&&s!==void 0?s:uq;return r.jsxs("table",{id:e.id,className:l.table,style:d.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!u&&r.jsx(g,{}),r.jsx("tbody",{className:l.tbody,style:d.tbody,children:C.map(function(w){return r.jsx(S,{displayMonth:e.displayMonth,dates:w.dates,weekNumber:w.weekNumber},w.weekNumber)})}),r.jsx(_,{displayMonth:e.displayMonth})]})}function eZ(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var tZ=eZ()?v.useLayoutEffect:v.useEffect,zg=!1,nZ=0;function Lb(){return"react-day-picker-".concat(++nZ)}function rZ(e){var t,n=e??(zg?Lb():null),s=v.useState(n),i=s[0],o=s[1];return tZ(function(){i===null&&o(Lb())},[]),v.useEffect(function(){zg===!1&&(zg=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function sZ(e){var t,n,s=It(),i=s.dir,o=s.classNames,l=s.styles,d=s.components,u=Du().displayMonths,h=rZ(s.id?"".concat(s.id,"-").concat(e.displayIndex):void 0),m=s.id?"".concat(s.id,"-grid-").concat(e.displayIndex):void 0,p=[o.month],x=l.month,j=e.displayIndex===0,C=e.displayIndex===u.length-1,g=!j&&!C;i==="rtl"&&(t=[j,C],C=t[0],j=t[1]),j&&(p.push(o.caption_start),x=We(We({},x),l.caption_start)),C&&(p.push(o.caption_end),x=We(We({},x),l.caption_end)),g&&(p.push(o.caption_between),x=We(We({},x),l.caption_between));var S=(n=d==null?void 0:d.Caption)!==null&&n!==void 0?n:dq;return r.jsxs("div",{className:p.join(" "),style:x,children:[r.jsx(S,{id:h,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),r.jsx(Jq,{id:m,"aria-labelledby":h,displayMonth:e.displayMonth})]},e.displayIndex)}function iZ(e){var t=It(),n=t.classNames,s=t.styles;return r.jsx("div",{className:n.months,style:s.months,children:e.children})}function aZ(e){var t,n,s=e.initialProps,i=It(),o=Jw(),l=Du(),d=v.useState(!1),u=d[0],h=d[1];v.useEffect(function(){i.initialFocus&&o.focusTarget&&(u||(o.focus(o.focusTarget),h(!0)))},[i.initialFocus,u,o.focus,o.focusTarget,o]);var m=[i.classNames.root,i.className];i.numberOfMonths>1&&m.push(i.classNames.multiple_months),i.showWeekNumber&&m.push(i.classNames.with_weeknumber);var p=We(We({},i.styles.root),i.style),x=Object.keys(s).filter(function(C){return C.startsWith("data-")}).reduce(function(C,g){var S;return We(We({},C),(S={},S[g]=s[g],S))},{}),j=(n=(t=s.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:iZ;return r.jsx("div",We({className:m.join(" "),style:p,dir:i.dir,id:i.id,nonce:s.nonce,title:s.title,lang:s.lang},x,{children:r.jsx(j,{children:l.displayMonths.map(function(C,g){return r.jsx(sZ,{displayIndex:g,displayMonth:C},g)})})}))}function oZ(e){var t=e.children,n=MH(e,["children"]);return r.jsx(YH,{initialProps:n,children:r.jsx(aq,{children:r.jsx($q,{initialProps:n,children:r.jsx(gq,{initialProps:n,children:r.jsx(yq,{initialProps:n,children:r.jsx(Pq,{children:r.jsx(zq,{children:t})})})})})})})}function lZ(e){return r.jsx(oZ,We({},e,{children:r.jsx(aZ,{initialProps:e})}))}function rm({className:e,classNames:t,showOutsideDays:n=!0,...s}){return r.jsx(lZ,{showOutsideDays:n,className:_e("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:_e(lv({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:_e(lv({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:i,...o})=>r.jsx(rT,{className:_e("h-4 w-4",i),...o}),IconRight:({className:i,...o})=>r.jsx(sT,{className:_e("h-4 w-4",i),...o})},...s})}rm.displayName="Calendar";function cZ({lat:e,lng:t,address:n,className:s=""}){const l=e??41.2565,d=t??-95.9345,u=`https://www.openstreetmap.org/export/embed.html?bbox=${d-.01},${l-.01},${d+.01},${l+.01}&layer=mapnik&marker=${l},${d}`;return r.jsxs("div",{className:`relative ${s}`,children:[r.jsx("iframe",{width:"100%",height:"100%",frameBorder:"0",scrolling:"no",marginHeight:0,marginWidth:0,src:u,className:"rounded-lg",title:`Map showing ${n||"project location"}`}),n&&r.jsx("div",{className:"absolute bottom-3 left-3 bg-background/95 backdrop-blur-sm px-3 py-2 rounded-lg shadow-lg border",children:r.jsx("p",{className:"text-sm font-medium",children:n})})]})}function dZ(){const e=Pm(),{user:t}=Sn(),{toast:n}=mn(),[s,i]=v.useState(!1),[o,l]=v.useState(!1),[d,u]=v.useState(""),[h,m]=v.useState(0),[p,x]=v.useState(),[j,C]=v.useState(),[g,S]=v.useState(""),[_,w]=v.useState(!1),N=e.id?parseInt(e.id):null,{data:P,isLoading:M}=Je({queryKey:["/api/listings",N],queryFn:async()=>{const U=await fetch(`/api/listings/${N}`);if(!U.ok)throw new Error("Failed to fetch listing");return U.json()},enabled:!!N}),{data:A=[]}=Je({queryKey:["/api/favorites"],enabled:!!t});v.useEffect(()=>{N&&w(A.some(U=>U.id===N))},[A,N]);const{data:R}=Je({queryKey:["/api/profile",P==null?void 0:P.ownerUserId],queryFn:async()=>{const U=await fetch(`/api/profile/${P==null?void 0:P.ownerUserId}`);if(!U.ok)throw new Error("Failed to fetch profile");return U.json()},enabled:!!(P!=null&&P.ownerUserId)}),F=ut({mutationFn:async U=>{const W=await Xe(U==="add"?"POST":"DELETE",`/api/favorites/${N}`);return U==="remove"&&W.status===204?{action:U}:W.json()},onMutate:async U=>{w(U==="add")},onSuccess:async(U,k)=>{await wt.invalidateQueries({queryKey:["/api/favorites"]}),n({title:k==="add"?"Added to favorites":"Removed from favorites",description:`Project ${k==="add"?"saved":"removed"} successfully.`})},onError:(U,k)=>{w(k!=="add"),n({title:"Error",description:"Failed to update favorites. Please try again.",variant:"destructive"})}}),Y=ut({mutationFn:async()=>{if(!d.trim())throw new Error("Message is required");const k=await(await Xe("POST","/api/threads",{listingId:N,participantId:P==null?void 0:P.ownerUserId,subject:`Inquiry about: ${P==null?void 0:P.title}`})).json();return await Xe("POST","/api/messages",{threadId:k.id,body:d}),k},onSuccess:()=>{n({title:"Inquiry sent!",description:"Your message has been sent to the project owner."}),u("")},onError:U=>{n({title:"Failed to send inquiry",description:U.message,variant:"destructive"})}}),z=ut({mutationFn:async()=>{if(!p||!j)throw new Error("Please select start and end dates");if(j<=p)throw new Error("End date must be after start date");return(await Xe("POST","/api/bookings",{listingId:N,startAt:p.toISOString(),endAt:j.toISOString(),notes:g})).json()},onSuccess:()=>{n({title:"Booking request sent!",description:"The project owner will review your request shortly."}),l(!1),x(void 0),C(void 0),S(""),wt.invalidateQueries({queryKey:["/api/bookings"]})},onError:U=>{n({title:"Failed to request booking",description:U.message,variant:"destructive"})}}),{data:Z=[]}=Je({queryKey:["/api/listings",N,"images"],queryFn:async()=>{const U=await fetch(`/api/listings/${N}/images`);return U.ok?U.json():[]},enabled:!!N}),V=()=>{if(!t){i(!0);return}Y.mutate()},te=()=>{if(!t){i(!0);return}F.isPending||F.mutate(_?"remove":"add")},X=()=>{if(!t){i(!0);return}l(!0)},J=()=>{z.mutate()};if(M)return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Tt,{onAuthClick:()=>i(!0)}),r.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading project details..."})]})})}),r.jsx(Pd,{isOpen:s,onClose:()=>i(!1)})]});if(!P)return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Tt,{onAuthClick:()=>i(!0)}),r.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Project not found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"The project you're looking for doesn't exist or has been removed."}),r.jsx(Ct,{href:"/search",children:r.jsx(q,{children:"Browse Projects"})})]})}),r.jsx(Pd,{isOpen:s,onClose:()=>i(!1)})]});const ne=Z.length>0?Z.map(U=>U.url):[];return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Tt,{onAuthClick:()=>i(!0)}),r.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:[r.jsx("div",{className:"mb-6",children:r.jsx(Ct,{href:"/search",children:r.jsxs(q,{variant:"ghost",className:"hover:bg-muted","data-testid":"button-back",children:[r.jsx(rT,{className:"mr-2 h-4 w-4"}),"Back to Search"]})})}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[r.jsxs("div",{className:"lg:col-span-2",children:[r.jsx(se,{className:"mb-6",children:r.jsx(ie,{className:"p-0",children:ne.length>0?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:ne[h],alt:P.title,className:"w-full h-96 object-cover rounded-t-lg"}),ne.length>1&&r.jsx("div",{className:"absolute bottom-4 left-1/2 transform -translate-x-1/2 flex space-x-2",children:ne.map((U,k)=>r.jsx("button",{onClick:()=>m(k),className:`w-3 h-3 rounded-full ${k===h?"bg-white":"bg-white/50"}`,"data-testid":`image-indicator-${k}`},k))})]}),ne.length>1&&r.jsx("div",{className:"p-4 border-t",children:r.jsx("div",{className:"flex space-x-2 overflow-x-auto",children:ne.map((U,k)=>r.jsx("button",{onClick:()=>m(k),className:`flex-shrink-0 w-20 h-20 rounded-lg overflow-hidden border-2 ${k===h?"border-primary":"border-border"}`,"data-testid":`thumbnail-${k}`,children:r.jsx("img",{src:U,alt:"",className:"w-full h-full object-cover"})},k))})})]}):r.jsxs("div",{className:"w-full h-96 bg-muted rounded-t-lg flex flex-col items-center justify-center",children:[r.jsx(Zd,{className:"w-16 h-16 text-muted-foreground mb-2"}),r.jsx("p",{className:"text-muted-foreground",children:"No photos available"})]})})}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx(Pt,{variant:"secondary",className:"mb-2",children:P.categoryId?"Home Improvement":"General"}),r.jsx(Fe,{className:"text-2xl text-primary","data-testid":"text-project-title",children:P.title}),r.jsxs("div",{className:"flex items-center mt-2 text-muted-foreground space-x-4",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(Cs,{className:"w-4 h-4 mr-1"}),P.address||"Omaha, NE"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(rs,{className:"w-4 h-4 mr-1"}),"Posted ",new Date(P.createdAt).toLocaleDateString()]}),P.timeline&&r.jsxs("span",{className:"flex items-center",children:[r.jsx(Or,{className:"w-4 h-4 mr-1"}),P.timeline]})]})]}),r.jsxs("div",{className:"text-right ml-4",children:[r.jsxs("div",{className:"text-3xl font-bold text-secondary","data-testid":"text-project-price",children:["$",(P.priceCents/100).toLocaleString()]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Budget"})]})]})}),r.jsx(ie,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Project Description"}),r.jsx("p",{className:"text-foreground whitespace-pre-wrap","data-testid":"text-project-description",children:P.description})]}),P.requirements&&r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Requirements"}),r.jsx("p",{className:"text-foreground whitespace-pre-wrap",children:P.requirements})]}),r.jsx(is,{}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-semibold text-primary mb-4",children:"Project Location"}),r.jsx(cZ,{lat:P.lat?parseFloat(P.lat):void 0,lng:P.lng?parseFloat(P.lng):void 0,address:P.address||"Omaha, NE",className:"h-64"})]})]})})]})]}),r.jsxs("div",{className:"lg:col-span-1",children:[t&&t.id===P.ownerUserId?r.jsxs(se,{className:"mb-6 sticky top-24",children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Your Project"})}),r.jsxs(ie,{className:"space-y-4",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"This is your project listing."}),r.jsx(Ct,{href:"/dashboard",children:r.jsx(q,{variant:"outline",className:"w-full","data-testid":"button-manage-project",children:"Manage in Dashboard"})})]})]}):r.jsxs(se,{className:"mb-6 sticky top-24",children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Contact Project Owner"})}),r.jsxs(ie,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(zr,{children:r.jsx(Br,{children:P.ownerUserId?"OW":"U"})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"font-medium text-foreground",children:(R==null?void 0:R.name)||"Property Owner"}),r.jsxs("div",{className:"flex items-center text-sm text-muted-foreground",children:[r.jsx(En,{className:"w-4 h-4 text-yellow-500 mr-1"}),R!=null&&R.ratingAvg?`${R.ratingAvg} (${R.ratingCount||0} reviews)`:"No reviews yet"]})]})]}),r.jsx(is,{}),r.jsxs(q,{onClick:X,className:"w-full bg-[hsl(15,80%,55%)] hover:bg-[hsl(15,80%,45%)] text-white font-semibold","data-testid":"button-request-booking",children:[r.jsx(Or,{className:"w-4 h-4 mr-2"}),"Request Booking"]}),r.jsx(is,{}),r.jsxs("div",{className:"space-y-3",children:[r.jsx("label",{className:"text-sm font-medium text-foreground",children:"Or send an inquiry"}),r.jsx(Vn,{placeholder:"Hi! I'm interested in your project. I have experience with...",value:d,onChange:U=>u(U.target.value),rows:4,"data-testid":"textarea-inquiry-message"}),r.jsxs("div",{className:"flex space-x-2",children:[r.jsxs(q,{onClick:V,disabled:Y.isPending||!d.trim(),className:"flex-1","data-testid":"button-send-inquiry",children:[r.jsx(rc,{className:"w-4 h-4 mr-2"}),Y.isPending?"Sending...":"Send Inquiry"]}),r.jsx(q,{variant:"outline",onClick:te,disabled:F.isPending,className:_?"text-red-500":"","data-testid":"button-save-favorite",children:r.jsx(To,{className:`w-4 h-4 ${_?"fill-current":""}`})})]})]})]})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsxs(Fe,{className:"flex items-center",children:[r.jsx(Ln,{className:"w-5 h-5 mr-2 text-accent"}),"Safety Tips"]})}),r.jsx(ie,{children:r.jsxs("ul",{className:"space-y-2 text-sm text-muted-foreground",children:[r.jsx("li",{children:" Always verify contractor credentials"}),r.jsx("li",{children:" Use our secure payment system"}),r.jsx("li",{children:" Get quotes in writing"}),r.jsx("li",{children:" Check references and reviews"}),r.jsx("li",{children:" Report any suspicious activity"})]})})]})]})]})]}),r.jsx(Lt,{}),r.jsx(Pd,{isOpen:s,onClose:()=>i(!1)}),r.jsx(bn,{open:o,onOpenChange:l,children:r.jsxs(ln,{className:"max-w-2xl",children:[r.jsxs(cn,{children:[r.jsx(dn,{children:"Request Booking"}),r.jsx(Pu,{children:"Select your preferred dates and the project owner will review your request."})]}),r.jsxs("div",{className:"space-y-6 py-4",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{children:"Start Date"}),r.jsx(rm,{mode:"single",selected:p,onSelect:U=>{x(U),U&&j&&j<=U&&C(void 0)},disabled:U=>U<new Date,className:"rounded-md border","data-testid":"calendar-start-date"})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{children:"End Date"}),r.jsx(rm,{mode:"single",selected:j,onSelect:C,disabled:U=>!p||U<=p,className:"rounded-md border","data-testid":"calendar-end-date"})]})]}),p&&j&&r.jsxs("div",{className:"p-4 bg-muted rounded-lg",children:[r.jsx("p",{className:"text-sm font-medium mb-2",children:"Selected Period:"}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"From:"})," ",p.toLocaleDateString()," ",r.jsx("br",{}),r.jsx("strong",{children:"To:"})," ",j.toLocaleDateString()," ",r.jsx("br",{}),r.jsx("strong",{children:"Budget:"})," $",((P==null?void 0:P.priceCents)||0)/100]})]}),r.jsxs("div",{className:"space-y-2",children:[r.jsx(pe,{children:"Additional Notes (Optional)"}),r.jsx(Vn,{placeholder:"Add any specific requirements or questions...",value:g,onChange:U=>S(U.target.value),rows:3,"data-testid":"textarea-booking-notes"})]})]}),r.jsxs(cw,{children:[r.jsx(q,{variant:"outline",onClick:()=>l(!1),"data-testid":"button-cancel-booking",children:"Cancel"}),r.jsx(q,{onClick:J,disabled:!p||!j||j<=p||z.isPending,className:"bg-[hsl(15,80%,55%)] hover:bg-[hsl(15,80%,45%)] text-white","data-testid":"button-submit-booking",children:z.isPending?"Submitting...":"Submit Request"})]})]})})]})}function uZ(){const{user:e}=Sn(),{toast:t}=mn(),[n,s]=v.useState(null),[i,o]=v.useState(""),[l,d]=v.useState(""),u=v.useRef(null),{data:h=[],isLoading:m}=Je({queryKey:["/api/threads"],queryFn:async()=>{const N=await fetch("/api/threads");if(!N.ok)throw new Error("Failed to fetch threads");return N.json()},enabled:!!e}),{data:p=[],isLoading:x}=Je({queryKey:["/api/threads",n,"messages"],queryFn:async()=>{const N=await fetch(`/api/threads/${n}/messages`);if(!N.ok)throw new Error("Failed to fetch messages");return N.json()},enabled:!!n,refetchInterval:5e3}),j=ut({mutationFn:async N=>(await Xe("POST","/api/messages",N)).json(),onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/threads",n,"messages"]}),wt.invalidateQueries({queryKey:["/api/threads"]}),d("")},onError:N=>{t({title:"Failed to send message",description:N.message,variant:"destructive"})}});v.useEffect(()=>{var N;(N=u.current)==null||N.scrollIntoView({behavior:"smooth"})},[p]),v.useEffect(()=>{h.length>0&&!n&&s(h[0].id)},[h,n]);const C=()=>{!n||!l.trim()||j.mutate({threadId:n,body:l.trim()})},g=h.find(N=>N.id===n),S=h.filter(N=>{var P;return((P=N.subject)==null?void 0:P.toLowerCase().includes(i.toLowerCase()))||i===""}),_=N=>N.participantAId===(e==null?void 0:e.id)?`User ${N.participantBId}`:`User ${N.participantAId}`,w=N=>`U${N.participantAId===(e==null?void 0:e.id)?N.participantBId:N.participantAId}`;return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Tt,{}),r.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-6",children:[r.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Messages"}),r.jsx("p",{className:"text-muted-foreground",children:"Communicate with project owners and service providers"})]}),r.jsx(se,{className:"overflow-hidden",style:{height:"600px"},children:r.jsxs("div",{className:"flex h-full",children:[r.jsxs("div",{className:"w-1/3 border-r border-border flex flex-col",children:[r.jsxs("div",{className:"p-4 border-b border-border",children:[r.jsx("h2",{className:"text-lg font-semibold text-primary mb-2",children:"Conversations"}),r.jsxs("div",{className:"relative",children:[r.jsx(ri,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),r.jsx(ze,{placeholder:"Search conversations...",value:i,onChange:N=>o(N.target.value),className:"pl-9","data-testid":"input-search-conversations"})]})]}),r.jsx("div",{className:"flex-1 overflow-y-auto",children:m?r.jsx("div",{className:"p-4 text-center text-muted-foreground",children:"Loading conversations..."}):S.length===0?r.jsxs("div",{className:"p-4 text-center text-muted-foreground",children:[r.jsx(Ps,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{children:"No conversations yet"}),r.jsx("p",{className:"text-sm",children:"Start by sending an inquiry on a project"})]}):S.map(N=>r.jsx("div",{onClick:()=>s(N.id),className:`p-4 border-b border-border hover:bg-muted cursor-pointer transition-colors ${n===N.id?"bg-muted/50":""}`,"data-testid":`conversation-${N.id}`,children:r.jsxs("div",{className:"flex items-start space-x-3",children:[r.jsx(zr,{className:"w-10 h-10",children:r.jsx(Br,{children:w(N)})}),r.jsxs("div",{className:"flex-1 min-w-0",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("p",{className:"text-sm font-medium text-foreground truncate",children:_(N)}),r.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(N.lastMessageAt).toLocaleDateString()})]}),r.jsx("p",{className:"text-sm text-muted-foreground truncate",children:N.subject||"Project Inquiry"}),r.jsx("div",{className:"flex items-center mt-1",children:r.jsx(Pt,{variant:"outline",className:"text-xs",children:"Project Discussion"})})]}),N.id===n&&r.jsx("div",{className:"w-2 h-2 bg-secondary rounded-full"})]})},N.id))})]}),r.jsx("div",{className:"flex-1 flex flex-col",children:g?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"p-4 border-b border-border",children:r.jsxs("div",{className:"flex items-center space-x-3",children:[r.jsx(zr,{className:"w-10 h-10",children:r.jsx(Br,{children:w(g)})}),r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-foreground",children:_(g)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:g.subject||"Project Inquiry"})]})]})}),r.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[x?r.jsx("div",{className:"text-center text-muted-foreground",children:"Loading messages..."}):p.length===0?r.jsxs("div",{className:"text-center text-muted-foreground",children:[r.jsx(Ps,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{children:"No messages yet"}),r.jsx("p",{className:"text-sm",children:"Start the conversation!"})]}):p.map(N=>r.jsx("div",{className:`flex ${N.senderUserId===(e==null?void 0:e.id)?"justify-end":"justify-start"}`,children:r.jsxs("div",{className:`flex items-start space-x-3 max-w-xs lg:max-w-md ${N.senderUserId===(e==null?void 0:e.id)?"flex-row-reverse space-x-reverse":""}`,children:[r.jsx(zr,{className:"w-8 h-8",children:r.jsx(Br,{children:N.senderUserId===(e==null?void 0:e.id)?"You":"U"})}),r.jsxs("div",{className:`rounded-lg p-3 ${N.senderUserId===(e==null?void 0:e.id)?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:[r.jsx("p",{className:"text-sm whitespace-pre-wrap",children:N.body}),r.jsx("p",{className:`text-xs mt-1 ${N.senderUserId===(e==null?void 0:e.id)?"text-primary-foreground/70":"text-muted-foreground"}`,children:new Date(N.createdAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})})]})]})},N.id)),r.jsx("div",{ref:u})]}),r.jsx("div",{className:"p-4 border-t border-border",children:r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(ze,{placeholder:"Type a message...",value:l,onChange:N=>d(N.target.value),onKeyPress:N=>{N.key==="Enter"&&!N.shiftKey&&(N.preventDefault(),C())},className:"flex-1","data-testid":"input-new-message"}),r.jsx(q,{onClick:C,disabled:j.isPending||!l.trim(),"data-testid":"button-send-message",children:r.jsx(rc,{className:"w-4 h-4"})})]})})]}):r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center text-muted-foreground",children:[r.jsx(Ps,{className:"w-12 h-12 mx-auto mb-4"}),r.jsx("p",{className:"text-lg font-medium",children:"Select a conversation"}),r.jsx("p",{children:"Choose a conversation from the sidebar to start messaging"})]})})})]})})]})}),r.jsx(Lt,{})]})}function fZ(){var P,M,A;const e=Pm(),{user:t}=Sn(),{toast:n}=mn(),[s,i]=v.useState(!1),[o,l]=v.useState({headline:"",bio:"",location:{}}),d=e.userId?parseInt(e.userId):t==null?void 0:t.id,u=(t==null?void 0:t.id)===d,{data:h,isLoading:m}=Je({queryKey:["/api/profile",d],queryFn:async()=>{const R=await fetch(`/api/profile/${d}`);if(!R.ok)throw new Error("Failed to fetch profile");return R.json()},enabled:!!d}),{data:p=[]}=Je({queryKey:["/api/listings",{ownerId:d}],queryFn:async()=>{const R=await fetch(`/api/listings?ownerId=${d}`);if(!R.ok)throw new Error("Failed to fetch listings");return R.json()},enabled:!!d}),{data:x=[]}=Je({queryKey:["/api/reviews",{userId:d}],queryFn:async()=>{const R=await fetch(`/api/reviews?userId=${d}`);if(!R.ok)throw new Error("Failed to fetch reviews");return R.json()},enabled:!!d}),j=ut({mutationFn:async R=>(await Xe("PATCH","/api/profile",R)).json(),onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/profile",d]}),i(!1),n({title:"Profile updated",description:"Your profile has been updated successfully."})},onError:R=>{n({title:"Failed to update profile",description:R.message,variant:"destructive"})}}),C=()=>{h&&l({headline:h.headline||"",bio:h.bio||"",location:h.location||{}}),i(!0)},g=()=>{j.mutate(o)},S=()=>{i(!1),l({headline:"",bio:"",location:{}})};if(m)return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Tt,{}),r.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:r.jsx("div",{className:"flex items-center justify-center py-12",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-primary"}),r.jsx("p",{className:"mt-2 text-muted-foreground",children:"Loading profile..."})]})})})]});if(!h)return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Tt,{}),r.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:r.jsxs("div",{className:"text-center py-12",children:[r.jsx("h1",{className:"text-2xl font-bold text-foreground mb-2",children:"Profile not found"}),r.jsx("p",{className:"text-muted-foreground",children:"The profile you're looking for doesn't exist."})]})})]});const _=h.completedProjects||0,w=parseFloat(h.ratingAvg||"0"),N=h.ratingCount||0;return r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Tt,{}),r.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsx(se,{className:"mb-8",children:r.jsx(ie,{className:"p-8",children:r.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-center space-y-4 md:space-y-0 md:space-x-6",children:[r.jsx(zr,{className:"w-24 h-24",children:r.jsx(Br,{className:"text-2xl",children:((M=(P=t==null?void 0:t.name)==null?void 0:P.charAt(0))==null?void 0:M.toUpperCase())||"U"})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{children:[r.jsx("h1",{className:"text-3xl font-bold text-primary","data-testid":"text-profile-name",children:(t==null?void 0:t.name)||"User"}),s?r.jsx(ze,{placeholder:"Professional headline",value:o.headline,onChange:R=>l({...o,headline:R.target.value}),className:"mt-2 max-w-md","data-testid":"input-headline"}):h.headline&&r.jsx("p",{className:"text-lg text-muted-foreground mt-1","data-testid":"text-headline",children:h.headline}),r.jsxs("div",{className:"flex items-center space-x-4 mt-3",children:[r.jsxs("div",{className:"flex items-center",children:[r.jsx(En,{className:"w-5 h-5 text-yellow-500 mr-1"}),r.jsx("span",{className:"font-medium",children:w.toFixed(1)}),r.jsxs("span",{className:"text-muted-foreground ml-1",children:["(",N," reviews)"]})]}),r.jsxs("div",{className:"flex items-center text-muted-foreground",children:[r.jsx(Jn,{className:"w-5 h-5 mr-1"}),r.jsxs("span",{children:[_," completed projects"]})]}),((A=h.location)==null?void 0:A.city)&&r.jsxs("div",{className:"flex items-center text-muted-foreground",children:[r.jsx(Cs,{className:"w-5 h-5 mr-1"}),r.jsxs("span",{children:[h.location.city,", ",h.location.state||"NE"]})]})]}),r.jsxs("div",{className:"flex items-center space-x-2 mt-3",children:[(t==null?void 0:t.isAdmin)&&r.jsxs(Pt,{className:"bg-orange-100 text-orange-800 dark:bg-orange-900/30 dark:text-orange-300 hover:bg-orange-200 dark:hover:bg-orange-900/40",children:[r.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Administrator"]}),(t==null?void 0:t.roleOwner)&&r.jsx(Pt,{variant:"secondary",children:"Property Owner"}),(t==null?void 0:t.roleProvider)&&r.jsx(Pt,{variant:"outline",children:"Service Provider"})]})]}),u&&r.jsx("div",{className:"flex space-x-2",children:s?r.jsxs(r.Fragment,{children:[r.jsxs(q,{size:"sm",onClick:g,disabled:j.isPending,"data-testid":"button-save-profile",children:[r.jsx(Uz,{className:"w-4 h-4 mr-2"}),"Save"]}),r.jsxs(q,{variant:"outline",size:"sm",onClick:S,children:[r.jsx(wc,{className:"w-4 h-4 mr-2"}),"Cancel"]})]}):r.jsxs(q,{variant:"outline",size:"sm",onClick:C,"data-testid":"button-edit-profile",children:[r.jsx(Vy,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})})]}),s?r.jsxs("div",{className:"mt-4",children:[r.jsx(pe,{children:"Bio"}),r.jsx(Vn,{placeholder:"Tell others about yourself, your experience, and what you're looking for...",value:o.bio,onChange:R=>l({...o,bio:R.target.value}),rows:4,className:"mt-1","data-testid":"textarea-bio"})]}):h.bio&&r.jsx("p",{className:"text-foreground mt-4 whitespace-pre-wrap","data-testid":"text-bio",children:h.bio})]}),!u&&r.jsxs("div",{className:"flex flex-col space-y-2",children:[r.jsxs(q,{"data-testid":"button-send-message",children:[r.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Message"]}),r.jsxs(q,{variant:"outline","data-testid":"button-add-favorite",children:[r.jsx(To,{className:"w-4 h-4 mr-2"}),"Save"]})]})]})})}),r.jsxs(qa,{defaultValue:"overview",className:"space-y-6",children:[r.jsxs($i,{children:[r.jsx(bt,{value:"overview",children:"Overview"}),(t==null?void 0:t.roleOwner)&&r.jsxs(bt,{value:"projects",children:["Projects (",p.length,")"]}),r.jsxs(bt,{value:"reviews",children:["Reviews (",N,")"]})]}),r.jsx(Nt,{value:"overview",className:"space-y-6",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[r.jsx(se,{children:r.jsxs(ie,{className:"p-6 text-center",children:[r.jsx(Jn,{className:"w-8 h-8 text-accent mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-primary",children:_}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Projects Completed"})]})}),r.jsx(se,{children:r.jsxs(ie,{className:"p-6 text-center",children:[r.jsx(En,{className:"w-8 h-8 text-yellow-500 mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-primary",children:w.toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Rating"})]})}),r.jsx(se,{children:r.jsxs(ie,{className:"p-6 text-center",children:[r.jsx(Ps,{className:"w-8 h-8 text-secondary mx-auto mb-2"}),r.jsx("div",{className:"text-2xl font-bold text-primary",children:N}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Reviews"})]})})]})}),(t==null?void 0:t.roleOwner)&&r.jsx(Nt,{value:"projects",className:"space-y-6",children:p.length===0?r.jsx(se,{children:r.jsxs(ie,{className:"p-12 text-center",children:[r.jsx(Th,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No projects yet"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Start by posting your first project"}),r.jsx(q,{children:"Post a Project"})]})}):r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:p.map(R=>r.jsx(se,{className:"hover:shadow-md transition-shadow",children:r.jsxs(ie,{className:"p-6",children:[r.jsxs("div",{className:"flex justify-between items-start mb-3",children:[r.jsx(Pt,{variant:R.status==="published"?"default":"secondary",children:R.status}),r.jsxs("div",{className:"text-lg font-bold text-secondary",children:["$",(R.priceCents/100).toLocaleString()]})]}),r.jsx("h3",{className:"font-semibold text-foreground mb-2",children:R.title}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:R.description}),r.jsxs("div",{className:"flex items-center text-xs text-muted-foreground space-x-3",children:[r.jsxs("span",{className:"flex items-center",children:[r.jsx(Cs,{className:"w-3 h-3 mr-1"}),R.address||"Omaha, NE"]}),r.jsxs("span",{className:"flex items-center",children:[r.jsx(Or,{className:"w-3 h-3 mr-1"}),new Date(R.createdAt).toLocaleDateString()]})]})]})},R.id))})}),r.jsx(Nt,{value:"reviews",className:"space-y-6",children:x.length===0?r.jsx(se,{children:r.jsxs(ie,{className:"p-12 text-center",children:[r.jsx(En,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-medium text-foreground mb-2",children:"No reviews yet"}),r.jsx("p",{className:"text-muted-foreground",children:"Complete projects to start receiving reviews"})]})}):r.jsx("div",{className:"space-y-4",children:x.map(R=>r.jsx(se,{children:r.jsx(ie,{className:"p-6",children:r.jsxs("div",{className:"flex items-start space-x-4",children:[r.jsx(zr,{children:r.jsxs(Br,{children:["R",R.reviewerUserId]})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[r.jsx("div",{className:"flex",children:[...Array(5)].map((F,Y)=>r.jsx(En,{className:`w-4 h-4 ${Y<R.rating?"text-yellow-500 fill-current":"text-gray-300"}`},Y))}),r.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(R.createdAt).toLocaleDateString()})]}),R.body&&r.jsx("p",{className:"text-foreground",children:R.body})]})]})})},R.id))})})]})]})}),r.jsx(Lt,{})]})}const Ts=K9,CR=v.createContext({}),ct=({...e})=>r.jsx(CR.Provider,{value:{name:e.name},children:r.jsx(Xd,{...e})}),op=()=>{const e=v.useContext(CR),t=v.useContext(PR),{getFieldState:n,formState:s}=rp(),i=n(e.name,s);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:o}=t;return{id:o,name:e.name,formItemId:`${o}-form-item`,formDescriptionId:`${o}-form-item-description`,formMessageId:`${o}-form-item-message`,...i}},PR=v.createContext({}),it=v.forwardRef(({className:e,...t},n)=>{const s=v.useId();return r.jsx(PR.Provider,{value:{id:s},children:r.jsx("div",{ref:n,className:_e("space-y-2",e),...t})})});it.displayName="FormItem";const at=v.forwardRef(({className:e,...t},n)=>{const{error:s,formItemId:i}=op();return r.jsx(pe,{ref:n,className:_e(s&&"text-destructive",e),htmlFor:i,...t})});at.displayName="FormLabel";const dt=v.forwardRef(({...e},t)=>{const{error:n,formItemId:s,formDescriptionId:i,formMessageId:o}=op();return r.jsx(E2,{ref:t,id:s,"aria-describedby":n?`${i} ${o}`:`${i}`,"aria-invalid":!!n,...e})});dt.displayName="FormControl";const co=v.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:s}=op();return r.jsx("p",{ref:n,id:s,className:_e("text-sm text-muted-foreground",e),...t})});co.displayName="FormDescription";const ot=v.forwardRef(({className:e,children:t,...n},s)=>{const{error:i,formMessageId:o}=op(),l=i?String((i==null?void 0:i.message)??""):t;return l?r.jsx("p",{ref:s,id:o,className:_e("text-sm font-medium text-destructive",e),...n,children:l}):null});ot.displayName="FormMessage";const hZ=ee.object({headline:ee.string().max(100,"Headline must be under 100 characters").optional(),bio:ee.string().max(500,"Bio must be under 500 characters").optional(),location:ee.object({address:ee.string().optional(),city:ee.string().optional(),state:ee.string().optional(),zipCode:ee.string().optional()}).optional()}),mZ=ee.object({skillName:ee.string().min(1,"Skill name is required"),categoryId:ee.number().optional(),experienceYears:ee.number().min(0).max(50).optional()}),pZ=ee.object({title:ee.string().min(1,"Title is required"),description:ee.string().min(1,"Description is required"),categoryId:ee.number().optional(),imageUrls:ee.array(ee.string()).optional(),projectDate:ee.string().optional(),featured:ee.boolean().optional()});function gZ(){var ne,U;const e=Pm(),{user:t}=Sn(),{toast:n}=mn(),[s,i]=v.useState("overview"),[o,l]=v.useState(!1),[d,u]=v.useState(!1),[h,m]=v.useState(!1),p=e.userId?parseInt(e.userId):t==null?void 0:t.id,x=(t==null?void 0:t.id)===p,{data:j,isLoading:C}=Je({queryKey:["/api/user",p],queryFn:async()=>{const k=await fetch(`/api/profile/${p}`);if(!k.ok)throw new Error("Failed to fetch user");return k.json()},enabled:!!p}),{data:g,isLoading:S}=Je({queryKey:["/api/profile",p],queryFn:async()=>{const k=await fetch(`/api/profile/${p}`);if(!k.ok)throw new Error("Failed to fetch profile");return k.json()},enabled:!!p}),{data:_=[],isLoading:w}=Je({queryKey:["/api/provider-skills",p],queryFn:async()=>{const k=await fetch(`/api/provider-skills/${p}`);if(!k.ok)throw new Error("Failed to fetch skills");return k.json()},enabled:!!p}),{data:N=[],isLoading:P}=Je({queryKey:["/api/portfolio",p],queryFn:async()=>{const k=await fetch(`/api/portfolio/${p}`);if(!k.ok)throw new Error("Failed to fetch portfolio");return k.json()},enabled:!!p}),{data:M=[],isLoading:A}=Je({queryKey:["/api/reviews/user",p],queryFn:async()=>{const k=await fetch(`/api/reviews/user/${p}`);if(!k.ok)throw new Error("Failed to fetch reviews");return k.json()},enabled:!!p}),R=Wn({resolver:Hn(hZ),defaultValues:{headline:(g==null?void 0:g.headline)||"",bio:(g==null?void 0:g.bio)||"",location:(g==null?void 0:g.location)||{}}}),F=Wn({resolver:Hn(mZ),defaultValues:{skillName:"",experienceYears:0}}),Y=Wn({resolver:Hn(pZ),defaultValues:{title:"",description:"",featured:!1}}),z=ut({mutationFn:async k=>(await Xe("PATCH",`/api/profile/${p}`,k)).json(),onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/profile",p]}),n({title:"Profile updated successfully"}),l(!1)},onError:()=>{n({title:"Failed to update profile",variant:"destructive"})}}),Z=ut({mutationFn:async k=>(await Xe("POST","/api/provider-skills",k)).json(),onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/provider-skills",p]}),n({title:"Skill added successfully"}),u(!1),F.reset()},onError:()=>{n({title:"Failed to add skill",variant:"destructive"})}}),V=ut({mutationFn:async k=>(await Xe("POST","/api/portfolio",k)).json(),onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/portfolio",p]}),n({title:"Portfolio item added successfully"}),m(!1),Y.reset()},onError:()=>{n({title:"Failed to add portfolio item",variant:"destructive"})}});v.useEffect(()=>{g&&R.reset({headline:g.headline||"",bio:g.bio||"",location:g.location||{}})},[g,R]);const te=()=>!g||!g.ratingCount?0:parseFloat(g.ratingAvg||"0"),X=k=>k.split(" ").map(W=>W[0]).join("").toUpperCase(),J=k=>k&&{1:"Home Improvement",2:"Landscaping",3:"Cleaning Services",4:"Moving & Storage"}[k]||"General";return C||S?r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{children:"Loading profile..."})]})}),r.jsx(Lt,{})]}):!j||!g?r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Profile not found"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"This user profile doesn't exist or has been removed."}),r.jsx(Ct,{href:"/",children:r.jsx(q,{children:"Return Home"})})]})}),r.jsx(Lt,{})]}):r.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[r.jsx(Tt,{}),r.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[r.jsx(se,{className:"mb-8",children:r.jsx(ie,{className:"p-6",children:r.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[r.jsx("div",{className:"flex-shrink-0",children:r.jsxs(zr,{className:"w-24 h-24",children:[r.jsx(VM,{src:j.avatarUrl||""}),r.jsx(Br,{className:"text-2xl",children:X(j.name)})]})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-start justify-between mb-4",children:[r.jsxs("div",{children:[r.jsxs("h1",{className:"text-3xl font-bold mb-2","data-testid":"profile-name",children:[j.name,j.emailVerified&&r.jsx(I_,{className:"w-6 h-6 text-blue-500 inline ml-2"})]}),g.headline&&r.jsx("p",{className:"text-lg text-muted-foreground mb-2","data-testid":"profile-headline",children:g.headline}),r.jsxs("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[((ne=g.location)==null?void 0:ne.city)&&r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(Cs,{className:"w-4 h-4"}),r.jsxs("span",{children:[g.location.city,", ",g.location.state||"NE"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(En,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),r.jsxs("span",{children:[te().toFixed(1)," (",g.ratingCount," reviews)"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx(va,{className:"w-4 h-4"}),r.jsxs("span",{children:[g.completedProjects," projects completed"]})]})]})]}),r.jsx("div",{className:"flex gap-2",children:x?r.jsxs(bn,{open:o,onOpenChange:l,children:[r.jsx(Xs,{asChild:!0,children:r.jsxs(q,{variant:"outline","data-testid":"button-edit-profile",children:[r.jsx(Vy,{className:"w-4 h-4 mr-2"}),"Edit Profile"]})}),r.jsxs(ln,{className:"max-w-2xl",children:[r.jsx(cn,{children:r.jsx(dn,{children:"Edit Profile"})}),r.jsx(Ts,{...R,children:r.jsxs("form",{onSubmit:R.handleSubmit(k=>z.mutate(k)),className:"space-y-4",children:[r.jsx(ct,{control:R.control,name:"headline",render:({field:k})=>r.jsxs(it,{children:[r.jsx(at,{children:"Professional Headline"}),r.jsx(dt,{children:r.jsx(ze,{placeholder:"e.g., Experienced Home Improvement Contractor",...k})}),r.jsx(ot,{})]})}),r.jsx(ct,{control:R.control,name:"bio",render:({field:k})=>r.jsxs(it,{children:[r.jsx(at,{children:"Bio"}),r.jsx(dt,{children:r.jsx(Vn,{placeholder:"Tell others about your experience and services...",rows:4,...k})}),r.jsx(ot,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(ct,{control:R.control,name:"location.city",render:({field:k})=>r.jsxs(it,{children:[r.jsx(at,{children:"City"}),r.jsx(dt,{children:r.jsx(ze,{placeholder:"Omaha",...k})}),r.jsx(ot,{})]})}),r.jsx(ct,{control:R.control,name:"location.state",render:({field:k})=>r.jsxs(it,{children:[r.jsx(at,{children:"State"}),r.jsx(dt,{children:r.jsx(ze,{placeholder:"NE",...k})}),r.jsx(ot,{})]})})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>l(!1),children:"Cancel"}),r.jsx(q,{type:"submit",disabled:z.isPending,children:z.isPending?"Saving...":"Save Changes"})]})]})})]})]}):r.jsxs(r.Fragment,{children:[r.jsxs(q,{variant:"outline","data-testid":"button-message-user",children:[r.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Message"]}),r.jsx(q,{"data-testid":"button-contact-user",children:"Contact"})]})})]}),g.bio&&r.jsx("p",{className:"text-gray-700 dark:text-gray-300","data-testid":"profile-bio",children:g.bio})]})]})})}),r.jsxs(qa,{value:s,onValueChange:i,className:"space-y-6",children:[r.jsxs($i,{className:"grid w-full grid-cols-5",children:[r.jsx(bt,{value:"overview","data-testid":"tab-overview",children:"Overview"}),r.jsx(bt,{value:"skills","data-testid":"tab-skills",children:"Skills"}),r.jsx(bt,{value:"portfolio","data-testid":"tab-portfolio",children:"Portfolio"}),r.jsx(bt,{value:"reviews","data-testid":"tab-reviews",children:"Reviews"}),r.jsx(bt,{value:"activity","data-testid":"tab-activity",children:"Activity"})]}),r.jsxs(Nt,{value:"overview",className:"space-y-6",children:[r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Roles & Capabilities"})}),r.jsxs(ie,{children:[r.jsxs("div",{className:"flex gap-2 mb-4",children:[j.roleOwner&&r.jsxs(Pt,{variant:"secondary",className:"text-sm",children:[r.jsx(Th,{className:"w-4 h-4 mr-1"}),"Property Owner"]}),j.roleProvider&&r.jsxs(Pt,{variant:"secondary",className:"text-sm",children:[r.jsx(va,{className:"w-4 h-4 mr-1"}),"Service Provider"]})]}),j.roleProvider&&r.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:_.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Skills Listed"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:N.length}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Portfolio Items"})]}),r.jsxs("div",{className:"text-center p-4 bg-muted rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:te().toFixed(1)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Rating"})]})]})]})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Contact Information"})}),r.jsxs(ie,{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Mh,{className:"w-5 h-5 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Email"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:j.email})]})]}),j.phone&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(cT,{className:"w-5 h-5 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Phone"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:j.phone})]})]}),((U=g.location)==null?void 0:U.address)&&r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Cs,{className:"w-5 h-5 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Location"}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.location.address,", ",g.location.city,", ",g.location.state," ",g.location.zipCode]})]})]})]})]})]}),r.jsx(Nt,{value:"skills",className:"space-y-6",children:r.jsxs(se,{children:[r.jsxs(Ie,{className:"flex flex-row items-center justify-between",children:[r.jsx(Fe,{children:"Professional Skills"}),x&&r.jsxs(bn,{open:d,onOpenChange:u,children:[r.jsx(Xs,{asChild:!0,children:r.jsxs(q,{size:"sm","data-testid":"button-add-skill",children:[r.jsx(Li,{className:"w-4 h-4 mr-2"}),"Add Skill"]})}),r.jsxs(ln,{children:[r.jsx(cn,{children:r.jsx(dn,{children:"Add Professional Skill"})}),r.jsx(Ts,{...F,children:r.jsxs("form",{onSubmit:F.handleSubmit(k=>Z.mutate(k)),className:"space-y-4",children:[r.jsx(ct,{control:F.control,name:"skillName",render:({field:k})=>r.jsxs(it,{children:[r.jsx(at,{children:"Skill Name"}),r.jsx(dt,{children:r.jsx(ze,{placeholder:"e.g., Plumbing, Electrical, Carpentry",...k})}),r.jsx(ot,{})]})}),r.jsx(ct,{control:F.control,name:"categoryId",render:({field:k})=>{var W;return r.jsxs(it,{children:[r.jsx(at,{children:"Category"}),r.jsxs(Bn,{onValueChange:G=>k.onChange(parseInt(G)),value:(W=k.value)==null?void 0:W.toString(),children:[r.jsx(dt,{children:r.jsx(Mn,{children:r.jsx($n,{placeholder:"Select a category"})})}),r.jsxs(An,{children:[r.jsx(je,{value:"1",children:"Home Improvement"}),r.jsx(je,{value:"2",children:"Landscaping"}),r.jsx(je,{value:"3",children:"Cleaning Services"}),r.jsx(je,{value:"4",children:"Moving & Storage"})]})]}),r.jsx(ot,{})]})}}),r.jsx(ct,{control:F.control,name:"experienceYears",render:({field:k})=>r.jsxs(it,{children:[r.jsx(at,{children:"Years of Experience"}),r.jsx(dt,{children:r.jsx(ze,{type:"number",min:"0",max:"50",placeholder:"0",...k,onChange:W=>k.onChange(parseInt(W.target.value)||0)})}),r.jsx(ot,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),r.jsx(q,{type:"submit",disabled:Z.isPending,children:Z.isPending?"Adding...":"Add Skill"})]})]})})]})]})]}),r.jsx(ie,{children:w?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading skills..."})]}):_.length>0?r.jsx("div",{className:"grid gap-4",children:_.map(k=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`skill-${k.id}`,children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium",children:k.skillName}),r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground mt-1",children:[r.jsx(Pt,{variant:"outline",className:"text-xs",children:J(k.categoryId)}),k.experienceYears&&r.jsxs("span",{children:[k.experienceYears," years experience"]}),k.verified&&r.jsxs(Pt,{variant:"secondary",className:"text-xs",children:[r.jsx(Ln,{className:"w-3 h-3 mr-1"}),"Verified"]})]})]}),x&&r.jsx(q,{variant:"ghost",size:"sm",className:"text-destructive",children:r.jsx(Rh,{className:"w-4 h-4"})})]},k.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(va,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No skills listed"}),r.jsx("p",{className:"text-muted-foreground",children:x?"Add your professional skills to showcase your expertise.":"This user hasn't added any skills yet."})]})})]})}),r.jsx(Nt,{value:"portfolio",className:"space-y-6",children:r.jsxs(se,{children:[r.jsxs(Ie,{className:"flex flex-row items-center justify-between",children:[r.jsx(Fe,{children:"Portfolio"}),x&&r.jsxs(bn,{open:h,onOpenChange:m,children:[r.jsx(Xs,{asChild:!0,children:r.jsxs(q,{size:"sm","data-testid":"button-add-portfolio",children:[r.jsx(Li,{className:"w-4 h-4 mr-2"}),"Add Project"]})}),r.jsxs(ln,{className:"max-w-2xl",children:[r.jsx(cn,{children:r.jsx(dn,{children:"Add Portfolio Project"})}),r.jsx(Ts,{...Y,children:r.jsxs("form",{onSubmit:Y.handleSubmit(k=>V.mutate(k)),className:"space-y-4",children:[r.jsx(ct,{control:Y.control,name:"title",render:({field:k})=>r.jsxs(it,{children:[r.jsx(at,{children:"Project Title"}),r.jsx(dt,{children:r.jsx(ze,{placeholder:"e.g., Modern Kitchen Renovation",...k})}),r.jsx(ot,{})]})}),r.jsx(ct,{control:Y.control,name:"description",render:({field:k})=>r.jsxs(it,{children:[r.jsx(at,{children:"Description"}),r.jsx(dt,{children:r.jsx(Vn,{placeholder:"Describe the project, challenges overcome, and results achieved...",rows:4,...k})}),r.jsx(ot,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(ct,{control:Y.control,name:"categoryId",render:({field:k})=>{var W;return r.jsxs(it,{children:[r.jsx(at,{children:"Category"}),r.jsxs(Bn,{onValueChange:G=>k.onChange(parseInt(G)),value:(W=k.value)==null?void 0:W.toString(),children:[r.jsx(dt,{children:r.jsx(Mn,{children:r.jsx($n,{placeholder:"Select category"})})}),r.jsxs(An,{children:[r.jsx(je,{value:"1",children:"Home Improvement"}),r.jsx(je,{value:"2",children:"Landscaping"}),r.jsx(je,{value:"3",children:"Cleaning Services"}),r.jsx(je,{value:"4",children:"Moving & Storage"})]})]}),r.jsx(ot,{})]})}}),r.jsx(ct,{control:Y.control,name:"projectDate",render:({field:k})=>r.jsxs(it,{children:[r.jsx(at,{children:"Project Date"}),r.jsx(dt,{children:r.jsx(ze,{type:"date",...k})}),r.jsx(ot,{})]})})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>m(!1),children:"Cancel"}),r.jsx(q,{type:"submit",disabled:V.isPending,children:V.isPending?"Adding...":"Add Project"})]})]})})]})]})]}),r.jsx(ie,{children:P?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading portfolio..."})]}):N.length>0?r.jsx("div",{className:"grid md:grid-cols-2 gap-6",children:N.map(k=>r.jsxs(se,{className:"overflow-hidden","data-testid":`portfolio-${k.id}`,children:[r.jsx("div",{className:"aspect-video bg-muted flex items-center justify-center",children:k.imageUrls&&k.imageUrls.length>0?r.jsx("img",{src:k.imageUrls[0],alt:k.title,className:"w-full h-full object-cover"}):r.jsx(Zd,{className:"w-12 h-12 text-muted-foreground"})}),r.jsxs(ie,{className:"p-4",children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsx("h4",{className:"font-semibold",children:k.title}),k.featured&&r.jsxs(Pt,{variant:"secondary",className:"text-xs",children:[r.jsx(En,{className:"w-3 h-3 mr-1"}),"Featured"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-3",children:k.description}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[r.jsx("span",{children:J(k.categoryId)}),k.projectDate&&r.jsx("span",{children:new Date(k.projectDate).toLocaleDateString()})]})]})]},k.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Th,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No portfolio projects"}),r.jsx("p",{className:"text-muted-foreground",children:x?"Showcase your best work by adding portfolio projects.":"This user hasn't added any portfolio projects yet."})]})})]})}),r.jsx(Nt,{value:"reviews",className:"space-y-6",children:r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Reviews & Ratings"})}),r.jsx(ie,{children:A?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading reviews..."})]}):M.length>0?r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid md:grid-cols-4 gap-4 mb-6 p-4 bg-muted rounded-lg",children:[r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-3xl font-bold text-primary",children:te().toFixed(1)}),r.jsx("div",{className:"flex justify-center my-1",children:[1,2,3,4,5].map(k=>r.jsx(En,{className:`w-4 h-4 ${k<=te()?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},k))}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Overall Rating"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:g.ratingCount}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Reviews"})]}),r.jsxs("div",{className:"text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-primary",children:g.completedProjects}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Projects Done"})]}),r.jsxs("div",{className:"text-center",children:[r.jsxs("div",{className:"text-2xl font-bold text-primary",children:[g.ratingCount>0?Math.round(te()/5*100):0,"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Satisfaction"})]})]}),M.map(k=>r.jsxs("div",{className:"border rounded-lg p-4","data-testid":`review-${k.id}`,children:[r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"flex",children:[1,2,3,4,5].map(W=>r.jsx(En,{className:`w-4 h-4 ${W<=k.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},W))}),r.jsxs(Pt,{variant:"outline",className:"text-xs",children:[k.rating,"/5"]})]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(k.createdAt).toLocaleDateString()})]}),k.body&&r.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:k.body})]},k.id))]}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(fT,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No reviews yet"}),r.jsx("p",{className:"text-muted-foreground",children:x?"Complete projects to start receiving reviews.":"This user hasn't received any reviews yet."})]})})]})}),r.jsx(Nt,{value:"activity",className:"space-y-6",children:r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Recent Activity"})}),r.jsx(ie,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[r.jsx(rs,{className:"w-5 h-5 text-muted-foreground"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Profile created"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:new Date(j.createdAt).toLocaleDateString()})]})]}),g.completedProjects>0&&r.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[r.jsx(va,{className:"w-5 h-5 text-green-500"}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium",children:["Completed ",g.completedProjects," projects"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Building trust in the community"})]})]}),j.emailVerified&&r.jsxs("div",{className:"flex items-center gap-3 p-3 border rounded-lg",children:[r.jsx(I_,{className:"w-5 h-5 text-blue-500"}),r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:"Email verified"}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Identity confirmed"})]})]})]})})]})})]})]}),r.jsx(Lt,{})]})}const xZ=vc("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),un=v.forwardRef(({className:e,variant:t,...n},s)=>r.jsx("div",{ref:s,role:"alert",className:_e(xZ({variant:t}),e),...n}));un.displayName="Alert";const vZ=v.forwardRef(({className:e,...t},n)=>r.jsx("h5",{ref:n,className:_e("mb-1 font-medium leading-none tracking-tight",e),...t}));vZ.displayName="AlertTitle";const fn=v.forwardRef(({className:e,...t},n)=>r.jsx("div",{ref:n,className:_e("text-sm [&_p]:leading-relaxed",e),...t}));fn.displayName="AlertDescription";const yZ=ee.object({action:ee.enum(["approve","reject","suspend"]),reason:ee.string().min(1,"Reason is required"),notes:ee.string().optional()}),wZ=ee.object({action:ee.enum(["suspend","ban","activate","verify"]),reason:ee.string().min(1,"Reason is required"),duration:ee.number().optional()}),jZ=ee.object({action:ee.enum(["investigate","resolve","close","escalate"]),resolution:ee.string().optional(),notes:ee.string().min(1,"Notes are required")});function _Z(){var n,s,i,o,l,d,u,h,m;const{data:e,isLoading:t}=Je({queryKey:["/api/admin/api-keys"],queryFn:async()=>{const p=await fetch("/api/admin/api-keys");if(!p.ok)throw new Error("Failed to fetch API keys");return p.json()}});return t?r.jsx("div",{className:"border rounded-lg p-4",children:r.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading API key status..."})}):r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsxs("h3",{className:"font-semibold mb-4 flex items-center gap-2",children:[r.jsx(ya,{className:"w-5 h-5"}),"API Key Management"]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage Stripe and Mailgun API keys for payment processing and email services."}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[r.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[r.jsx(ya,{className:"w-4 h-4"}),"Stripe Configuration",(n=e==null?void 0:e.stripe)!=null&&n.hasSecretKey&&((s=e==null?void 0:e.stripe)!=null&&s.hasPublicKey)?r.jsx(Pt,{variant:"outline",className:"ml-auto bg-green-50 text-green-700 border-green-200",children:"Configured"}):r.jsx(Pt,{variant:"outline",className:"ml-auto bg-yellow-50 text-yellow-700 border-yellow-200",children:"Not Configured"})]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Secret Key:"}),r.jsx("p",{className:"text-muted-foreground font-mono",children:((i=e==null?void 0:e.stripe)==null?void 0:i.secretKey)||"Not configured"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Public Key:"}),r.jsx("p",{className:"text-muted-foreground font-mono",children:((o=e==null?void 0:e.stripe)==null?void 0:o.publicKey)||"Not configured"})]})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Webhook Secret:"}),r.jsx("p",{className:"text-muted-foreground font-mono",children:((l=e==null?void 0:e.stripe)==null?void 0:l.webhookSecret)||"Not configured"})]}),r.jsxs(un,{className:"mt-3",children:[r.jsx(Eo,{className:"h-4 w-4"}),r.jsxs(fn,{className:"text-xs",children:["To configure Stripe keys, use the Replit Secrets tool:",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["STRIPE_SECRET_KEY - Your secret key from ",r.jsx("a",{href:"https://dashboard.stripe.com/apikeys",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Stripe Dashboard"})]}),r.jsx("li",{children:"VITE_STRIPE_PUBLIC_KEY - Your publishable key"}),r.jsxs("li",{children:["STRIPE_WEBHOOK_SECRET - Get from ",r.jsx("a",{href:"https://dashboard.stripe.com/webhooks",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Stripe Webhooks"})]})]}),r.jsxs("p",{className:"mt-2",children:["Webhook URL: ",r.jsxs("code",{className:"bg-muted px-1 rounded",children:[window.location.origin,"/api/webhooks/stripe"]})]})]})]})]})]}),r.jsxs("div",{className:"border rounded-lg p-4 bg-muted/30",children:[r.jsxs("h4",{className:"font-medium mb-3 flex items-center gap-2",children:[r.jsx(Mh,{className:"w-4 h-4"}),"Mailgun Configuration",(d=e==null?void 0:e.mailgun)!=null&&d.hasApiKey&&((u=e==null?void 0:e.mailgun)!=null&&u.hasDomain)?r.jsx(Pt,{variant:"outline",className:"ml-auto bg-green-50 text-green-700 border-green-200",children:"Configured"}):r.jsx(Pt,{variant:"outline",className:"ml-auto bg-yellow-50 text-yellow-700 border-yellow-200",children:"Not Configured"})]}),r.jsxs("div",{className:"space-y-3 text-sm",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"API Key:"}),r.jsx("p",{className:"text-muted-foreground font-mono",children:((h=e==null?void 0:e.mailgun)==null?void 0:h.apiKey)||"Not configured"})]}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Domain:"}),r.jsx("p",{className:"text-muted-foreground font-mono",children:((m=e==null?void 0:e.mailgun)==null?void 0:m.domain)||"Not configured"})]}),r.jsxs(un,{className:"mt-3",children:[r.jsx(Eo,{className:"h-4 w-4"}),r.jsxs(fn,{className:"text-xs",children:["To configure Mailgun, use the Replit Secrets tool:",r.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[r.jsxs("li",{children:["MAILGUN_API_KEY - From ",r.jsx("a",{href:"https://app.mailgun.com/app/account/security/api_keys",target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline",children:"Mailgun Dashboard"})]}),r.jsx("li",{children:"MAILGUN_DOMAIN - Your verified domain"})]})]})]})]})]})]})]})}function bZ(){const{user:e}=Sn(),{toast:t}=mn(),[n,s]=v.useState("overview"),[i,o]=v.useState(null),[l,d]=v.useState(null),[u,h]=v.useState(""),[m,p]=v.useState("all"),[x,j]=v.useState("all"),[C,g]=v.useState(10),[S,_]=v.useState(2.9),[w,N]=v.useState(!1),[P,M]=v.useState(!1);if(!e||!e.isAdmin)return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ln,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Access Denied"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"You don't have admin privileges to access this dashboard."}),r.jsx(q,{onClick:()=>window.history.back(),children:"Go Back"})]})}),r.jsx(Lt,{})]});const{data:A,isLoading:R}=Je({queryKey:["/api/admin/stats"],queryFn:async()=>{const B=await fetch("/api/admin/stats");if(!B.ok)throw new Error("Failed to fetch admin stats");return B.json()}}),{data:F}=Je({queryKey:["/api/admin/settings/fees"]});v.useEffect(()=>{F&&(g(F.platformFee),_(F.paymentFee))},[F]);const{data:Y=[],isLoading:z}=Je({queryKey:["/api/admin/users",m],queryFn:async()=>{const B=new URLSearchParams;m!=="all"&&B.append("filter",m);const me=await fetch(`/api/admin/users?${B}`);if(!me.ok)throw new Error("Failed to fetch users");return me.json()}}),{data:Z=[],isLoading:V}=Je({queryKey:["/api/admin/moderation"],queryFn:async()=>{const B=await fetch("/api/admin/moderation");if(!B.ok)throw new Error("Failed to fetch moderation queue");return B.json()}}),{data:te=[],isLoading:X}=Je({queryKey:["/api/admin/disputes",x],queryFn:async()=>{const B=new URLSearchParams;x!=="all"&&B.append("status",x);const me=await fetch(`/api/admin/disputes?${B}`);if(!me.ok)throw new Error("Failed to fetch disputes");return me.json()}});Wn({resolver:Hn(yZ)});const J=Wn({resolver:Hn(wZ)}),ne=Wn({resolver:Hn(jZ)});ut({mutationFn:async({id:B,data:me})=>(await Xe("POST",`/api/admin/moderation/${B}`,me)).json(),onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/admin/moderation"]}),t({title:"Moderation action completed"})},onError:()=>{t({title:"Failed to complete moderation action",variant:"destructive"})}});const U=ut({mutationFn:async({id:B,data:me})=>(await Xe("POST",`/api/admin/users/${B}/action`,me)).json(),onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/admin/users",m]}),t({title:"User action completed"}),o(null)},onError:()=>{t({title:"Failed to complete user action",variant:"destructive"})}}),k=ut({mutationFn:async({id:B,data:me})=>(await Xe("POST",`/api/admin/disputes/${B}/action`,me)).json(),onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/admin/disputes",x]}),t({title:"Dispute action completed"}),d(null)},onError:()=>{t({title:"Failed to complete dispute action",variant:"destructive"})}}),W=ut({mutationFn:async()=>(await Xe("POST","/api/admin/settings/fees",{platformFee:C,paymentFee:S})).json(),onSuccess:()=>{t({title:"Fee settings saved successfully"})},onError:()=>{t({title:"Failed to save fee settings",variant:"destructive"})}}),G=ut({mutationFn:async()=>(await Xe("POST","/api/admin/backup")).json(),onSuccess:B=>{t({title:"Backup created successfully"}),B.downloadUrl&&window.open(B.downloadUrl,"_blank")},onError:()=>{t({title:"Failed to create backup",variant:"destructive"})}}),le=ut({mutationFn:async()=>{const me=await(await Xe("POST","/api/admin/export-reports")).blob(),$e=window.URL.createObjectURL(me),Ze=document.createElement("a");Ze.href=$e,Ze.download=`omahasharehub-reports-${new Date().toISOString().split("T")[0]}.csv`,document.body.appendChild(Ze),Ze.click(),window.URL.revokeObjectURL($e),document.body.removeChild(Ze)},onSuccess:()=>{t({title:"Reports exported successfully"})},onError:()=>{t({title:"Failed to export reports",variant:"destructive"})}}),Me=()=>{W.mutate()},qe=()=>{G.mutate()},Pe=()=>{le.mutate()},Oe=(B,me="user")=>{const $e={active:"default",suspended:"destructive",banned:"destructive",pending:"secondary",approved:"default",rejected:"destructive",open:"destructive",investigating:"secondary",resolved:"default",closed:"outline"};return r.jsx(Pt,{variant:$e[B]||"outline",className:"text-xs",children:B.charAt(0).toUpperCase()+B.slice(1)})},ke=B=>{const me={low:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",medium:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",high:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300"};return r.jsx(Pt,{className:`text-xs ${me[B]||me.low}`,children:B.charAt(0).toUpperCase()+B.slice(1)})},E=Y.filter(B=>u===""||B.name.toLowerCase().includes(u.toLowerCase())||B.email.toLowerCase().includes(u.toLowerCase()));return r.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[r.jsx(Tt,{}),r.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-8",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-3xl font-bold","data-testid":"admin-dashboard-title",children:"Admin Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage users, content, and platform operations"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap min-w-0",children:[r.jsxs(q,{variant:"outline",size:"sm","data-testid":"button-export-data",className:"whitespace-nowrap",children:[r.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Export Data"]}),r.jsxs(q,{variant:"outline",size:"sm","data-testid":"button-refresh-data",className:"whitespace-nowrap",children:[r.jsx(yc,{className:"w-4 h-4 mr-2"}),"Refresh"]})]})]}),r.jsxs(qa,{value:n,onValueChange:s,className:"space-y-6",children:[r.jsxs($i,{className:"grid w-full grid-cols-6",children:[r.jsx(bt,{value:"overview","data-testid":"tab-overview",children:"Overview"}),r.jsx(bt,{value:"users","data-testid":"tab-users",children:"Users"}),r.jsx(bt,{value:"moderation","data-testid":"tab-moderation",children:"Moderation"}),r.jsx(bt,{value:"disputes","data-testid":"tab-disputes",children:"Disputes"}),r.jsx(bt,{value:"analytics","data-testid":"tab-analytics",children:"Analytics"}),r.jsx(bt,{value:"settings","data-testid":"tab-settings",children:"Settings"})]}),r.jsxs(Nt,{value:"overview",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(se,{children:r.jsxs(ie,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"metric-total-users",children:R?"...":A==null?void 0:A.totalUsers.toLocaleString()})]}),r.jsx(ka,{className:"w-8 h-8 text-muted-foreground"})]}),r.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[r.jsx(Nd,{className:"w-4 h-4 text-green-500 mr-1"}),r.jsxs("span",{className:"text-green-500",children:["+",(A==null?void 0:A.monthlyGrowth)||0,"%"]}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"this month"})]})]})}),r.jsx(se,{children:r.jsxs(ie,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"metric-total-revenue",children:R?"...":`$${(((A==null?void 0:A.totalRevenue)||0)/100).toLocaleString()}`})]}),r.jsx(hr,{className:"w-8 h-8 text-muted-foreground"})]}),r.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[r.jsx(Nd,{className:"w-4 h-4 text-green-500 mr-1"}),r.jsxs("span",{className:"text-green-500",children:["+",(A==null?void 0:A.monthlyGrowth)||0,"%"]}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"this month"})]})]})}),r.jsx(se,{children:r.jsxs(ie,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Active Disputes"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"metric-active-disputes",children:R?"...":A==null?void 0:A.activeDisputes})]}),r.jsx(Eo,{className:"w-8 h-8 text-muted-foreground"})]}),r.jsx("div",{className:"flex items-center mt-4 text-sm",children:r.jsx("span",{className:"text-muted-foreground",children:"Requires attention"})})]})}),r.jsx(se,{children:r.jsxs(ie,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending Reviews"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"metric-pending-reviews",children:R?"...":A==null?void 0:A.pendingVerifications})]}),r.jsx(kl,{className:"w-8 h-8 text-muted-foreground"})]}),r.jsx("div",{className:"flex items-center mt-4 text-sm",children:r.jsx("span",{className:"text-muted-foreground",children:"Content moderation"})})]})})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Platform Summary"})}),r.jsx(ie,{children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"p-4 border rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(ka,{className:"w-5 h-5 text-blue-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Listings"}),r.jsx("div",{className:"text-xl font-semibold",children:(A==null?void 0:A.totalListings)||0})]})]})}),r.jsx("div",{className:"p-4 border rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(hr,{className:"w-5 h-5 text-green-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Transactions"}),r.jsx("div",{className:"text-xl font-semibold",children:(A==null?void 0:A.totalTransactions)||0})]})]})}),r.jsx("div",{className:"p-4 border rounded-lg",children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx(Jx,{className:"w-5 h-5 text-purple-500"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"text-sm text-muted-foreground",children:"Platform Growth"}),r.jsxs("div",{className:"text-xl font-semibold",children:["+",(A==null?void 0:A.monthlyGrowth)||0,"%"]})]})]})})]})})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Quick Actions"})}),r.jsx(ie,{children:r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs(q,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>s("disputes"),"data-testid":"button-review-disputes",children:[r.jsx(yg,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"Review Disputes"})]}),r.jsxs(q,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>s("moderation"),"data-testid":"button-moderate-content",children:[r.jsx(Ln,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"Moderate Content"})]}),r.jsxs(q,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>s("analytics"),"data-testid":"button-user-analytics",children:[r.jsx(ev,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"User Analytics"})]}),r.jsxs(q,{variant:"outline",className:"h-20 flex flex-col gap-2",onClick:()=>s("settings"),"data-testid":"button-system-settings",children:[r.jsx(Ah,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"System Settings"})]})]})})]})]}),r.jsx(Nt,{value:"users",className:"space-y-6",children:r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"User Management"})}),r.jsxs(ie,{children:[r.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-6",children:[r.jsx("div",{className:"flex-1",children:r.jsxs("div",{className:"relative",children:[r.jsx(ri,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(ze,{placeholder:"Search users by name or email...",value:u,onChange:B=>h(B.target.value),className:"pl-10","data-testid":"input-search-users"})]})}),r.jsxs(Bn,{value:m,onValueChange:p,children:[r.jsx(Mn,{className:"w-48","data-testid":"select-user-filter",children:r.jsx($n,{placeholder:"Filter users"})}),r.jsxs(An,{children:[r.jsx(je,{value:"all",children:"All Users"}),r.jsx(je,{value:"active",children:"Active"}),r.jsx(je,{value:"suspended",children:"Suspended"}),r.jsx(je,{value:"banned",children:"Banned"}),r.jsx(je,{value:"unverified",children:"Unverified"})]})]})]}),z?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading users..."})]}):r.jsx("div",{className:"space-y-2",children:E.map(B=>r.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg","data-testid":`user-row-${B.id}`,children:[r.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[r.jsx(zr,{children:r.jsx(Br,{children:B.name.slice(0,2).toUpperCase()})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"font-medium",children:B.name}),B.emailVerified&&r.jsx(Jn,{className:"w-4 h-4 text-green-500"})]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:B.email}),r.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground mt-1",children:[r.jsxs("span",{children:["Joined ",new Date(B.createdAt).toLocaleDateString()]}),r.jsxs("span",{children:["Spent: $",B.totalSpent.toLocaleString()]}),r.jsxs("span",{children:["Earned: $",B.totalEarned.toLocaleString()]}),r.jsxs("span",{children:["Reviews: ",B.reviewCount," (",B.averageRating.toFixed(1),")"]})]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[Oe(B.status),r.jsxs(bn,{children:[r.jsx(Xs,{asChild:!0,children:r.jsx(q,{variant:"outline",size:"sm",onClick:()=>o(B),"data-testid":`button-manage-user-${B.id}`,children:"Manage"})}),r.jsxs(ln,{children:[r.jsx(cn,{children:r.jsxs(dn,{children:["Manage User: ",B.name]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Status"}),r.jsx("p",{children:Oe(B.status)})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Email Verified"}),r.jsx("p",{children:B.emailVerified?"Yes":"No"})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Last Login"}),r.jsx("p",{children:B.lastLogin?new Date(B.lastLogin).toLocaleDateString():"Never"})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Member Since"}),r.jsx("p",{children:new Date(B.createdAt).toLocaleDateString()})]})]}),r.jsx(is,{}),r.jsx(Ts,{...J,children:r.jsxs("form",{onSubmit:J.handleSubmit(me=>U.mutate({id:B.id,data:me})),className:"space-y-4",children:[r.jsx(ct,{control:J.control,name:"action",render:({field:me})=>r.jsxs(it,{children:[r.jsx(at,{children:"Action"}),r.jsxs(Bn,{onValueChange:me.onChange,value:me.value,children:[r.jsx(dt,{children:r.jsx(Mn,{children:r.jsx($n,{placeholder:"Select action"})})}),r.jsxs(An,{children:[r.jsx(je,{value:"activate",children:"Activate User"}),r.jsx(je,{value:"suspend",children:"Suspend User"}),r.jsx(je,{value:"ban",children:"Ban User"}),r.jsx(je,{value:"verify",children:"Verify Email"})]})]}),r.jsx(ot,{})]})}),r.jsx(ct,{control:J.control,name:"reason",render:({field:me})=>r.jsxs(it,{children:[r.jsx(at,{children:"Reason"}),r.jsx(dt,{children:r.jsx(Vn,{placeholder:"Explain the reason for this action...",...me})}),r.jsx(ot,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{type:"button",variant:"outline",children:"Cancel"}),r.jsx(q,{type:"submit",disabled:U.isPending,children:U.isPending?"Processing...":"Execute Action"})]})]})})]})]})]})]})]},B.id))})]})]})}),r.jsx(Nt,{value:"moderation",className:"space-y-6",children:r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Content Moderation Queue"})}),r.jsx(ie,{children:V?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading moderation queue..."})]}):Z.length>0?r.jsx("div",{className:"space-y-4",children:Z.map(B=>r.jsx(se,{className:"border-l-4 border-l-yellow-500","data-testid":`moderation-item-${B.id}`,children:r.jsx(ie,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between mb-2",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Pt,{variant:"outline",className:"text-xs",children:B.type.charAt(0).toUpperCase()+B.type.slice(1)}),Oe(B.status,"content"),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Flagged ",new Date(B.createdAt).toLocaleDateString()]})]}),r.jsx("h4",{className:"font-medium mb-1",children:B.title}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Reason: ",B.flaggedReason," | Reported by: ",B.reportedBy]}),r.jsxs("div",{className:"bg-muted p-3 rounded-md text-sm",children:[B.content.substring(0,200),B.content.length>200&&"..."]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsxs(q,{size:"sm",variant:"outline",className:"text-green-600","data-testid":`button-approve-${B.id}`,children:[r.jsx(Jn,{className:"w-4 h-4 mr-1"}),"Approve"]}),r.jsxs(q,{size:"sm",variant:"outline",className:"text-red-600","data-testid":`button-reject-${B.id}`,children:[r.jsx(tv,{className:"w-4 h-4 mr-1"}),"Reject"]})]})]})})},B.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Ln,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No pending moderation"}),r.jsx("p",{className:"text-muted-foreground",children:"All content has been reviewed and approved."})]})})]})}),r.jsx(Nt,{value:"disputes",className:"space-y-6",children:r.jsxs(se,{children:[r.jsxs(Ie,{className:"flex flex-row items-center justify-between",children:[r.jsx(Fe,{children:"Dispute Management"}),r.jsxs(Bn,{value:x,onValueChange:j,children:[r.jsx(Mn,{className:"w-48","data-testid":"select-dispute-filter",children:r.jsx($n,{placeholder:"Filter disputes"})}),r.jsxs(An,{children:[r.jsx(je,{value:"all",children:"All Disputes"}),r.jsx(je,{value:"open",children:"Open"}),r.jsx(je,{value:"investigating",children:"Investigating"}),r.jsx(je,{value:"resolved",children:"Resolved"}),r.jsx(je,{value:"closed",children:"Closed"})]})]})]}),r.jsx(ie,{children:X?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading disputes..."})]}):te.length>0?r.jsx("div",{className:"space-y-4",children:te.map(B=>r.jsx(se,{className:"border-l-4 border-l-red-500","data-testid":`dispute-${B.id}`,children:r.jsx(ie,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[Oe(B.status,"dispute"),ke(B.priority),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Transaction #",B.transactionId]})]}),r.jsxs("h4",{className:"font-medium mb-2",children:[B.complainantName," vs ",B.respondentName]}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Amount: $",(B.amount/100).toLocaleString()," | Created: ",new Date(B.createdAt).toLocaleDateString()]}),r.jsx("p",{className:"text-sm bg-muted p-3 rounded-md",children:B.description})]}),r.jsxs(bn,{children:[r.jsx(Xs,{asChild:!0,children:r.jsx(q,{size:"sm",variant:"outline",onClick:()=>d(B),"data-testid":`button-manage-dispute-${B.id}`,children:"Manage"})}),r.jsxs(ln,{className:"max-w-2xl",children:[r.jsx(cn,{children:r.jsxs(dn,{children:["Dispute #",B.id," - ",B.complainantName," vs ",B.respondentName]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Status"}),r.jsx("p",{children:Oe(B.status,"dispute")})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Priority"}),r.jsx("p",{children:ke(B.priority)})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Amount"}),r.jsxs("p",{children:["$",(B.amount/100).toLocaleString()]})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Created"}),r.jsx("p",{children:new Date(B.createdAt).toLocaleDateString()})]})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Description"}),r.jsx("div",{className:"bg-muted p-3 rounded-md text-sm mt-1",children:B.description})]}),r.jsx(is,{}),r.jsx(Ts,{...ne,children:r.jsxs("form",{onSubmit:ne.handleSubmit(me=>k.mutate({id:B.id,data:me})),className:"space-y-4",children:[r.jsx(ct,{control:ne.control,name:"action",render:({field:me})=>r.jsxs(it,{children:[r.jsx(at,{children:"Action"}),r.jsxs(Bn,{onValueChange:me.onChange,value:me.value,children:[r.jsx(dt,{children:r.jsx(Mn,{children:r.jsx($n,{placeholder:"Select action"})})}),r.jsxs(An,{children:[r.jsx(je,{value:"investigate",children:"Start Investigation"}),r.jsx(je,{value:"resolve",children:"Resolve Dispute"}),r.jsx(je,{value:"close",children:"Close Dispute"}),r.jsx(je,{value:"escalate",children:"Escalate"})]})]}),r.jsx(ot,{})]})}),r.jsx(ct,{control:ne.control,name:"notes",render:({field:me})=>r.jsxs(it,{children:[r.jsx(at,{children:"Notes"}),r.jsx(dt,{children:r.jsx(Vn,{placeholder:"Add your resolution notes...",rows:4,...me})}),r.jsx(ot,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{type:"button",variant:"outline",children:"Cancel"}),r.jsx(q,{type:"submit",disabled:k.isPending,children:k.isPending?"Processing...":"Execute Action"})]})]})})]})]})]})]})})},B.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(yg,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No active disputes"}),r.jsx("p",{className:"text-muted-foreground",children:"The platform is running smoothly with no disputes to resolve."})]})})]})}),r.jsx(Nt,{value:"analytics",className:"space-y-6",children:r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Platform Analytics"})}),r.jsxs(ie,{children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:"User Growth"}),r.jsx(Nd,{className:"w-5 h-5 text-green-500"})]}),r.jsxs("div",{className:"text-2xl font-bold mb-1",children:["+",(A==null?void 0:A.monthlyGrowth)||0,"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Monthly growth rate"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:"Revenue Growth"}),r.jsx(hr,{className:"w-5 h-5 text-green-500"})]}),r.jsxs("div",{className:"text-2xl font-bold mb-1",children:["+",(A==null?void 0:A.monthlyGrowth)||0,"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"Monthly revenue growth"})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("h4",{className:"font-medium",children:"User Retention"}),r.jsx(ka,{className:"w-5 h-5 text-blue-500"})]}),r.jsxs("div",{className:"text-2xl font-bold mb-1",children:[(A==null?void 0:A.userRetention)||0,"%"]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"30-day retention rate"})]})]}),r.jsx(is,{className:"my-6"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-4",children:"Platform Statistics"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Users"}),r.jsx("span",{className:"font-medium",children:(A==null?void 0:A.totalUsers.toLocaleString())||0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Listings"}),r.jsx("span",{className:"font-medium",children:(A==null?void 0:A.totalListings.toLocaleString())||0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Transactions"}),r.jsx("span",{className:"font-medium",children:(A==null?void 0:A.totalTransactions.toLocaleString())||0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Total Revenue"}),r.jsxs("span",{className:"font-medium",children:["$",(((A==null?void 0:A.totalRevenue)||0)/100).toLocaleString()]})]})]})]}),r.jsxs("div",{className:"p-4 border rounded-lg",children:[r.jsx("h4",{className:"font-medium mb-4",children:"Platform Health"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Active Disputes"}),r.jsx("span",{className:"font-medium",children:(A==null?void 0:A.activeDisputes)||0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Pending Verifications"}),r.jsx("span",{className:"font-medium",children:(A==null?void 0:A.pendingVerifications)||0})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"Monthly Growth"}),r.jsxs("span",{className:"font-medium text-green-600",children:["+",(A==null?void 0:A.monthlyGrowth)||0,"%"]})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-sm text-muted-foreground",children:"User Retention"}),r.jsxs("span",{className:"font-medium",children:[(A==null?void 0:A.userRetention)||0,"%"]})]})]})]})]})]})]})}),r.jsx(Nt,{value:"settings",className:"space-y-6",children:r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Platform Settings"})}),r.jsx(ie,{children:r.jsxs("div",{className:"space-y-6",children:[r.jsxs(un,{children:[r.jsx(Ah,{className:"w-4 h-4"}),r.jsx(fn,{children:"Manage platform configuration, fees, and operational parameters."})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Commission & Fees"}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"platform-fee",children:"Platform Fee (%)"}),r.jsx(ze,{id:"platform-fee",type:"number",defaultValue:"10",className:"mt-1","data-testid":"input-platform-fee",value:C,onChange:B=>g(Number(B.target.value))}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Commission on completed projects"})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"payment-fee",children:"Payment Processing Fee (%)"}),r.jsx(ze,{id:"payment-fee",type:"number",defaultValue:"2.9",className:"mt-1","data-testid":"input-payment-fee",value:S,onChange:B=>_(Number(B.target.value))}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Stripe/payment gateway fee (covers platform costs)"})]})]}),r.jsx("div",{className:"mt-4 flex justify-end",children:r.jsx(q,{onClick:Me,disabled:W.isPending,"data-testid":"button-save-fees",children:W.isPending?"Saving...":"Save Fee Settings"})})]}),r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Email Notifications"}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Admin Email"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"support@omahasharehub.com"})]}),r.jsx(q,{variant:"outline",size:"sm","data-testid":"button-update-email",children:"Update"})]}),r.jsx(is,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"New User Notifications"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Email alerts for new registrations"})]}),r.jsx(q,{variant:"outline",size:"sm","data-testid":"button-toggle-user-notifications",children:"Enabled"})]}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:"Dispute Notifications"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Email alerts for new disputes"})]}),r.jsx(q,{variant:"outline",size:"sm","data-testid":"button-toggle-dispute-notifications",children:"Enabled"})]})]})]}),r.jsx(_Z,{}),r.jsxs("div",{className:"border rounded-lg p-4",children:[r.jsx("h3",{className:"font-semibold mb-4",children:"Data & Maintenance"}),r.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[r.jsxs(q,{variant:"outline",className:"h-20 flex flex-col gap-2","data-testid":"button-backup-data",onClick:qe,disabled:G.isPending,children:[r.jsx(Iz,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:G.isPending?"Creating...":"Backup Data"})]}),r.jsxs(q,{variant:"outline",className:"h-20 flex flex-col gap-2","data-testid":"button-export-reports",onClick:Pe,disabled:le.isPending,children:[r.jsx(Eh,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:le.isPending?"Exporting...":"Export Reports"})]}),r.jsxs(bn,{open:w,onOpenChange:N,children:[r.jsx(Xs,{asChild:!0,children:r.jsxs(q,{variant:"outline",className:"h-20 flex flex-col gap-2","data-testid":"button-system-logs",children:[r.jsx(Tl,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"System Logs"})]})}),r.jsxs(ln,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsx(cn,{children:r.jsx(dn,{children:"System Logs"})}),r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"Recent system activity and logs"}),r.jsxs("div",{className:"bg-muted rounded-lg p-4 font-mono text-xs space-y-1 max-h-96 overflow-y-auto",children:[r.jsxs("div",{children:["[",new Date().toISOString(),"] INFO: System operational"]}),r.jsxs("div",{children:["[",new Date().toISOString(),"] INFO: Admin dashboard accessed"]}),r.jsx("div",{className:"text-muted-foreground",children:"View full logs in server console or contact system administrator for detailed logs."})]})]})]})]}),r.jsxs(bn,{open:P,onOpenChange:M,children:[r.jsx(Xs,{asChild:!0,children:r.jsxs(q,{variant:"outline",className:"h-20 flex flex-col gap-2","data-testid":"button-terms-policies",children:[r.jsx(yg,{className:"w-6 h-6"}),r.jsx("span",{className:"text-sm",children:"Terms & Policies"})]})}),r.jsxs(ln,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[r.jsx(cn,{children:r.jsx(dn,{children:"Terms & Policies Management"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsx(un,{children:r.jsx(fn,{children:"Manage platform terms of service, privacy policy, and usage guidelines."})}),r.jsxs("div",{children:[r.jsx(pe,{children:"Terms of Service"}),r.jsx(Vn,{className:"mt-2 min-h-[200px] font-mono text-xs",defaultValue:"Terms of Service content will be managed here...",placeholder:"Enter terms of service..."})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"Privacy Policy"}),r.jsx(Vn,{className:"mt-2 min-h-[200px] font-mono text-xs",defaultValue:"Privacy Policy content will be managed here...",placeholder:"Enter privacy policy..."})]}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{variant:"outline",onClick:()=>M(!1),children:"Cancel"}),r.jsx(q,{onClick:()=>{t({title:"Terms & policies updated successfully"}),M(!1)},children:"Save Changes"})]})]})]})]})]})]})]})]})})]})})]})]}),r.jsx(Lt,{})]})}var kR="basil",NZ=function(t){return t===3?"v3":t},TR="https://js.stripe.com",SZ="".concat(TR,"/").concat(kR,"/stripe.js"),CZ=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,PZ=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,Ib="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",kZ=function(t){return CZ.test(t)||PZ.test(t)},TZ=function(){for(var t=document.querySelectorAll('script[src^="'.concat(TR,'"]')),n=0;n<t.length;n++){var s=t[n];if(kZ(s.src))return s}return null},Ob=function(t){var n="",s=document.createElement("script");s.src="".concat(SZ).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(s),s},EZ=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"7.9.0",startTime:n})},td=null,Rf=null,Lf=null,MZ=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},AZ=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},RZ=function(t){return td!==null?td:(td=new Promise(function(n,s){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(Ib),window.Stripe){n(window.Stripe);return}try{var i=TZ();if(i&&t)console.warn(Ib);else if(!i)i=Ob(t);else if(i&&Lf!==null&&Rf!==null){var o;i.removeEventListener("load",Lf),i.removeEventListener("error",Rf),(o=i.parentNode)===null||o===void 0||o.removeChild(i),i=Ob(t)}Lf=AZ(n,s),Rf=MZ(s),i.addEventListener("load",Lf),i.addEventListener("error",Rf)}catch(l){s(l);return}}),td.catch(function(n){return td=null,Promise.reject(n)}))},LZ=function(t,n,s){if(t===null)return null;var i=n[0],o=i.match(/^pk_test/),l=NZ(t.version),d=kR;o&&l!==d&&console.warn("Stripe.js@".concat(l," was loaded on the page, but @stripe/stripe-js@").concat("7.9.0"," expected Stripe.js@").concat(d,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=t.apply(void 0,n);return EZ(u,s),u},nd,ER=!1,MR=function(){return nd||(nd=RZ(null).catch(function(t){return nd=null,Promise.reject(t)}),nd)};Promise.resolve().then(function(){return MR()}).catch(function(e){ER||console.warn(e)});var AR=function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];ER=!0;var i=Date.now();return MR().then(function(o){return LZ(o,n,i)})},RR={exports:{}},IZ="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",OZ=IZ,DZ=OZ;function LR(){}function IR(){}IR.resetWarningCache=LR;var FZ=function(){function e(s,i,o,l,d,u){if(u!==DZ){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:IR,resetWarningCache:LR};return n.PropTypes=n,n};RR.exports=FZ();var zZ=RR.exports;const Ft=dm(zZ);function Db(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,s)}return n}function Fb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Db(Object(n),!0).forEach(function(s){OR(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Db(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function nh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?nh=function(t){return typeof t}:nh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function OR(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BZ(e,t){if(e==null)return{};var n={},s=Object.keys(e),i,o;for(o=0;o<s.length;o++)i=s[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function $Z(e,t){if(e==null)return{};var n=BZ(e,t),s,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)s=o[i],!(t.indexOf(s)>=0)&&Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function DR(e,t){return VZ(e)||UZ(e,t)||WZ(e,t)||HZ()}function VZ(e){if(Array.isArray(e))return e}function UZ(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var s=[],i=!0,o=!1,l,d;try{for(n=n.call(e);!(i=(l=n.next()).done)&&(s.push(l.value),!(t&&s.length===t));i=!0);}catch(u){o=!0,d=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(o)throw d}}return s}}function WZ(e,t){if(e){if(typeof e=="string")return zb(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zb(e,t)}}function zb(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function HZ(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ir=function(t,n,s){var i=!!s,o=he.useRef(s);he.useEffect(function(){o.current=s},[s]),he.useEffect(function(){if(!i||!t)return function(){};var l=function(){o.current&&o.current.apply(o,arguments)};return t.on(n,l),function(){t.off(n,l)}},[i,n,t,o])},Tv=function(t){var n=he.useRef(t);return he.useEffect(function(){n.current=t},[t]),n.current},dc=function(t){return t!==null&&nh(t)==="object"},qZ=function(t){return dc(t)&&typeof t.then=="function"},ZZ=function(t){return dc(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Bb="[object Object]",KZ=function e(t,n){if(!dc(t)||!dc(n))return t===n;var s=Array.isArray(t),i=Array.isArray(n);if(s!==i)return!1;var o=Object.prototype.toString.call(t)===Bb,l=Object.prototype.toString.call(n)===Bb;if(o!==l)return!1;if(!o&&!s)return t===n;var d=Object.keys(t),u=Object.keys(n);if(d.length!==u.length)return!1;for(var h={},m=0;m<d.length;m+=1)h[d[m]]=!0;for(var p=0;p<u.length;p+=1)h[u[p]]=!0;var x=Object.keys(h);if(x.length!==d.length)return!1;var j=t,C=n,g=function(_){return e(j[_],C[_])};return x.every(g)},FR=function(t,n,s){return dc(t)?Object.keys(t).reduce(function(i,o){var l=!dc(n)||!KZ(t[o],n[o]);return s.includes(o)?(l&&console.warn("Unsupported prop change: options.".concat(o," is not a mutable property.")),i):l?Fb(Fb({},i||{}),{},OR({},o,t[o])):i},null):null},zR="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",$b=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zR;if(t===null||ZZ(t))return t;throw new Error(n)},GZ=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zR;if(qZ(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return $b(i,n)})};var s=$b(t,n);return s===null?{tag:"empty"}:{tag:"sync",stripe:s}},YZ=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"4.0.2"}),t.registerAppInfo({name:"react-stripe-js",version:"4.0.2",url:"https://stripe.com/docs/stripe-js/react"}))},lp=he.createContext(null);lp.displayName="ElementsContext";var BR=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},t0=function(t){var n=t.stripe,s=t.options,i=t.children,o=he.useMemo(function(){return GZ(n)},[n]),l=he.useState(function(){return{stripe:o.tag==="sync"?o.stripe:null,elements:o.tag==="sync"?o.stripe.elements(s):null}}),d=DR(l,2),u=d[0],h=d[1];he.useEffect(function(){var x=!0,j=function(g){h(function(S){return S.stripe?S:{stripe:g,elements:g.elements(s)}})};return o.tag==="async"&&!u.stripe?o.stripePromise.then(function(C){C&&x&&j(C)}):o.tag==="sync"&&!u.stripe&&j(o.stripe),function(){x=!1}},[o,u,s]);var m=Tv(n);he.useEffect(function(){m!==null&&m!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[m,n]);var p=Tv(s);return he.useEffect(function(){if(u.elements){var x=FR(s,p,["clientSecret","fonts"]);x&&u.elements.update(x)}},[s,p,u.elements]),he.useEffect(function(){YZ(u.stripe)},[u.stripe]),he.createElement(lp.Provider,{value:u},i)};t0.propTypes={stripe:Ft.any,options:Ft.object};var QZ=function(t){var n=he.useContext(lp);return BR(n,t)},$R=function(){var t=QZ("calls useElements()"),n=t.elements;return n};Ft.func.isRequired;var VR=he.createContext(null);VR.displayName="CheckoutContext";Ft.any,Ft.shape({fetchClientSecret:Ft.func.isRequired,elementsOptions:Ft.object}).isRequired;var Ev=function(t){var n=he.useContext(VR),s=he.useContext(lp);if(n){if(s)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return BR(s,t)},XZ=["mode"],JZ=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},pn=function(t,n){var s="".concat(JZ(t),"Element"),i=function(u){var h=u.id,m=u.className,p=u.options,x=p===void 0?{}:p,j=u.onBlur,C=u.onFocus,g=u.onReady,S=u.onChange,_=u.onEscape,w=u.onClick,N=u.onLoadError,P=u.onLoaderStart,M=u.onNetworksChange,A=u.onConfirm,R=u.onCancel,F=u.onShippingAddressChange,Y=u.onShippingRateChange,z=u.onSavedPaymentMethodRemove,Z=u.onSavedPaymentMethodUpdate,V=Ev("mounts <".concat(s,">")),te="elements"in V?V.elements:null,X="checkoutState"in V?V.checkoutState:null,J=(X==null?void 0:X.type)==="success"?X.checkout:null,ne=he.useState(null),U=DR(ne,2),k=U[0],W=U[1],G=he.useRef(null),le=he.useRef(null);ir(k,"blur",j),ir(k,"focus",C),ir(k,"escape",_),ir(k,"click",w),ir(k,"loaderror",N),ir(k,"loaderstart",P),ir(k,"networkschange",M),ir(k,"confirm",A),ir(k,"cancel",R),ir(k,"shippingaddresschange",F),ir(k,"shippingratechange",Y),ir(k,"savedpaymentmethodremove",z),ir(k,"savedpaymentmethodupdate",Z),ir(k,"change",S);var Me;g&&(t==="expressCheckout"?Me=g:Me=function(){g(k)}),ir(k,"ready",Me),he.useLayoutEffect(function(){if(G.current===null&&le.current!==null&&(te||J)){var Pe=null;if(J)switch(t){case"payment":Pe=J.createPaymentElement(x);break;case"address":if("mode"in x){var Oe=x.mode,ke=$Z(x,XZ);if(Oe==="shipping")Pe=J.createShippingAddressElement(ke);else if(Oe==="billing")Pe=J.createBillingAddressElement(ke);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":Pe=J.createExpressCheckoutElement(x);break;case"currencySelector":Pe=J.createCurrencySelectorElement();break;case"taxId":Pe=J.createTaxIdElement(x);break;default:throw new Error("Invalid Element type ".concat(s,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else te&&(Pe=te.create(t,x));G.current=Pe,W(Pe),Pe&&Pe.mount(le.current)}},[te,J,x]);var qe=Tv(x);return he.useEffect(function(){if(G.current){var Pe=FR(x,qe,["paymentRequest"]);Pe&&"update"in G.current&&G.current.update(Pe)}},[x,qe]),he.useLayoutEffect(function(){return function(){if(G.current&&typeof G.current.destroy=="function")try{G.current.destroy(),G.current=null}catch{}}},[]),he.createElement("div",{id:h,className:m,ref:le})},o=function(u){Ev("mounts <".concat(s,">"));var h=u.id,m=u.className;return he.createElement("div",{id:h,className:m})},l=n?o:i;return l.propTypes={id:Ft.string,className:Ft.string,onChange:Ft.func,onBlur:Ft.func,onFocus:Ft.func,onReady:Ft.func,onEscape:Ft.func,onClick:Ft.func,onLoadError:Ft.func,onLoaderStart:Ft.func,onNetworksChange:Ft.func,onConfirm:Ft.func,onCancel:Ft.func,onShippingAddressChange:Ft.func,onShippingRateChange:Ft.func,onSavedPaymentMethodRemove:Ft.func,onSavedPaymentMethodUpdate:Ft.func,options:Ft.object},l.displayName=s,l.__elementType=t,l},gn=typeof window>"u",eK=he.createContext(null);eK.displayName="EmbeddedCheckoutProviderContext";var UR=function(){var t=Ev("calls useStripe()"),n=t.stripe;return n};pn("auBankAccount",gn);var sm=pn("card",gn);pn("cardNumber",gn);pn("cardExpiry",gn);pn("cardCvc",gn);pn("fpxBank",gn);pn("iban",gn);pn("idealBank",gn);pn("p24Bank",gn);pn("epsBank",gn);pn("payment",gn);pn("expressCheckout",gn);pn("paymentRequestButton",gn);pn("linkAuthentication",gn);pn("address",gn);pn("shippingAddress",gn);pn("paymentMethodMessaging",gn);pn("affirmMessage",gn);pn("afterpayClearpayMessage",gn);pn("taxId",gn);const tK=AR("");function nK({booking:e,depositPercentage:t=10,onSuccess:n,onCancel:s}){const i=UR(),o=$R(),{toast:l}=mn(),[d,u]=v.useState(!0),[h,m]=v.useState(""),p=ut({mutationFn:async()=>{if(!i||!o||!e)throw new Error("Stripe not initialized");const j=o.getElement(sm);if(!j)throw new Error("Card element not found");const{error:C,paymentMethod:g}=await i.createPaymentMethod({type:"card",card:j,billing_details:{name:h}});if(C)throw new Error(C.message);return await Xe("POST",`/api/escrow/${e.id}/deposit`,{payment_method_id:g.id,save_pm:d})},onSuccess:()=>{wt.invalidateQueries({predicate:j=>Array.isArray(j.queryKey)&&j.queryKey[0]==="/api/bookings"}),l({title:"Deposit Paid Successfully!",description:"Your deposit has been processed and the project is now funded."}),n()},onError:j=>{l({variant:"destructive",title:"Payment Failed",description:j.message||"Failed to process deposit payment"})}});if(!e)return null;const x=Math.round(e.totalCents*(t/100));return r.jsxs("div",{className:"space-y-4",children:[r.jsxs(un,{className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:[r.jsx(Am,{className:"w-4 h-4"}),r.jsx(fn,{children:r.jsxs("div",{className:"space-y-2",children:[r.jsx("p",{className:"font-medium text-foreground",children:"Booking Details:"}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Project:"})," ",e.listingTitle]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Owner:"})," ",e.ownerName]}),r.jsxs("p",{className:"text-sm",children:[r.jsx("strong",{children:"Date:"})," ",new Date(e.startAt).toLocaleDateString()]}),r.jsxs("div",{className:"mt-3 pt-3 border-t border-blue-200 dark:border-blue-800",children:[r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Budgeted Amount: $",(e.totalCents/100).toLocaleString()]}),r.jsxs("p",{className:"text-lg font-bold text-foreground mt-1",children:["Deposit (",t,"%): $",(x/100).toLocaleString()]})]})]})})]}),r.jsxs(un,{children:[r.jsx(Ln,{className:"w-4 h-4"}),r.jsx(fn,{children:"Your payment is processed securely via Stripe. The deposit is held in escrow until the provider proposes a final amount and you approve it."})]}),r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"cardholder-name",children:"Cardholder Name"}),r.jsx(ze,{id:"cardholder-name",value:h,onChange:j=>m(j.target.value),placeholder:"John Doe","data-testid":"input-cardholder-name"})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"Card Details"}),r.jsx("div",{className:"border rounded-md p-3 bg-background",children:r.jsx(sm,{options:{style:{base:{fontSize:"16px",color:"hsl(var(--foreground))","::placeholder":{color:"hsl(var(--muted-foreground))"}}}}})})]}),r.jsxs("div",{className:"flex items-center space-x-2",children:[r.jsx(Di,{id:"save-payment",checked:d,onCheckedChange:j=>u(j),"data-testid":"checkbox-save-payment-method"}),r.jsx(pe,{htmlFor:"save-payment",className:"text-sm cursor-pointer",children:"Save payment method for future charges (if final amount exceeds deposit)"})]})]}),r.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[r.jsx(q,{variant:"outline",onClick:s,disabled:p.isPending,"data-testid":"button-cancel-deposit",children:"Cancel"}),r.jsx(q,{className:"bg-[hsl(15,80%,55%)] hover:bg-[hsl(15,80%,45%)] text-white",onClick:()=>p.mutate(),disabled:p.isPending||!i||!h,"data-testid":"button-pay-deposit",children:p.isPending?r.jsxs(r.Fragment,{children:[r.jsx(yc,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(ya,{className:"w-4 h-4 mr-2"}),"Pay $",(x/100).toLocaleString()," Deposit"]})})]})]})}function rK({open:e,onOpenChange:t,booking:n,depositPercentage:s=10}){return r.jsx(bn,{open:e,onOpenChange:t,children:r.jsxs(ln,{className:"max-w-lg",children:[r.jsx(cn,{children:r.jsx(dn,{children:"Pay Deposit"})}),r.jsx(t0,{stripe:tK,children:r.jsx(nK,{booking:n,depositPercentage:s,onSuccess:()=>t(!1),onCancel:()=>t(!1)})})]})})}function sK({open:e,onOpenChange:t,booking:n}){const{toast:s}=mn(),[i,o]=v.useState(""),[l,d]=v.useState(""),u=ut({mutationFn:async()=>{if(!n)throw new Error("No booking selected");const C=Math.round(parseFloat(i)*100);if(isNaN(C)||C<=0)throw new Error("Invalid amount");return await Xe("POST",`/api/escrow/${n.id}/propose-final`,{final_cents:C,note:l||void 0})},onSuccess:C=>{wt.invalidateQueries({predicate:_=>Array.isArray(_.queryKey)&&_.queryKey[0]==="/api/bookings"});const g=C.delta||0,S=Math.abs(g/100).toLocaleString();s({title:"Final Amount Proposed",description:g>0?`You've proposed $${S} more than the deposit. Awaiting homeowner approval.`:g<0?`You've proposed $${S} less than the deposit. Awaiting homeowner approval.`:"Final amount matches deposit. Awaiting homeowner approval."}),o(""),d(""),t(!1)},onError:C=>{s({variant:"destructive",title:"Failed to Propose Final Amount",description:C.message||"An error occurred while proposing the final amount"})}});if(!n)return null;const h=n.amountDepositCents||0,m=n.amountBudgetedCents||0,p=parseFloat(i)*100||0,x=p-h,j=Math.round(h*1.25);return r.jsx(bn,{open:e,onOpenChange:t,children:r.jsxs(ln,{className:"max-w-lg",children:[r.jsx(cn,{children:r.jsx(dn,{children:"Propose Final Amount"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(un,{className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:[r.jsx(Am,{className:"w-4 h-4"}),r.jsx(fn,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"font-medium text-foreground",children:["Project: ",n.listingTitle]}),r.jsxs("p",{className:"text-sm",children:["Client: ",n.ownerName]}),r.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-200 dark:border-blue-800",children:[r.jsxs("p",{className:"text-sm",children:["Original Budget: $",(m/100).toLocaleString()]}),r.jsxs("p",{className:"text-sm font-medium",children:["Deposit Paid: $",(h/100).toLocaleString()]})]})]})})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"final-amount",children:"Final Amount ($)"}),r.jsxs("div",{className:"relative",children:[r.jsx(hr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(ze,{id:"final-amount",type:"number",min:"0",step:"0.01",value:i,onChange:C=>o(C.target.value),placeholder:"0.00",className:"pl-9","data-testid":"input-final-amount"})]}),p>0&&r.jsxs("p",{className:`text-sm mt-1 ${x>0?"text-orange-600 dark:text-orange-400":x<0?"text-green-600 dark:text-green-400":"text-muted-foreground"}`,children:[x>0&&`Additional charge: $${(x/100).toLocaleString()}`,x<0&&`Refund to client: $${(Math.abs(x)/100).toLocaleString()}`,x===0&&"Matches deposit amount"]})]}),p>j&&r.jsxs(un,{variant:"destructive",children:[r.jsx(Eo,{className:"w-4 h-4"}),r.jsxs(fn,{children:["Final amount cannot exceed 25% over deposit ($",(j/100).toLocaleString(),"). Contact admin for approval of larger increases."]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"proposal-note",children:"Explanation (Optional)"}),r.jsx(Vn,{id:"proposal-note",value:l,onChange:C=>d(C.target.value),placeholder:"Explain any changes from the original estimate...",rows:3,"data-testid":"textarea-proposal-note"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"If the final amount differs from the deposit, explain why to the homeowner."})]}),r.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[r.jsx(q,{variant:"outline",onClick:()=>{o(""),d(""),t(!1)},disabled:u.isPending,"data-testid":"button-cancel-proposal",children:"Cancel"}),r.jsx(q,{className:"bg-[hsl(15,80%,55%)] hover:bg-[hsl(15,80%,45%)] text-white",onClick:()=>u.mutate(),disabled:u.isPending||!i||p<=0||p>j,"data-testid":"button-submit-proposal",children:u.isPending?r.jsxs(r.Fragment,{children:[r.jsx(yc,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):"Submit Proposal"})]})]})]})})}const iK=AR("");function aK({booking:e,onSuccess:t,onCancel:n}){const s=UR(),i=$R(),{toast:o}=mn(),[l,d]=v.useState(!1),[u,h]=v.useState("");if(!e)return null;const m=e.amountDeltaCents||0,p=m>0&&!e.homeownerPmSaved,x=ut({mutationFn:async()=>{if(!e)throw new Error("No booking selected");let j;if(p){if(!s||!i)throw new Error("Stripe not initialized");const g=i.getElement(sm);if(!g)throw new Error("Card element not found");const{error:S,paymentMethod:_}=await s.createPaymentMethod({type:"card",card:g,billing_details:{name:u}});if(S)throw new Error(S.message);j=_.id}return await Xe("POST",`/api/escrow/${e.id}/approve-final`,{agree:!0,payment_method_id:j})},onSuccess:j=>{wt.invalidateQueries({predicate:C=>Array.isArray(C.queryKey)&&C.queryKey[0]==="/api/bookings"}),o({title:"Final Amount Approved!",description:m>0?`Additional charge of $${(m/100).toLocaleString()} processed successfully.`:m<0?`Refund of $${(Math.abs(m)/100).toLocaleString()} processed successfully.`:"Final amount approved. Ready for settlement."}),t()},onError:j=>{o({variant:"destructive",title:"Approval Failed",description:j.message||"Failed to approve final amount"})}});return r.jsxs("div",{className:"space-y-4",children:[r.jsxs(un,{className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:[r.jsx(Am,{className:"w-4 h-4"}),r.jsx(fn,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"font-medium text-foreground",children:["Project: ",e.listingTitle]}),r.jsxs("p",{className:"text-sm",children:["Provider: ",e.providerName]}),r.jsxs("div",{className:"mt-2 pt-2 border-t border-blue-200 dark:border-blue-800",children:[r.jsxs("p",{className:"text-sm",children:["Deposit Paid: $",((e.amountDepositCents||0)/100).toLocaleString()]}),r.jsxs("p",{className:"text-lg font-bold text-foreground mt-1",children:["Final Amount: $",((e.amountFinalCents||0)/100).toLocaleString()]}),m!==0&&r.jsxs("p",{className:`text-sm mt-1 ${m>0?"text-orange-600 dark:text-orange-400":"text-green-600 dark:text-green-400"}`,children:[m>0?"Additional charge":"Refund",": $",(Math.abs(m)/100).toLocaleString()]})]})]})})]}),e.finalProposalNote&&r.jsxs(un,{children:[r.jsx(hr,{className:"w-4 h-4"}),r.jsxs(fn,{children:[r.jsx("p",{className:"font-medium mb-1",children:"Provider's Note:"}),r.jsx("p",{className:"text-sm",children:e.finalProposalNote})]})]}),m>0&&!e.homeownerPmSaved&&r.jsxs(un,{variant:"default",className:"bg-orange-50 dark:bg-orange-950 border-orange-200 dark:border-orange-800",children:[r.jsx(Eo,{className:"w-4 h-4 text-orange-600"}),r.jsxs(fn,{className:"text-orange-900 dark:text-orange-100",children:[r.jsx("p",{className:"font-medium",children:"Additional Payment Required"}),r.jsxs("p",{className:"text-sm mt-1",children:["The final amount is $",(Math.abs(m)/100).toLocaleString()," more than your deposit. Please provide payment details below."]})]})]}),p&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"cardholder-name-approve",children:"Cardholder Name"}),r.jsx(ze,{id:"cardholder-name-approve",value:u,onChange:j=>h(j.target.value),placeholder:"John Doe","data-testid":"input-cardholder-name-approve"})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"Card Details"}),r.jsx("div",{className:"border rounded-md p-3 bg-background",children:r.jsx(sm,{options:{style:{base:{fontSize:"16px",color:"hsl(var(--foreground))","::placeholder":{color:"hsl(var(--muted-foreground))"}}}}})})]})]}),r.jsxs("div",{className:"flex items-start space-x-2 pt-2",children:[r.jsx(Di,{id:"agree-final",checked:l,onCheckedChange:j=>d(j),"data-testid":"checkbox-agree-final"}),r.jsxs(pe,{htmlFor:"agree-final",className:"text-sm cursor-pointer leading-relaxed",children:["I approve the final amount of $",((e.amountFinalCents||0)/100).toLocaleString()," and authorize payment",m>0&&" of the additional amount",m<0&&" and refund processing","."]})]}),r.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[r.jsx(q,{variant:"outline",onClick:n,disabled:x.isPending,"data-testid":"button-cancel-approve",children:"Cancel"}),r.jsx(q,{className:"bg-[hsl(15,80%,55%)] hover:bg-[hsl(15,80%,45%)] text-white",onClick:()=>x.mutate(),disabled:x.isPending||!l||p&&!u,"data-testid":"button-approve-final",children:x.isPending?r.jsxs(r.Fragment,{children:[r.jsx(yc,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Jn,{className:"w-4 h-4 mr-2"}),m>0?`Approve & Pay $${(Math.abs(m)/100).toLocaleString()}`:"Approve Final Amount"]})})]})]})}function oK({open:e,onOpenChange:t,booking:n}){return r.jsx(bn,{open:e,onOpenChange:t,children:r.jsxs(ln,{className:"max-w-lg",children:[r.jsx(cn,{children:r.jsx(dn,{children:"Approve Final Amount"})}),r.jsx(t0,{stripe:iK,children:r.jsx(aK,{booking:n,onSuccess:()=>t(!1),onCancel:()=>t(!1)})})]})})}function lK({open:e,onOpenChange:t,booking:n,userRole:s}){const{toast:i}=mn(),[o,l]=v.useState("0"),[d,u]=v.useState(!1),h=ut({mutationFn:async()=>{if(!n)throw new Error("No booking selected");const g=Math.round(parseFloat(o)*100);if(isNaN(g)||g<0||g>1e4)throw new Error("Invalid retainage percentage");return await Xe("POST",`/api/escrow/${n.id}/settle`,{retainage_bps:g})},onSuccess:g=>{wt.invalidateQueries({predicate:_=>Array.isArray(_.queryKey)&&_.queryKey[0]==="/api/bookings"});const S=g.retainageHeld||0;i({title:"Payment Settled!",description:S>0?`$${(g.payoutAmount/100).toLocaleString()} transferred to provider. $${(S/100).toLocaleString()} held in retainage.`:`$${(g.payoutAmount/100).toLocaleString()} transferred to provider.`}),l("0"),u(!1),t(!1)},onError:g=>{i({variant:"destructive",title:"Settlement Failed",description:g.message||"Failed to settle payment"})}});if(!n)return null;const m=n.amountFundedCents||0,p=Math.round(m*5/100),x=parseFloat(o)*100||0,j=Math.round(m*x/1e4),C=m-p-j;return r.jsx(bn,{open:e,onOpenChange:t,children:r.jsxs(ln,{className:"max-w-lg",children:[r.jsx(cn,{children:r.jsx(dn,{children:"Settle Payment"})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs(un,{className:"bg-blue-50 dark:bg-blue-950 border-blue-200 dark:border-blue-800",children:[r.jsx(Am,{className:"w-4 h-4"}),r.jsx(fn,{children:r.jsxs("div",{className:"space-y-1",children:[r.jsxs("p",{className:"font-medium text-foreground",children:["Project: ",n.listingTitle]}),r.jsxs("p",{className:"text-sm",children:["Provider: ",n.providerName]}),r.jsx("div",{className:"mt-2 pt-2 border-t border-blue-200 dark:border-blue-800",children:r.jsxs("p",{className:"text-lg font-bold text-foreground",children:["Total Funded: $",(m/100).toLocaleString()]})})]})})]}),r.jsxs(un,{children:[r.jsx(hr,{className:"w-4 h-4"}),r.jsxs(fn,{children:[r.jsx("p",{className:"font-medium mb-2",children:"Payment Breakdown:"}),r.jsxs("div",{className:"space-y-1 text-sm",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Total Funded:"}),r.jsxs("span",{className:"font-medium",children:["$",(m/100).toLocaleString()]})]}),r.jsxs("div",{className:"flex justify-between text-orange-600 dark:text-orange-400",children:[r.jsx("span",{children:"Platform Fee (5%):"}),r.jsxs("span",{children:["-$",(p/100).toLocaleString()]})]}),j>0&&r.jsxs("div",{className:"flex justify-between text-orange-600 dark:text-orange-400",children:[r.jsxs("span",{children:["Retainage (",o,"%):"]}),r.jsxs("span",{children:["-$",(j/100).toLocaleString()]})]}),r.jsxs("div",{className:"pt-2 border-t border-border flex justify-between font-bold text-base",children:[r.jsx("span",{children:"Provider Payout:"}),r.jsxs("span",{className:"text-green-600 dark:text-green-400",children:["$",(C/100).toLocaleString()]})]})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"retainage-percent",children:"Retainage Holdback (%) - Optional"}),r.jsx(ze,{id:"retainage-percent",type:"number",min:"0",max:"100",step:"0.1",value:o,onChange:g=>l(g.target.value),placeholder:"0","data-testid":"input-retainage-percent"}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Optionally hold back a percentage for warranty/quality assurance. Can be released later."})]}),j>0&&r.jsxs(un,{className:"bg-yellow-50 dark:bg-yellow-950 border-yellow-200 dark:border-yellow-800",children:[r.jsx(Eo,{className:"w-4 h-4 text-yellow-600"}),r.jsxs(fn,{className:"text-yellow-900 dark:text-yellow-100",children:["$",(j/100).toLocaleString()," will be held back. You'll need to manually release it later when satisfied with the work."]})]}),r.jsxs("div",{className:"flex items-start space-x-2 pt-2",children:[r.jsx(Di,{id:"confirm-settle",checked:d,onCheckedChange:g=>u(g),"data-testid":"checkbox-confirm-settle"}),r.jsxs(pe,{htmlFor:"confirm-settle",className:"text-sm cursor-pointer leading-relaxed",children:["I confirm the work is complete and authorize payment of $",(C/100).toLocaleString()," to the provider."]})]}),r.jsxs("div",{className:"flex gap-2 justify-end pt-2",children:[r.jsx(q,{variant:"outline",onClick:()=>{l("0"),u(!1),t(!1)},disabled:h.isPending,"data-testid":"button-cancel-settle",children:"Cancel"}),r.jsx(q,{className:"bg-[hsl(15,80%,55%)] hover:bg-[hsl(15,80%,45%)] text-white",onClick:()=>h.mutate(),disabled:h.isPending||!d,"data-testid":"button-confirm-settle",children:h.isPending?r.jsxs(r.Fragment,{children:[r.jsx(yc,{className:"w-4 h-4 mr-2 animate-spin"}),"Settling..."]}):r.jsxs(r.Fragment,{children:[r.jsx(Tz,{className:"w-4 h-4 mr-2"}),"Settle Payment"]})})]})]})]})})}const cK=ee.object({action:ee.enum(["confirm","cancel","reschedule","complete"]),reason:ee.string().optional(),notes:ee.string().optional(),newDateTime:ee.string().optional()}),dK=ee.object({date:ee.string(),startTime:ee.string(),endTime:ee.string(),isAvailable:ee.boolean(),notes:ee.string().optional()}),uK=ee.object({startDate:ee.string(),endDate:ee.string(),weekdays:ee.array(ee.number()),startTime:ee.string(),endTime:ee.string(),excludeDates:ee.array(ee.string()).optional()});function Vb(){const{user:e}=Sn(),{toast:t}=mn(),[n,s]=v.useState("bookings"),[i,o]=v.useState(null),[l,d]=v.useState(new Date),[u,h]=v.useState("all"),[m,p]=v.useState(""),[x,j]=v.useState(!1),[C,g]=v.useState(!1),[S,_]=v.useState(!1),[w,N]=v.useState(!1),[P,M]=v.useState(!1),[A,R]=v.useState(!1),[F,Y]=v.useState(null);if(!e)return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ln,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Access Required"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Please log in to manage your bookings."}),r.jsx(q,{onClick:()=>window.location.href="/login",children:"Sign In"})]})}),r.jsx(Lt,{})]});const{data:z=[],isLoading:Z}=Je({queryKey:["/api/bookings",e.id,u],queryFn:async()=>{const E=new URLSearchParams;u!=="all"&&E.append("status",u);const B=await fetch(`/api/bookings/user/${e.id}?${E}`);if(!B.ok)throw new Error("Failed to fetch bookings");return B.json()}}),{data:V=[],isLoading:te}=Je({queryKey:["/api/availability",e.id,l.getFullYear(),l.getMonth()],queryFn:async()=>{const E=l.getFullYear(),B=l.getMonth()+1,me=await fetch(`/api/availability/${e.id}?year=${E}&month=${B}`);if(!me.ok)throw new Error("Failed to fetch availability");return me.json()},enabled:e.roleProvider}),X=Wn({resolver:Hn(cK)}),J=Wn({resolver:Hn(dK),defaultValues:{date:new Date().toISOString().split("T")[0],isAvailable:!0}}),ne=Wn({resolver:Hn(uK),defaultValues:{weekdays:[1,2,3,4,5],startTime:"09:00",endTime:"17:00"}}),U=ut({mutationFn:async({id:E,data:B})=>(await Xe("POST",`/api/bookings/${E}/action`,B)).json(),onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/bookings",e.id,u]}),t({title:"Booking action completed successfully"}),o(null)},onError:()=>{t({title:"Failed to complete booking action",variant:"destructive"})}}),k=ut({mutationFn:async({bookingId:E,action:B})=>(await Xe("POST",`/api/bookings/${E}/respond`,{action:B})).json(),onSuccess:(E,{action:B})=>{wt.invalidateQueries({predicate:me=>Array.isArray(me.queryKey)&&me.queryKey[0]==="/api/bookings"}),t({title:B==="accept"?"Booking Request Accepted":"Booking Request Declined",description:B==="accept"?"You now need to complete payment to confirm the booking.":"The provider has been notified that their request was declined."})},onError:()=>{t({title:"Failed to respond to booking request",variant:"destructive"})}});ut({mutationFn:async E=>await(await Xe("POST","/api/create-payment-intent",{bookingId:E})).json(),onSuccess:E=>{var me;wt.invalidateQueries({predicate:$e=>Array.isArray($e.queryKey)&&$e.queryKey[0]==="/api/bookings"}),setShowPaymentDialog(!1),setPaymentBooking(null);const B=((me=E.booking)==null?void 0:me.status)==="paid";t({title:B?"Payment Successful!":"Payment Processing",description:B?"Your booking has been confirmed and payment is complete.":"Payment is being processed. You'll be notified when it's complete."})},onError:E=>{t({title:"Payment Failed",description:E.message,variant:"destructive"})}});const W=ut({mutationFn:async E=>(await Xe("POST","/api/availability",E)).json(),onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/availability"]}),t({title:"Availability added successfully"}),j(!1),J.reset({date:new Date().toISOString().split("T")[0],isAvailable:!0,startTime:"",endTime:"",notes:""})},onError:()=>{t({title:"Failed to add availability",variant:"destructive"})}}),G=ut({mutationFn:async E=>(await Xe("POST","/api/availability/bulk",E)).json(),onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/availability"]}),t({title:"Bulk availability set successfully"}),g(!1),ne.reset({weekdays:[1,2,3,4,5],startTime:"09:00",endTime:"17:00",startDate:"",endDate:""})},onError:()=>{t({title:"Failed to set bulk availability",variant:"destructive"})}}),le=E=>{const B={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",accepted:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",unfunded:"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-300",funded:"bg-cyan-100 text-cyan-800 dark:bg-cyan-900 dark:text-cyan-300",final_proposed:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300",final_approved:"bg-indigo-100 text-indigo-800 dark:bg-indigo-900 dark:text-indigo-300",paid:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",in_progress:"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300",partial_released:"bg-teal-100 text-teal-800 dark:bg-teal-900 dark:text-teal-300",settled:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",completed:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",declined:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",canceled:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",disputed:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",no_show:"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300"};return r.jsx(Pt,{className:`text-xs ${B[E]||B.pending}`,children:E.replace("_"," ").charAt(0).toUpperCase()+E.replace("_"," ").slice(1)})},Me=E=>{const B={pending:"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-300",paid:"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300",failed:"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-300",refunded:"bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-300"};return r.jsx(Pt,{className:`text-xs ${B[E]||B.pending}`,children:E.charAt(0).toUpperCase()+E.slice(1)})},qe=z.filter(E=>m===""||E.listingTitle.toLowerCase().includes(m.toLowerCase())||E.ownerName.toLowerCase().includes(m.toLowerCase())||E.providerName.toLowerCase().includes(m.toLowerCase())),Pe=z.filter(E=>new Date(E.startAt)>new Date&&E.status==="confirmed").length,Oe=z.filter(E=>E.status==="pending").length,ke=z.filter(E=>E.status==="completed").length;return r.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[r.jsx(Tt,{}),r.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-8",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-3xl font-bold","data-testid":"booking-management-title",children:"Booking Management"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your bookings and availability"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap min-w-0",children:[e.roleProvider&&r.jsxs(bn,{open:C,onOpenChange:g,children:[r.jsx(Xs,{asChild:!0,children:r.jsxs(q,{variant:"outline",size:"sm","data-testid":"button-bulk-availability",className:"whitespace-nowrap",children:[r.jsx(Or,{className:"w-4 h-4 mr-2"}),"Set Bulk Availability"]})}),r.jsxs(ln,{className:"max-w-lg",children:[r.jsx(cn,{children:r.jsx(dn,{children:"Set Bulk Availability"})}),r.jsx(Ts,{...ne,children:r.jsxs("form",{onSubmit:ne.handleSubmit(E=>G.mutate(E)),className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(ct,{control:ne.control,name:"startDate",render:({field:E})=>r.jsxs(it,{children:[r.jsx(at,{children:"Start Date"}),r.jsx(dt,{children:r.jsx(ze,{type:"date",...E})}),r.jsx(ot,{})]})}),r.jsx(ct,{control:ne.control,name:"endDate",render:({field:E})=>r.jsxs(it,{children:[r.jsx(at,{children:"End Date"}),r.jsx(dt,{children:r.jsx(ze,{type:"date",...E})}),r.jsx(ot,{})]})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(ct,{control:ne.control,name:"startTime",render:({field:E})=>r.jsxs(it,{children:[r.jsx(at,{children:"Start Time"}),r.jsx(dt,{children:r.jsx(ze,{type:"time",...E})}),r.jsx(ot,{})]})}),r.jsx(ct,{control:ne.control,name:"endTime",render:({field:E})=>r.jsxs(it,{children:[r.jsx(at,{children:"End Time"}),r.jsx(dt,{children:r.jsx(ze,{type:"time",...E})}),r.jsx(ot,{})]})})]}),r.jsx(ct,{control:ne.control,name:"weekdays",render:({field:E})=>r.jsxs(it,{children:[r.jsx(at,{children:"Days of Week"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map((B,me)=>r.jsx(q,{type:"button",variant:E.value.includes(me+1)?"default":"outline",size:"sm",onClick:()=>{const $e=E.value.includes(me+1)?E.value.filter(Ze=>Ze!==me+1):[...E.value,me+1];E.onChange($e)},children:B},B))}),r.jsx(ot,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>g(!1),children:"Cancel"}),r.jsx(q,{type:"submit",disabled:G.isPending,children:G.isPending?"Setting...":"Set Availability"})]})]})})]})]}),r.jsxs(q,{variant:"outline",size:"sm","data-testid":"button-export-bookings",className:"whitespace-nowrap",children:[r.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Export"]})]})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[r.jsx(se,{children:r.jsx(ie,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Upcoming"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"metric-upcoming-bookings",children:Pe})]}),r.jsx(rs,{className:"w-8 h-8 text-blue-500"})]})})}),r.jsx(se,{children:r.jsx(ie,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Pending"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"metric-pending-bookings",children:Oe})]}),r.jsx(Eo,{className:"w-8 h-8 text-yellow-500"})]})})}),r.jsx(se,{children:r.jsx(ie,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Completed"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"metric-completed-bookings",children:ke})]}),r.jsx(Jn,{className:"w-8 h-8 text-green-500"})]})})}),r.jsx(se,{children:r.jsx(ie,{className:"p-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Revenue"}),r.jsxs("p",{className:"text-2xl font-bold","data-testid":"metric-booking-revenue",children:["$",z.reduce((E,B)=>E+B.totalAmount/100,0).toLocaleString()]})]}),r.jsx(hr,{className:"w-8 h-8 text-green-500"})]})})})]}),r.jsxs(qa,{value:n,onValueChange:s,className:"space-y-6",children:[r.jsxs($i,{className:"grid w-full grid-cols-3",children:[r.jsx(bt,{value:"bookings","data-testid":"tab-bookings",children:"My Bookings"}),e.roleProvider&&r.jsx(bt,{value:"availability","data-testid":"tab-availability",children:"Availability"}),r.jsx(bt,{value:"calendar","data-testid":"tab-calendar",children:"Calendar View"})]}),r.jsxs(Nt,{value:"bookings",className:"space-y-6",children:[z.filter(E=>E.sellerUserId===e.id&&E.status==="pending").length>0&&r.jsxs(se,{className:"border-orange-500 border-2 bg-orange-50 dark:bg-orange-950",children:[r.jsxs(Ie,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fy,{className:"w-5 h-5 text-orange-600 dark:text-orange-400 animate-pulse"}),r.jsx(Fe,{className:"text-orange-800 dark:text-orange-200",children:"Pending Booking Requests - Action Required!"})]}),r.jsxs(br,{className:"text-orange-700 dark:text-orange-300",children:["You have ",z.filter(E=>E.sellerUserId===e.id&&E.status==="pending").length," booking request(s) waiting for your approval."]})]}),r.jsx(ie,{children:r.jsx("div",{className:"space-y-3",children:z.filter(E=>E.sellerUserId===e.id&&E.status==="pending").map(E=>r.jsx(se,{className:"bg-white dark:bg-gray-900","data-testid":`pending-request-${E.id}`,children:r.jsx(ie,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-lg mb-2",children:E.listingTitle}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ki,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("span",{className:"font-medium",children:["Provider: ",E.providerName]})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(rs,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("span",{children:[new Date(E.startAt).toLocaleDateString()," at ",new Date(E.startAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(hr,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("span",{className:"font-medium text-lg",children:["$",(E.totalAmount/100).toLocaleString()]})]}),E.notes&&r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(bd,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),r.jsx("span",{className:"text-xs text-muted-foreground",children:E.notes})]})]})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[r.jsxs(q,{size:"lg",className:"bg-[hsl(145,60%,45%)] hover:bg-[hsl(145,60%,35%)] text-white",onClick:()=>k.mutate({bookingId:E.id,action:"accept"}),disabled:k.isPending,"data-testid":`button-accept-booking-${E.id}`,children:[r.jsx(Jn,{className:"w-4 h-4 mr-2"}),"Accept Request"]}),r.jsxs(q,{size:"lg",variant:"destructive",onClick:()=>k.mutate({bookingId:E.id,action:"decline"}),disabled:k.isPending,"data-testid":`button-decline-booking-${E.id}`,children:[r.jsx(tv,{className:"w-4 h-4 mr-2"}),"Decline"]})]})]})})},E.id))})})]}),z.filter(E=>E.buyerUserId===e.id&&E.status==="accepted").length>0&&r.jsxs(se,{className:"border-blue-500 border-2 bg-blue-50 dark:bg-blue-950",children:[r.jsxs(Ie,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ya,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"}),r.jsx(Fe,{className:"text-blue-800 dark:text-blue-200",children:"Payment Required"})]}),r.jsx(br,{className:"text-blue-700 dark:text-blue-300",children:"Your booking request(s) have been accepted. Complete payment to confirm."})]}),r.jsx(ie,{children:r.jsx("div",{className:"space-y-3",children:z.filter(E=>E.buyerUserId===e.id&&E.status==="accepted").map(E=>r.jsx(se,{className:"bg-white dark:bg-gray-900","data-testid":`payment-required-${E.id}`,children:r.jsx(ie,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-semibold text-lg mb-2",children:E.listingTitle}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ki,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("span",{className:"font-medium",children:["Owner: ",E.ownerName]})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(rs,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("span",{children:[new Date(E.startAt).toLocaleDateString()," at ",new Date(E.startAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]})]}),r.jsx("div",{children:r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(hr,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("span",{className:"font-medium text-lg",children:["$",(E.totalAmount/100).toLocaleString()]})]})})]})]}),r.jsx("div",{className:"ml-4",children:r.jsxs(q,{size:"lg",className:"bg-[hsl(15,80%,55%)] hover:bg-[hsl(15,80%,45%)] text-white",onClick:()=>{Y(E),_(!0)},"data-testid":`button-pay-deposit-${E.id}`,children:[r.jsx(ya,{className:"w-4 h-4 mr-2"}),"Pay Deposit"]})})]})})},E.id))})})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx(Fe,{children:"All Bookings"}),r.jsxs("div",{className:"flex gap-2",children:[r.jsxs("div",{className:"relative",children:[r.jsx(ri,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-muted-foreground"}),r.jsx(ze,{placeholder:"Search bookings...",value:m,onChange:E=>p(E.target.value),className:"pl-10 w-64","data-testid":"input-search-bookings"})]}),r.jsxs(Bn,{value:u,onValueChange:h,children:[r.jsx(Mn,{className:"w-48","data-testid":"select-booking-filter",children:r.jsx($n,{placeholder:"Filter bookings"})}),r.jsxs(An,{children:[r.jsx(je,{value:"all",children:"All Bookings"}),r.jsx(je,{value:"pending",children:"Pending"}),r.jsx(je,{value:"confirmed",children:"Confirmed"}),r.jsx(je,{value:"completed",children:"Completed"}),r.jsx(je,{value:"cancelled",children:"Cancelled"})]})]})]})]})}),r.jsx(ie,{children:Z?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading bookings..."})]}):qe.length>0?r.jsx("div",{className:"space-y-4",children:qe.map(E=>r.jsx(se,{className:"border-l-4 border-l-blue-500","data-testid":`booking-${E.id}`,children:r.jsx(ie,{className:"p-4",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[le(E.status),Me(E.paymentStatus),r.jsxs("span",{className:"text-xs text-muted-foreground",children:["Booking #",E.id]})]}),r.jsx("h4",{className:"font-semibold text-lg mb-2",children:E.listingTitle}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(ki,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:e.id===E.buyerUserId?`Provider: ${E.providerName}`:`Owner: ${E.ownerName}`})]}),r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(rs,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("span",{children:[new Date(E.startAt).toLocaleDateString()," at ",new Date(E.startAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),E.listingAddress&&r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cs,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{children:E.listingAddress})]})]}),r.jsxs("div",{children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx(hr,{className:"w-4 h-4 text-muted-foreground"}),r.jsxs("span",{className:"font-medium",children:["$",(E.totalAmount/100).toLocaleString()]})]}),E.notes&&r.jsxs("div",{className:"flex items-start gap-2",children:[r.jsx(bd,{className:"w-4 h-4 text-muted-foreground mt-0.5"}),r.jsx("span",{className:"text-xs text-muted-foreground line-clamp-2",children:E.notes})]})]})]})]}),r.jsxs("div",{className:"flex gap-2 ml-4",children:[e&&E.sellerUserId===e.id&&E.status==="pending"&&r.jsxs("div",{className:"flex gap-2",children:[r.jsxs(q,{size:"sm",className:"bg-[hsl(145,60%,45%)] hover:bg-[hsl(145,60%,35%)] text-white",onClick:()=>k.mutate({bookingId:E.id,action:"accept"}),disabled:k.isPending,"data-testid":`button-accept-booking-${E.id}`,children:[r.jsx(Jn,{className:"w-4 h-4 mr-1"}),"Accept"]}),r.jsxs(q,{size:"sm",variant:"destructive",onClick:()=>k.mutate({bookingId:E.id,action:"decline"}),disabled:k.isPending,"data-testid":`button-decline-booking-${E.id}`,children:[r.jsx(tv,{className:"w-4 h-4 mr-1"}),"Decline"]})]}),e&&E.buyerUserId===e.id&&E.status==="accepted"&&r.jsxs(q,{size:"sm",className:"bg-[hsl(15,80%,55%)] hover:bg-[hsl(15,80%,45%)] text-white",onClick:()=>{Y(E),_(!0)},"data-testid":`button-pay-deposit-${E.id}`,children:[r.jsx(ya,{className:"w-4 h-4 mr-1"}),"Pay Deposit"]}),e&&E.sellerUserId===e.id&&(E.status==="funded"||E.status==="in_progress")&&r.jsxs(q,{size:"sm",className:"bg-[hsl(15,80%,55%)] hover:bg-[hsl(15,80%,45%)] text-white",onClick:()=>{Y(E),N(!0)},"data-testid":`button-propose-final-${E.id}`,children:[r.jsx(hr,{className:"w-4 h-4 mr-1"}),"Propose Final"]}),e&&E.buyerUserId===e.id&&E.status==="final_proposed"&&r.jsxs(q,{size:"sm",className:"bg-[hsl(15,80%,55%)] hover:bg-[hsl(15,80%,45%)] text-white",onClick:()=>{Y(E),M(!0)},"data-testid":`button-approve-final-${E.id}`,children:[r.jsx(Jn,{className:"w-4 h-4 mr-1"}),"Approve Final"]}),e&&(E.buyerUserId===e.id||e.isAdmin)&&E.status==="final_approved"&&r.jsxs(q,{size:"sm",className:"bg-green-600 hover:bg-green-700 text-white",onClick:()=>{Y(E),R(!0)},"data-testid":`button-settle-${E.id}`,children:[r.jsx(ya,{className:"w-4 h-4 mr-1"}),"Settle Payment"]}),r.jsxs(bn,{open:(i==null?void 0:i.id)===E.id,onOpenChange:B=>!B&&o(null),children:[r.jsx(Xs,{asChild:!0,children:r.jsx(q,{size:"sm",variant:"outline",onClick:()=>o(E),"data-testid":`button-manage-booking-${E.id}`,children:"Manage"})}),r.jsxs(ln,{className:"max-w-2xl",children:[r.jsx(cn,{children:r.jsxs(dn,{children:["Manage Booking #",E.id]})}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Status"}),r.jsx("p",{children:le(E.status)})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Payment"}),r.jsx("p",{children:Me(E.paymentStatus)})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Date & Time"}),r.jsx("p",{children:new Date(E.startAt).toLocaleString()})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Amount"}),r.jsxs("p",{children:["$",(E.totalAmount/100).toLocaleString()]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Service"}),r.jsx("p",{className:"text-sm",children:E.listingTitle})]}),r.jsx("div",{className:"grid grid-cols-2 gap-4",children:r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:e.id===E.buyerUserId?"Provider":"Property Owner"}),r.jsxs("div",{className:"text-sm",children:[r.jsx("p",{children:e.id===E.buyerUserId?E.providerName:E.ownerName}),r.jsx("p",{className:"text-muted-foreground",children:e.id===E.buyerUserId?E.providerEmail:E.ownerEmail}),(e.id===E.buyerUserId?E.providerPhone:E.ownerPhone)&&r.jsx("p",{className:"text-muted-foreground",children:e.id===E.buyerUserId?E.providerPhone:E.ownerPhone})]})]})}),E.notes&&r.jsxs("div",{children:[r.jsx(pe,{className:"font-medium",children:"Notes"}),r.jsx("div",{className:"bg-muted p-3 rounded-md text-sm mt-1",children:E.notes})]}),r.jsx("div",{className:"border-t pt-4",children:r.jsx(Ts,{...X,children:r.jsxs("form",{onSubmit:X.handleSubmit(B=>U.mutate({id:E.id,data:B})),className:"space-y-4",children:[r.jsx(ct,{control:X.control,name:"action",render:({field:B})=>r.jsxs(it,{children:[r.jsx(at,{children:"Action"}),r.jsxs(Bn,{onValueChange:B.onChange,value:B.value,children:[r.jsx(dt,{children:r.jsx(Mn,{children:r.jsx($n,{placeholder:"Select action"})})}),r.jsxs(An,{children:[E.status==="pending"&&r.jsx(r.Fragment,{children:r.jsx(je,{value:"cancel",children:"Cancel Request"})}),E.status==="accepted"&&r.jsx(r.Fragment,{children:r.jsx(je,{value:"cancel",children:"Cancel Booking"})}),E.status==="paid"&&r.jsxs(r.Fragment,{children:[r.jsx(je,{value:"complete",children:"Mark Complete"}),r.jsx(je,{value:"reschedule",children:"Reschedule"}),r.jsx(je,{value:"cancel",children:"Cancel Booking"})]}),E.status==="confirmed"&&r.jsxs(r.Fragment,{children:[r.jsx(je,{value:"complete",children:"Mark Complete"}),r.jsx(je,{value:"reschedule",children:"Reschedule"}),r.jsx(je,{value:"cancel",children:"Cancel"})]})]})]}),r.jsx(ot,{})]})}),r.jsx(ct,{control:X.control,name:"notes",render:({field:B})=>r.jsxs(it,{children:[r.jsx(at,{children:"Notes (Optional)"}),r.jsx(dt,{children:r.jsx(Vn,{placeholder:"Add any notes about this action...",rows:3,...B})}),r.jsx(ot,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>o(null),"data-testid":"button-cancel-manage",children:"Cancel"}),r.jsx(q,{type:"submit",disabled:U.isPending,children:U.isPending?"Processing...":"Execute Action"})]})]})})})]})]})]}),r.jsx(q,{size:"sm",variant:"outline","data-testid":`button-contact-${E.id}`,onClick:()=>{const B=e.id===E.buyerUserId?E.sellerUserId:E.buyerUserId;window.location.href=`/messages?user=${B}`},children:r.jsx(bd,{className:"w-4 h-4"})})]})]})})},E.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx(Or,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No bookings found"}),r.jsx("p",{className:"text-muted-foreground",children:u==="all"?"You don't have any bookings yet.":`No ${u} bookings found.`})]})})]})]}),e.roleProvider&&r.jsx(Nt,{value:"availability",className:"space-y-6",children:r.jsxs(se,{children:[r.jsxs(Ie,{className:"flex flex-row items-center justify-between",children:[r.jsx(Fe,{children:"Manage Availability"}),r.jsxs(bn,{open:x,onOpenChange:j,children:[r.jsx(Xs,{asChild:!0,children:r.jsxs(q,{size:"sm","data-testid":"button-add-availability",children:[r.jsx(Li,{className:"w-4 h-4 mr-2"}),"Add Availability"]})}),r.jsxs(ln,{children:[r.jsx(cn,{children:r.jsx(dn,{children:"Add Availability Slot"})}),r.jsx(Ts,{...J,children:r.jsxs("form",{onSubmit:J.handleSubmit(E=>W.mutate(E)),className:"space-y-4",children:[r.jsx(ct,{control:J.control,name:"date",render:({field:E})=>r.jsxs(it,{children:[r.jsx(at,{children:"Date"}),r.jsx(dt,{children:r.jsx(ze,{type:"date",...E})}),r.jsx(ot,{})]})}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsx(ct,{control:J.control,name:"startTime",render:({field:E})=>r.jsxs(it,{children:[r.jsx(at,{children:"Start Time"}),r.jsx(dt,{children:r.jsx(ze,{type:"time",...E})}),r.jsx(ot,{})]})}),r.jsx(ct,{control:J.control,name:"endTime",render:({field:E})=>r.jsxs(it,{children:[r.jsx(at,{children:"End Time"}),r.jsx(dt,{children:r.jsx(ze,{type:"time",...E})}),r.jsx(ot,{})]})})]}),r.jsx(ct,{control:J.control,name:"notes",render:({field:E})=>r.jsxs(it,{children:[r.jsx(at,{children:"Notes (Optional)"}),r.jsx(dt,{children:r.jsx(Vn,{placeholder:"Special instructions or notes...",rows:3,...E})}),r.jsx(ot,{})]})}),r.jsxs("div",{className:"flex justify-end gap-2",children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>j(!1),children:"Cancel"}),r.jsx(q,{type:"submit",disabled:W.isPending,children:W.isPending?"Adding...":"Add Availability"})]})]})})]})]})]}),r.jsx(ie,{children:te?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin w-8 h-8 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading availability..."})]}):r.jsxs("div",{className:"space-y-4",children:[r.jsxs(un,{children:[r.jsx(Or,{className:"w-4 h-4"}),r.jsx(fn,{children:"Manage your availability to let customers know when you're available for bookings. Use bulk availability to set recurring schedules."})]}),V.length>0?r.jsx("div",{className:"space-y-3",children:V.map(E=>r.jsx(se,{className:"border-l-4 border-l-primary",children:r.jsx(ie,{className:"p-4",children:r.jsx("div",{className:"flex items-start justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx(Or,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:new Date(E.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}),r.jsx(Pt,{variant:E.isAvailable?"default":"secondary",children:E.isAvailable?"Available":"Unavailable"})]}),E.slots.length>0&&r.jsx("div",{className:"ml-6 space-y-1",children:E.slots.map(B=>r.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[r.jsx(rs,{className:"w-3 h-3"}),r.jsxs("span",{children:[B.startTime," - ",B.endTime]}),B.notes&&r.jsxs("span",{className:"text-xs italic",children:["(",B.notes,")"]})]},B.id))})]})})})},E.date))}):r.jsxs("div",{className:"text-center text-muted-foreground py-8",children:[r.jsx(rs,{className:"w-12 h-12 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No availability set"}),r.jsx("p",{children:"Add your available time slots to let customers book with you."})]})]})})]})}),r.jsx(Nt,{value:"calendar",className:"space-y-6",children:r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Calendar View"})}),r.jsx(ie,{children:r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsx("div",{className:"flex justify-center items-start",children:r.jsx("div",{className:"w-full max-w-sm",children:r.jsx(rm,{mode:"single",selected:l,onSelect:E=>E&&d(E),className:"rounded-md border mx-auto"})})}),r.jsxs("div",{className:"flex flex-col max-h-[500px]",children:[r.jsxs("h4",{className:"font-semibold mb-4 flex-shrink-0",children:["Bookings for ",l.toLocaleDateString()]}),r.jsxs("div",{className:"space-y-2 overflow-y-auto flex-1",children:[z.filter(E=>new Date(E.startAt).toDateString()===l.toDateString()).map(E=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:E.listingTitle}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[new Date(E.startAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})," -",e.id===E.buyerUserId?E.providerName:E.ownerName]})]}),le(E.status)]},E.id)),z.filter(E=>new Date(E.startAt).toDateString()===l.toDateString()).length===0&&r.jsx("div",{className:"text-center py-4 text-muted-foreground",children:"No bookings for this date"})]})]})]})})]})})]})]}),r.jsx(Lt,{}),r.jsx(rK,{open:S,onOpenChange:_,booking:F?{id:F.id,listingTitle:F.listingTitle,ownerName:F.ownerName,startAt:F.startAt,totalCents:F.totalCents}:null,depositPercentage:10}),r.jsx(sK,{open:w,onOpenChange:N,booking:F?{id:F.id,listingTitle:F.listingTitle,ownerName:F.ownerName,amountDepositCents:F.amountDepositCents,amountBudgetedCents:F.amountBudgetedCents}:null}),r.jsx(oK,{open:P,onOpenChange:M,booking:F?{id:F.id,listingTitle:F.listingTitle,providerName:F.providerName,amountDepositCents:F.amountDepositCents,amountFinalCents:F.amountFinalCents,amountDeltaCents:F.amountDeltaCents,finalProposalNote:F.finalProposalNote,homeownerPmSaved:F.homeownerPmSaved}:null}),r.jsx(lK,{open:A,onOpenChange:R,booking:F?{id:F.id,listingTitle:F.listingTitle,providerName:F.providerName,amountFundedCents:F.amountFundedCents}:null,userRole:e!=null&&e.isAdmin?"admin":"homeowner"})]})}function fK(){const{user:e}=Sn(),{toast:t}=mn(),[n,s]=v.useState("overview"),[i,o]=v.useState({dateRange:"30d",category:"all",userType:"all",location:"all"});if(!e||!e.roleAdmin)return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(ev,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Analytics Access Required"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"You need admin privileges to view analytics."}),r.jsx(q,{onClick:()=>window.history.back(),children:"Go Back"})]})}),r.jsx(Lt,{})]});const{data:l,isLoading:d,refetch:u}=Je({queryKey:["/api/analytics",i],queryFn:async()=>{const g=new URLSearchParams;Object.entries(i).forEach(([_,w])=>{w!=="all"&&g.append(_,w)});const S=await fetch(`/api/analytics?${g}`);if(!S.ok)throw new Error("Failed to fetch analytics");return S.json()}}),h=g=>`$${(g/100).toLocaleString()}`,m=g=>`${g.toFixed(1)}%`,p=g=>g>0?r.jsx(Nd,{className:"w-4 h-4 text-green-500"}):g<0?r.jsx(hT,{className:"w-4 h-4 text-red-500"}):r.jsx(Jx,{className:"w-4 h-4 text-muted-foreground"}),x=g=>g>0?"text-green-500":g<0?"text-red-500":"text-muted-foreground",j=()=>{t({title:"Analytics data exported successfully"})},C=(g,S)=>{o(_=>({..._,[g]:S}))};return r.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50 dark:bg-gray-900",children:[r.jsx(Tt,{}),r.jsxs("main",{className:"flex-1 container mx-auto px-4 py-8",children:[r.jsxs("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between mb-8",children:[r.jsxs("div",{className:"min-w-0",children:[r.jsx("h1",{className:"text-3xl font-bold","data-testid":"analytics-dashboard-title",children:"Analytics Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Comprehensive business intelligence and performance metrics"})]}),r.jsxs("div",{className:"flex gap-2 flex-wrap min-w-0",children:[r.jsxs(q,{variant:"outline",size:"sm",onClick:()=>u(),"data-testid":"button-refresh-analytics",className:"whitespace-nowrap",children:[r.jsx(yc,{className:"w-4 h-4 mr-2"}),"Refresh"]}),r.jsxs(q,{variant:"outline",size:"sm",onClick:j,"data-testid":"button-export-analytics",className:"whitespace-nowrap",children:[r.jsx(Eh,{className:"w-4 h-4 mr-2"}),"Export Data"]})]})]}),r.jsx(se,{className:"mb-8",children:r.jsx(ie,{className:"p-4",children:r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium",children:"Date Range"}),r.jsxs(Bn,{value:i.dateRange,onValueChange:g=>C("dateRange",g),children:[r.jsx(Mn,{"data-testid":"select-date-range",children:r.jsx($n,{})}),r.jsxs(An,{children:[r.jsx(je,{value:"7d",children:"Last 7 days"}),r.jsx(je,{value:"30d",children:"Last 30 days"}),r.jsx(je,{value:"90d",children:"Last 90 days"}),r.jsx(je,{value:"1y",children:"Last year"}),r.jsx(je,{value:"all",children:"All time"})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium",children:"Category"}),r.jsxs(Bn,{value:i.category,onValueChange:g=>C("category",g),children:[r.jsx(Mn,{"data-testid":"select-category",children:r.jsx($n,{})}),r.jsxs(An,{children:[r.jsx(je,{value:"all",children:"All Categories"}),r.jsx(je,{value:"home-improvement",children:"Home Improvement"}),r.jsx(je,{value:"landscaping",children:"Landscaping"}),r.jsx(je,{value:"cleaning",children:"Cleaning Services"}),r.jsx(je,{value:"moving",children:"Moving & Storage"})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium",children:"User Type"}),r.jsxs(Bn,{value:i.userType,onValueChange:g=>C("userType",g),children:[r.jsx(Mn,{"data-testid":"select-user-type",children:r.jsx($n,{})}),r.jsxs(An,{children:[r.jsx(je,{value:"all",children:"All Users"}),r.jsx(je,{value:"owners",children:"Property Owners"}),r.jsx(je,{value:"providers",children:"Service Providers"})]})]})]}),r.jsxs("div",{children:[r.jsx(pe,{className:"text-sm font-medium",children:"Location"}),r.jsxs(Bn,{value:i.location,onValueChange:g=>C("location",g),children:[r.jsx(Mn,{"data-testid":"select-location",children:r.jsx($n,{})}),r.jsxs(An,{children:[r.jsx(je,{value:"all",children:"All Locations"}),r.jsx(je,{value:"omaha",children:"Omaha"}),r.jsx(je,{value:"lincoln",children:"Lincoln"}),r.jsx(je,{value:"bellevue",children:"Bellevue"}),r.jsx(je,{value:"grand-island",children:"Grand Island"})]})]})]})]})})}),r.jsxs(qa,{value:n,onValueChange:s,className:"space-y-6",children:[r.jsxs($i,{className:"grid w-full grid-cols-6",children:[r.jsx(bt,{value:"overview","data-testid":"tab-overview",children:"Overview"}),r.jsx(bt,{value:"revenue","data-testid":"tab-revenue",children:"Revenue"}),r.jsx(bt,{value:"users","data-testid":"tab-users",children:"Users"}),r.jsx(bt,{value:"bookings","data-testid":"tab-bookings",children:"Bookings"}),r.jsx(bt,{value:"performance","data-testid":"tab-performance",children:"Performance"}),r.jsx(bt,{value:"geographic","data-testid":"tab-geographic",children:"Geographic"})]}),r.jsxs(Nt,{value:"overview",className:"space-y-6",children:[r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[r.jsx(se,{children:r.jsxs(ie,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Revenue"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"metric-total-revenue",children:d?"...":h((l==null?void 0:l.overview.totalRevenue)||0)})]}),r.jsx(hr,{className:"w-8 h-8 text-green-500"})]}),r.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[p((l==null?void 0:l.overview.monthlyGrowth)||0),r.jsx("span",{className:`ml-1 ${x((l==null?void 0:l.overview.monthlyGrowth)||0)}`,children:m((l==null?void 0:l.overview.monthlyGrowth)||0)}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"vs last month"})]})]})}),r.jsx(se,{children:r.jsxs(ie,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Users"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"metric-total-users",children:d?"...":l==null?void 0:l.overview.totalUsers.toLocaleString()})]}),r.jsx(ka,{className:"w-8 h-8 text-blue-500"})]}),r.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[r.jsx(Hz,{className:"w-4 h-4 text-green-500"}),r.jsxs("span",{className:"text-green-500 ml-1",children:["+",(l==null?void 0:l.users.newThisMonth)||0]}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"new this month"})]})]})}),r.jsx(se,{children:r.jsxs(ie,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Total Bookings"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"metric-total-bookings",children:d?"...":l==null?void 0:l.overview.totalBookings.toLocaleString()})]}),r.jsx(Or,{className:"w-8 h-8 text-purple-500"})]}),r.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[r.jsx(Jn,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-green-500 ml-1",children:m((l==null?void 0:l.bookings.completionRate)||0)}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"completion rate"})]})]})}),r.jsx(se,{children:r.jsxs(ie,{className:"p-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Average Rating"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"metric-average-rating",children:d?"...":l==null?void 0:l.overview.averageRating.toFixed(1)})]}),r.jsx(En,{className:"w-8 h-8 text-yellow-500"})]}),r.jsxs("div",{className:"flex items-center mt-4 text-sm",children:[r.jsx(fT,{className:"w-4 h-4 text-green-500"}),r.jsx("span",{className:"text-green-500 ml-1",children:m((l==null?void 0:l.overview.conversionRate)||0)}),r.jsx("span",{className:"text-muted-foreground ml-1",children:"conversion rate"})]})]})})]}),r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Revenue by Category"})}),r.jsx(ie,{children:d?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading data..."})]}):r.jsx("div",{className:"space-y-4",children:(l==null?void 0:l.revenue.byCategory.map((g,S)=>r.jsx("div",{className:"flex items-center justify-between",children:r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("span",{className:"text-sm font-medium",children:g.category}),r.jsx("span",{className:"text-sm",children:h(g.amount)})]}),r.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:r.jsx("div",{className:"bg-primary h-2 rounded-full transition-all duration-300",style:{width:`${g.percentage}%`}})})]})},S)))||r.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[r.jsx(Az,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{children:"Revenue breakdown would be displayed here"})]})})})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"User Engagement Metrics"})}),r.jsx(ie,{children:d?r.jsxs("div",{className:"text-center py-8",children:[r.jsx("div",{className:"animate-spin w-6 h-6 border-4 border-primary border-t-transparent rounded-full mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"Loading data..."})]}):r.jsx("div",{className:"space-y-4",children:(l==null?void 0:l.users.engagement.map((g,S)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:g.metric}),r.jsx("div",{className:"text-2xl font-bold",children:g.value.toLocaleString()})]}),r.jsxs("div",{className:"text-right",children:[r.jsxs("div",{className:`flex items-center ${x(g.change)}`,children:[p(g.change),r.jsx("span",{className:"ml-1",children:m(Math.abs(g.change))})]}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"vs last period"})]})]},S)))||r.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[r.jsx(Jx,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{children:"Engagement metrics would be displayed here"})]})})})]})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Platform Health Indicators"})}),r.jsx(ie,{children:r.jsxs("div",{className:"grid md:grid-cols-4 gap-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-500",children:m(99.9)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Uptime"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsxs("div",{className:"text-2xl font-bold text-blue-500",children:[(l==null?void 0:l.performance.averageSessionDuration)||0,"s"]}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Avg Session"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-purple-500",children:m((l==null?void 0:l.users.retentionRate)||0)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"User Retention"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-orange-500",children:m((l==null?void 0:l.bookings.cancellationRate)||0)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Cancellation Rate"})]})]})})]})]}),r.jsxs(Nt,{value:"revenue",className:"space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[r.jsx(se,{children:r.jsx(ie,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"This Month"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"revenue-this-month",children:d?"...":h((l==null?void 0:l.revenue.thisMonth)||0)})]})})}),r.jsx(se,{children:r.jsx(ie,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Last Month"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"revenue-last-month",children:d?"...":h((l==null?void 0:l.revenue.lastMonth)||0)})]})})}),r.jsx(se,{children:r.jsx(ie,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Year to Date"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"revenue-ytd",children:d?"...":h((l==null?void 0:l.revenue.yearToDate)||0)})]})})}),r.jsx(se,{children:r.jsx(ie,{className:"p-6",children:r.jsxs("div",{className:"text-center",children:[r.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Projected Annual"}),r.jsx("p",{className:"text-2xl font-bold","data-testid":"revenue-projected",children:d?"...":h((l==null?void 0:l.revenue.projectedAnnual)||0)})]})})})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Revenue Trends"})}),r.jsx(ie,{children:r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Mz,{className:"w-16 h-16 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Revenue Trend Chart"}),r.jsx("p",{children:"Interactive revenue trending chart would be implemented here with chart.js or similar."})]})})]})]}),r.jsx(Nt,{value:"users",className:"space-y-6",children:r.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"User Demographics"})}),r.jsx(ie,{children:r.jsx("div",{className:"space-y-3",children:(l==null?void 0:l.users.demographics.map((g,S)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:g.age_group}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-20 bg-muted rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${g.percentage}%`}})}),r.jsx("span",{className:"text-sm font-medium",children:g.count})]})]},S)))||r.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[r.jsx(ka,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{children:"Demographics data would be displayed here"})]})})})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Acquisition Sources"})}),r.jsx(ie,{children:r.jsx("div",{className:"space-y-3",children:(l==null?void 0:l.users.acquisition.map((g,S)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm",children:g.source}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Pt,{variant:"outline",children:m(g.percentage)}),r.jsx("span",{className:"text-sm font-medium",children:g.count})]})]},S)))||r.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[r.jsx(uT,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{children:"Acquisition data would be displayed here"})]})})})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"User Activity"})}),r.jsx(ie,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-green-500",children:(l==null?void 0:l.users.totalActive)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Active Users"})]}),r.jsxs("div",{className:"text-center p-4 border rounded-lg",children:[r.jsx("div",{className:"text-2xl font-bold text-blue-500",children:m((l==null?void 0:l.users.retentionRate)||0)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Retention Rate"})]})]})})]})]})}),r.jsxs(Nt,{value:"bookings",className:"space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Booking Status Distribution"})}),r.jsx(ie,{children:r.jsx("div",{className:"space-y-3",children:(l==null?void 0:l.bookings.byStatus.map((g,S)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm capitalize",children:g.status.replace("_"," ")}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-20 bg-muted rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${g.percentage}%`}})}),r.jsx("span",{className:"text-sm font-medium",children:g.count})]})]},S)))||r.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[r.jsx(ev,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{children:"Booking status data would be displayed here"})]})})})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Top Performing Categories"})}),r.jsx(ie,{children:r.jsx("div",{className:"space-y-3",children:(l==null?void 0:l.bookings.topCategories.map((g,S)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:g.category}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.count," bookings"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-bold",children:h(g.revenue)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"revenue"})]})]},S)))||r.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[r.jsx(va,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{children:"Category performance would be displayed here"})]})})})]})]}),r.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[r.jsx(se,{children:r.jsxs(ie,{className:"p-6 text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:(l==null?void 0:l.bookings.totalCompleted)||0}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Completed Bookings"})]})}),r.jsx(se,{children:r.jsxs(ie,{className:"p-6 text-center",children:[r.jsx("div",{className:"text-2xl font-bold",children:h((l==null?void 0:l.bookings.averageValue)||0)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Average Booking Value"})]})}),r.jsx(se,{children:r.jsxs(ie,{className:"p-6 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-green-500",children:m((l==null?void 0:l.bookings.completionRate)||0)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Completion Rate"})]})}),r.jsx(se,{children:r.jsxs(ie,{className:"p-6 text-center",children:[r.jsx("div",{className:"text-2xl font-bold text-red-500",children:m((l==null?void 0:l.bookings.cancellationRate)||0)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"Cancellation Rate"})]})})]})]}),r.jsxs(Nt,{value:"performance",className:"space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Traffic Overview"})}),r.jsx(ie,{children:r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(kl,{className:"w-5 h-5 text-blue-500"}),r.jsx("span",{children:"Page Views"})]}),r.jsx("span",{className:"font-bold",children:(l==null?void 0:l.performance.pageViews.toLocaleString())||0})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ka,{className:"w-5 h-5 text-green-500"}),r.jsx("span",{children:"Unique Visitors"})]}),r.jsx("span",{className:"font-bold",children:(l==null?void 0:l.performance.uniqueVisitors.toLocaleString())||0})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Vz,{className:"w-5 h-5 text-purple-500"}),r.jsx("span",{children:"Bounce Rate"})]}),r.jsx("span",{className:"font-bold",children:m((l==null?void 0:l.performance.bounceRate)||0)})]}),r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(rs,{className:"w-5 h-5 text-orange-500"}),r.jsx("span",{children:"Avg Session Duration"})]}),r.jsxs("span",{className:"font-bold",children:[(l==null?void 0:l.performance.averageSessionDuration)||0,"s"]})]})]})})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Device Breakdown"})}),r.jsx(ie,{children:r.jsx("div",{className:"space-y-3",children:(l==null?void 0:l.performance.deviceBreakdown.map((g,S)=>r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[g.device==="desktop"&&r.jsx(z_,{className:"w-4 h-4"}),g.device==="mobile"&&r.jsx(Wz,{className:"w-4 h-4"}),g.device==="tablet"&&r.jsx(D_,{className:"w-4 h-4"}),r.jsx("span",{className:"text-sm capitalize",children:g.device})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-20 bg-muted rounded-full h-2",children:r.jsx("div",{className:"bg-blue-500 h-2 rounded-full",style:{width:`${g.percentage}%`}})}),r.jsx("span",{className:"text-sm font-medium",children:m(g.percentage)})]})]},S)))||r.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[r.jsx(z_,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{children:"Device breakdown would be displayed here"})]})})})]})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Top Performing Pages"})}),r.jsx(ie,{children:r.jsx("div",{className:"space-y-2",children:(l==null?void 0:l.performance.topPages.map((g,S)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:g.page}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.views.toLocaleString()," views"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-medium",children:m(g.bounceRate)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"bounce rate"})]})]},S)))||r.jsxs("div",{className:"text-center py-8 text-muted-foreground",children:[r.jsx(Tl,{className:"w-12 h-12 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Page Performance Data"}),r.jsx("p",{children:"Detailed page analytics would be displayed here."})]})})})]})]}),r.jsxs(Nt,{value:"geographic",className:"space-y-6",children:[r.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Top Cities by Users"})}),r.jsx(ie,{children:r.jsx("div",{className:"space-y-3",children:(l==null?void 0:l.geographic.topCities.map((g,S)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Cs,{className:"w-4 h-4 text-blue-500"}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-medium",children:[g.city,", ",g.state]}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.users," users"]})]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-bold",children:h(g.revenue)}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"revenue"})]})]},S)))||r.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[r.jsx(Cs,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{children:"Geographic user data would be displayed here"})]})})})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Service Area Analysis"})}),r.jsx(ie,{children:r.jsx("div",{className:"space-y-3",children:(l==null?void 0:l.geographic.serviceAreas.map((g,S)=>r.jsxs("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[r.jsxs("div",{children:[r.jsx("div",{className:"font-medium",children:g.area}),r.jsxs("div",{className:"text-sm text-muted-foreground",children:[g.providers," providers"]})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("div",{className:"font-bold",children:g.demand}),r.jsx("div",{className:"text-sm text-muted-foreground",children:"demand score"})]})]},S)))||r.jsxs("div",{className:"text-center py-4 text-muted-foreground",children:[r.jsx(D_,{className:"w-8 h-8 mx-auto mb-2"}),r.jsx("p",{children:"Service area analysis would be displayed here"})]})})})]})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsx(Fe,{children:"Geographic Distribution Map"})}),r.jsx(ie,{children:r.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[r.jsx(Cs,{className:"w-16 h-16 mx-auto mb-4"}),r.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Interactive Geographic Map"}),r.jsx("p",{children:"Heat map showing user distribution and service coverage across Nebraska would be implemented here."})]})})]})]})]})]}),r.jsx(Lt,{})]})}const oe=Symbol.for("drizzle:entityKind");function zn(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,oe))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(oe in n&&n[oe]===t[oe])return!0;n=Object.getPrototypeOf(n)}return!1}var aN;aN=oe;class uc{constructor(t,n){$(this,"name");$(this,"keyAsName");$(this,"primary");$(this,"notNull");$(this,"default");$(this,"defaultFn");$(this,"onUpdateFn");$(this,"hasDefault");$(this,"isUnique");$(this,"uniqueName");$(this,"uniqueType");$(this,"dataType");$(this,"columnType");$(this,"enumValues");$(this,"generated");$(this,"generatedIdentity");$(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}$(uc,aN,"Column");var oN;oN=oe;class WR{constructor(t,n,s){$(this,"config");$(this,"$default",this.$defaultFn);$(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:s,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}$(WR,oN,"ColumnBuilder");const Ll=Symbol.for("drizzle:Name");var lN;lN=oe;class HR{constructor(t,n){$(this,"reference");$(this,"_onUpdate","no action");$(this,"_onDelete","no action");this.reference=()=>{const{name:s,columns:i,foreignColumns:o}=t();return{name:s,columns:i,foreignTable:o[0].table,foreignColumns:o}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new qR(t,this)}}$(HR,lN,"PgForeignKeyBuilder");var cN;cN=oe;class qR{constructor(t,n){$(this,"reference");$(this,"onUpdate");$(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:s}=this.reference(),i=n.map(d=>d.name),o=s.map(d=>d.name),l=[this.table[Ll],...i,s[0].table[Ll],...o];return t??`${l.join("_")}_fk`}}$(qR,cN,"PgForeignKey");function hK(e,...t){return e(...t)}function mK(e,t){return`${e[Ll]}_${t.join("_")}_unique`}function Ub(e,t,n){for(let s=t;s<e.length;s++){const i=e[s];if(i==="\\"){s++;continue}if(i==='"')return[e.slice(t,s).replace(/\\/g,""),s+1];if(!n&&(i===","||i==="}"))return[e.slice(t,s).replace(/\\/g,""),s]}return[e.slice(t).replace(/\\/g,""),e.length]}function ZR(e,t=0){const n=[];let s=t,i=!1;for(;s<e.length;){const o=e[s];if(o===","){(i||s===t)&&n.push(""),i=!0,s++;continue}if(i=!1,o==="\\"){s+=2;continue}if(o==='"'){const[u,h]=Ub(e,s+1,!0);n.push(u),s=h;continue}if(o==="}")return[n,s+1];if(o==="{"){const[u,h]=ZR(e,s+1);n.push(u),s=h;continue}const[l,d]=Ub(e,s,!1);n.push(l),s=d}return[n,s]}function pK(e){const[t]=ZR(e,1);return t}function KR(e){return`{${e.map(t=>Array.isArray(t)?KR(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var dN,uN;class vt extends(uN=WR,dN=oe,uN){constructor(){super(...arguments);$(this,"foreignKeyConfigs",[])}array(n){return new YR(this.config.name,this,n)}references(n,s={}){return this.foreignKeyConfigs.push({ref:n,actions:s}),this}unique(n,s){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=s==null?void 0:s.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,s){return this.foreignKeyConfigs.map(({ref:i,actions:o})=>hK((l,d)=>{const u=new HR(()=>{const h=l();return{columns:[n],foreignColumns:[h]}});return d.onUpdate&&u.onUpdate(d.onUpdate),d.onDelete&&u.onDelete(d.onDelete),u.build(s)},i,o))}buildExtraConfigColumn(n){return new GR(n,this.config)}}$(vt,dN,"PgColumnBuilder");var fN,hN;class Ye extends(hN=uc,fN=oe,hN){constructor(t,n){n.uniqueName||(n.uniqueName=mK(t,[n.name])),super(t,n),this.table=t}}$(Ye,fN,"PgColumn");var mN,pN;class GR extends(pN=Ye,mN=oe,pN){constructor(){super(...arguments);$(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});$(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}$(GR,mN,"ExtraConfigColumn");var gN,xN;class YR extends(xN=vt,gN=oe,xN){constructor(t,n,s){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=s}build(t){const n=this.config.baseBuilder.build(t);return new Mv(t,this.config,n)}}$(YR,gN,"PgArrayBuilder");var vN,yN;const cm=class cm extends(yN=Ye,vN=oe,yN){constructor(n,s,i,o){super(n,s);$(this,"size");this.baseColumn=i,this.range=o,this.size=s.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=pK(n)),n.map(s=>this.baseColumn.mapFromDriverValue(s))}mapToDriverValue(n,s=!1){const i=n.map(o=>o===null?null:zn(this.baseColumn,cm)?this.baseColumn.mapToDriverValue(o,!0):this.baseColumn.mapToDriverValue(o));return s?i:KR(i)}};$(cm,vN,"PgArray");let Mv=cm;const Wb=Symbol.for("drizzle:isPgEnum");function gK(e){return!!e&&typeof e=="function"&&Wb in e&&e[Wb]===!0}var wN;wN=oe;class n0{constructor(t,n,s,i=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:s,isWith:i}}}$(n0,wN,"Subquery");const xK={startActiveSpan(e,t){return t()}},Il=Symbol.for("drizzle:ViewBaseConfig"),Bg=Symbol.for("drizzle:Schema"),Hb=Symbol.for("drizzle:Columns"),qb=Symbol.for("drizzle:ExtraConfigColumns"),$g=Symbol.for("drizzle:OriginalName"),Vg=Symbol.for("drizzle:BaseName"),im=Symbol.for("drizzle:IsAlias"),Zb=Symbol.for("drizzle:ExtraConfigBuilder"),QR=Symbol.for("drizzle:IsDrizzleTable");var jN,_N,bN,NN,SN,CN,PN,kN,TN,EN;EN=oe,TN=Ll,kN=$g,PN=Bg,CN=Hb,SN=qb,NN=Vg,bN=im,_N=QR,jN=Zb;class fr{constructor(t,n,s){$(this,TN);$(this,kN);$(this,PN);$(this,CN);$(this,SN);$(this,NN);$(this,bN,!1);$(this,_N,!0);$(this,jN);this[Ll]=this[$g]=t,this[Bg]=n,this[Vg]=s}}$(fr,EN,"Table"),$(fr,"Symbol",{Name:Ll,Schema:Bg,OriginalName:$g,Columns:Hb,ExtraConfigColumns:qb,BaseName:Vg,IsAlias:im,ExtraConfigBuilder:Zb});function XR(e){return typeof e=="object"&&e!==null&&QR in e}function vK(e){return e!=null&&typeof e.getSQL=="function"}function yK(e){var n;const t={sql:"",params:[]};for(const s of e)t.sql+=s.sql,t.params.push(...s.params),(n=s.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...s.typings));return t}var MN;MN=oe;class es{constructor(t){$(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new Nn([this])}}$(es,MN,"StringChunk");var AN;AN=oe;const so=class so{constructor(t){$(this,"decoder",JR);$(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return xK.startActiveSpan("drizzle.buildSQL",n=>{const s=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":s.sql,"drizzle.query.params":JSON.stringify(s.params)}),s})}buildQueryFromSourceParams(t,n){const s=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:o,escapeParam:l,prepareTyping:d,inlineParams:u,paramStartIndex:h}=s;return yK(t.map(m=>{var p;if(zn(m,es))return{sql:m.value.join(""),params:[]};if(zn(m,am))return{sql:o(m.value),params:[]};if(m===void 0)return{sql:"",params:[]};if(Array.isArray(m)){const x=[new es("(")];for(const[j,C]of m.entries())x.push(C),j<m.length-1&&x.push(new es(", "));return x.push(new es(")")),this.buildQueryFromSourceParams(x,s)}if(zn(m,so))return this.buildQueryFromSourceParams(m.queryChunks,{...s,inlineParams:u||m.shouldInlineParams});if(zn(m,fr)){const x=m[fr.Symbol.Schema],j=m[fr.Symbol.Name];return{sql:x===void 0||m[im]?o(j):o(x)+"."+o(j),params:[]}}if(zn(m,uc)){const x=i.getColumnCasing(m);if(n.invokeSource==="indexes")return{sql:o(x),params:[]};const j=m.table[fr.Symbol.Schema];return{sql:m.table[im]||j===void 0?o(m.table[fr.Symbol.Name])+"."+o(x):o(j)+"."+o(m.table[fr.Symbol.Name])+"."+o(x),params:[]}}if(zn(m,nL)){const x=m[Il].schema,j=m[Il].name;return{sql:x===void 0||m[Il].isAlias?o(j):o(x)+"."+o(j),params:[]}}if(zn(m,r0)){if(zn(m.value,lm))return{sql:l(h.value++,m),params:[m],typings:["none"]};const x=m.value===null?null:m.encoder.mapToDriverValue(m.value);if(zn(x,so))return this.buildQueryFromSourceParams([x],s);if(u)return{sql:this.mapInlineParam(x,s),params:[]};let j=["none"];return d&&(j=[d(m.encoder)]),{sql:l(h.value++,x),params:[x],typings:j}}return zn(m,lm)?{sql:l(h.value++,m),params:[m],typings:["none"]}:zn(m,so.Aliased)&&m.fieldAlias!==void 0?{sql:o(m.fieldAlias),params:[]}:zn(m,n0)?m._.isWith?{sql:o(m._.alias),params:[]}:this.buildQueryFromSourceParams([new es("("),m._.sql,new es(") "),new am(m._.alias)],s):gK(m)?m.schema?{sql:o(m.schema)+"."+o(m.enumName),params:[]}:{sql:o(m.enumName),params:[]}:vK(m)?(p=m.shouldOmitSQLParens)!=null&&p.call(m)?this.buildQueryFromSourceParams([m.getSQL()],s):this.buildQueryFromSourceParams([new es("("),m.getSQL(),new es(")")],s):u?{sql:this.mapInlineParam(m,s),params:[]}:{sql:l(h.value++,m),params:[m],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const s=t.toString();return n(s==="[object Object]"?JSON.stringify(t):s)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new so.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};$(so,AN,"SQL");let Nn=so;var RN;RN=oe;class am{constructor(t){$(this,"brand");this.value=t}getSQL(){return new Nn([this])}}$(am,RN,"Name");const JR={mapFromDriverValue:e=>e},eL={mapToDriverValue:e=>e};({...JR,...eL});var LN;LN=oe;class r0{constructor(t,n=eL){$(this,"brand");this.value=t,this.encoder=n}getSQL(){return new Nn([this])}}$(r0,LN,"Param");function om(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new es(e[0]));for(const[s,i]of t.entries())n.push(i,new es(e[s+1]));return new Nn(n)}(e=>{function t(){return new Nn([])}e.empty=t;function n(u){return new Nn(u)}e.fromList=n;function s(u){return new Nn([new es(u)])}e.raw=s;function i(u,h){const m=[];for(const[p,x]of u.entries())p>0&&h!==void 0&&m.push(h),m.push(x);return new Nn(m)}e.join=i;function o(u){return new am(u)}e.identifier=o;function l(u){return new lm(u)}e.placeholder=l;function d(u,h){return new r0(u,h)}e.param=d})(om||(om={}));(e=>{var n;n=oe;const s=class s{constructor(o,l){$(this,"isSelectionField",!1);this.sql=o,this.fieldAlias=l}getSQL(){return this.sql}clone(){return new s(this.sql,this.fieldAlias)}};$(s,n,"SQL.Aliased");let t=s;e.Aliased=t})(Nn||(Nn={}));var IN;IN=oe;class lm{constructor(t){this.name=t}getSQL(){return new Nn([this])}}$(lm,IN,"Placeholder");const tL=Symbol.for("drizzle:IsDrizzleView");var ON,DN,FN;FN=oe,DN=Il,ON=tL;class nL{constructor({name:t,schema:n,selectedFields:s,query:i}){$(this,DN);$(this,ON,!0);this[Il]={name:t,originalName:t,schema:n,selectedFields:s,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new Nn([this])}}$(nL,FN,"View");function wK(e){return typeof e=="object"&&e!==null&&tL in e}uc.prototype.getSQL=function(){return new Nn([this])};fr.prototype.getSQL=function(){return new Nn([this])};n0.prototype.getSQL=function(){return new Nn([this])};function jK(e){return e[fr.Symbol.Columns]}function _K(e){return e[Il].selectedFields}function In(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var zN,BN;class Fu extends(BN=vt,zN=oe,BN){generatedAlwaysAsIdentity(t){if(t){const{name:n,...s}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...s}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:s}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}$(Fu,zN,"PgIntColumnBaseBuilder");var $N,VN;class rL extends(VN=Fu,$N=oe,VN){constructor(t){super(t,"number","PgBigInt53")}build(t){return new sL(t,this.config)}}$(rL,$N,"PgBigInt53Builder");var UN,WN;class sL extends(WN=Ye,UN=oe,WN){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}$(sL,UN,"PgBigInt53");var HN,qN;class iL extends(qN=Fu,HN=oe,qN){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new aL(t,this.config)}}$(iL,HN,"PgBigInt64Builder");var ZN,KN;class aL extends(KN=Ye,ZN=oe,KN){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}$(aL,ZN,"PgBigInt64");function bK(e,t){const{name:n,config:s}=In(e,t);return s.mode==="number"?new rL(n):new iL(n)}var GN,YN;class oL extends(YN=vt,GN=oe,YN){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new lL(t,this.config)}}$(oL,GN,"PgBigSerial53Builder");var QN,XN;class lL extends(XN=Ye,QN=oe,XN){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}$(lL,QN,"PgBigSerial53");var JN,e1;class cL extends(e1=vt,JN=oe,e1){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new dL(t,this.config)}}$(cL,JN,"PgBigSerial64Builder");var t1,n1;class dL extends(n1=Ye,t1=oe,n1){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}$(dL,t1,"PgBigSerial64");function NK(e,t){const{name:n,config:s}=In(e,t);return s.mode==="number"?new oL(n):new cL(n)}var r1,s1;class uL extends(s1=vt,r1=oe,s1){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new fL(t,this.config)}}$(uL,r1,"PgBooleanBuilder");var i1,a1;class fL extends(a1=Ye,i1=oe,a1){getSQLType(){return"boolean"}}$(fL,i1,"PgBoolean");function Tn(e){return new uL(e??"")}var o1,l1;class hL extends(l1=vt,o1=oe,l1){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new mL(t,this.config)}}$(hL,o1,"PgCharBuilder");var c1,d1;class mL extends(d1=Ye,c1=oe,d1){constructor(){super(...arguments);$(this,"length",this.config.length);$(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}$(mL,c1,"PgChar");function SK(e,t={}){const{name:n,config:s}=In(e,t);return new hL(n,s)}var u1,f1;class pL extends(f1=vt,u1=oe,f1){constructor(t){super(t,"string","PgCidr")}build(t){return new gL(t,this.config)}}$(pL,u1,"PgCidrBuilder");var h1,m1;class gL extends(m1=Ye,h1=oe,m1){getSQLType(){return"cidr"}}$(gL,h1,"PgCidr");function CK(e){return new pL(e??"")}var p1,g1;class xL extends(g1=vt,p1=oe,g1){constructor(t,n,s){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=s}build(t){return new vL(t,this.config)}}$(xL,p1,"PgCustomColumnBuilder");var x1,v1;class vL extends(v1=Ye,x1=oe,v1){constructor(n,s){super(n,s);$(this,"sqlName");$(this,"mapTo");$(this,"mapFrom");this.sqlName=s.customTypeParams.dataType(s.fieldConfig),this.mapTo=s.customTypeParams.toDriver,this.mapFrom=s.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}$(vL,x1,"PgCustomColumn");function PK(e){return(t,n)=>{const{name:s,config:i}=In(t,n);return new xL(s,i,e)}}var y1,w1;class kc extends(w1=vt,y1=oe,w1){defaultNow(){return this.default(om`now()`)}}$(kc,y1,"PgDateColumnBaseBuilder");var j1,_1;class yL extends(_1=kc,j1=oe,_1){constructor(t){super(t,"date","PgDate")}build(t){return new wL(t,this.config)}}$(yL,j1,"PgDateBuilder");var b1,N1;class wL extends(N1=Ye,b1=oe,N1){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}$(wL,b1,"PgDate");var S1,C1;class jL extends(C1=kc,S1=oe,C1){constructor(t){super(t,"string","PgDateString")}build(t){return new _L(t,this.config)}}$(jL,S1,"PgDateStringBuilder");var P1,k1;class _L extends(k1=Ye,P1=oe,k1){getSQLType(){return"date"}}$(_L,P1,"PgDateString");function kK(e,t){const{name:n,config:s}=In(e,t);return(s==null?void 0:s.mode)==="date"?new yL(n):new jL(n)}var T1,E1;class bL extends(E1=vt,T1=oe,E1){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new NL(t,this.config)}}$(bL,T1,"PgDoublePrecisionBuilder");var M1,A1;class NL extends(A1=Ye,M1=oe,A1){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}$(NL,M1,"PgDoublePrecision");function TK(e){return new bL(e??"")}var R1,L1;class SL extends(L1=vt,R1=oe,L1){constructor(t){super(t,"string","PgInet")}build(t){return new CL(t,this.config)}}$(SL,R1,"PgInetBuilder");var I1,O1;class CL extends(O1=Ye,I1=oe,O1){getSQLType(){return"inet"}}$(CL,I1,"PgInet");function EK(e){return new SL(e??"")}var D1,F1;class PL extends(F1=Fu,D1=oe,F1){constructor(t){super(t,"number","PgInteger")}build(t){return new kL(t,this.config)}}$(PL,D1,"PgIntegerBuilder");var z1,B1;class kL extends(B1=Ye,z1=oe,B1){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}$(kL,z1,"PgInteger");function Ae(e){return new PL(e??"")}var $1,V1;class TL extends(V1=vt,$1=oe,V1){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new EL(t,this.config)}}$(TL,$1,"PgIntervalBuilder");var U1,W1;class EL extends(W1=Ye,U1=oe,W1){constructor(){super(...arguments);$(this,"fields",this.config.intervalConfig.fields);$(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",s=this.precision?`(${this.precision})`:"";return`interval${n}${s}`}}$(EL,U1,"PgInterval");function MK(e,t={}){const{name:n,config:s}=In(e,t);return new TL(n,s)}var H1,q1;class ML extends(q1=vt,H1=oe,q1){constructor(t){super(t,"json","PgJson")}build(t){return new AL(t,this.config)}}$(ML,H1,"PgJsonBuilder");var Z1,K1;class AL extends(K1=Ye,Z1=oe,K1){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}$(AL,Z1,"PgJson");function AK(e){return new ML(e??"")}var G1,Y1;class RL extends(Y1=vt,G1=oe,Y1){constructor(t){super(t,"json","PgJsonb")}build(t){return new LL(t,this.config)}}$(RL,G1,"PgJsonbBuilder");var Q1,X1;class LL extends(X1=Ye,Q1=oe,X1){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}$(LL,Q1,"PgJsonb");function Os(e){return new RL(e??"")}var J1,eS;class IL extends(eS=vt,J1=oe,eS){constructor(t){super(t,"array","PgLine")}build(t){return new OL(t,this.config)}}$(IL,J1,"PgLineBuilder");var tS,nS;class OL extends(nS=Ye,tS=oe,nS){getSQLType(){return"line"}mapFromDriverValue(t){const[n,s,i]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s),Number.parseFloat(i)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}$(OL,tS,"PgLine");var rS,sS;class DL extends(sS=vt,rS=oe,sS){constructor(t){super(t,"json","PgLineABC")}build(t){return new FL(t,this.config)}}$(DL,rS,"PgLineABCBuilder");var iS,aS;class FL extends(aS=Ye,iS=oe,aS){getSQLType(){return"line"}mapFromDriverValue(t){const[n,s,i]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(s),c:Number.parseFloat(i)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}$(FL,iS,"PgLineABC");function RK(e,t){const{name:n,config:s}=In(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new IL(n):new DL(n)}var oS,lS;class zL extends(lS=vt,oS=oe,lS){constructor(t){super(t,"string","PgMacaddr")}build(t){return new BL(t,this.config)}}$(zL,oS,"PgMacaddrBuilder");var cS,dS;class BL extends(dS=Ye,cS=oe,dS){getSQLType(){return"macaddr"}}$(BL,cS,"PgMacaddr");function LK(e){return new zL(e??"")}var uS,fS;class $L extends(fS=vt,uS=oe,fS){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new VL(t,this.config)}}$($L,uS,"PgMacaddr8Builder");var hS,mS;class VL extends(mS=Ye,hS=oe,mS){getSQLType(){return"macaddr8"}}$(VL,hS,"PgMacaddr8");function IK(e){return new $L(e??"")}var pS,gS;class UL extends(gS=vt,pS=oe,gS){constructor(t,n,s){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=s}build(t){return new WL(t,this.config)}}$(UL,pS,"PgNumericBuilder");var xS,vS;class WL extends(vS=Ye,xS=oe,vS){constructor(n,s){super(n,s);$(this,"precision");$(this,"scale");this.precision=s.precision,this.scale=s.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}$(WL,xS,"PgNumeric");function hu(e,t){const{name:n,config:s}=In(e,t);return new UL(n,s==null?void 0:s.precision,s==null?void 0:s.scale)}var yS,wS;class HL extends(wS=vt,yS=oe,wS){constructor(t){super(t,"array","PgPointTuple")}build(t){return new qL(t,this.config)}}$(HL,yS,"PgPointTupleBuilder");var jS,_S;class qL extends(_S=Ye,jS=oe,_S){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,s]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(s)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}$(qL,jS,"PgPointTuple");var bS,NS;class ZL extends(NS=vt,bS=oe,NS){constructor(t){super(t,"json","PgPointObject")}build(t){return new KL(t,this.config)}}$(ZL,bS,"PgPointObjectBuilder");var SS,CS;class KL extends(CS=Ye,SS=oe,CS){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,s]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(s)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}$(KL,SS,"PgPointObject");function OK(e,t){const{name:n,config:s}=In(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new HL(n):new ZL(n)}function DK(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function Kb(e,t){const n=new ArrayBuffer(8),s=new DataView(n);for(let i=0;i<8;i++)s.setUint8(i,e[t+i]);return s.getFloat64(0,!0)}function GL(e){const t=DK(e);let n=0;const s=t[n];n+=1;const i=new DataView(t.buffer),o=i.getUint32(n,s===1);if(n+=4,o&536870912&&(i.getUint32(n,s===1),n+=4),(o&65535)===1){const l=Kb(t,n);n+=8;const d=Kb(t,n);return n+=8,[l,d]}throw new Error("Unsupported geometry type")}var PS,kS;class YL extends(kS=vt,PS=oe,kS){constructor(t){super(t,"array","PgGeometry")}build(t){return new QL(t,this.config)}}$(YL,PS,"PgGeometryBuilder");var TS,ES;class QL extends(ES=Ye,TS=oe,ES){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return GL(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}$(QL,TS,"PgGeometry");var MS,AS;class XL extends(AS=vt,MS=oe,AS){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new JL(t,this.config)}}$(XL,MS,"PgGeometryObjectBuilder");var RS,LS;class JL extends(LS=Ye,RS=oe,LS){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=GL(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}$(JL,RS,"PgGeometryObject");function FK(e,t){const{name:n,config:s}=In(e,t);return!(s!=null&&s.mode)||s.mode==="tuple"?new YL(n):new XL(n)}var IS,OS;class eI extends(OS=vt,IS=oe,OS){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new tI(t,this.config)}}$(eI,IS,"PgRealBuilder");var DS,FS;class tI extends(FS=Ye,DS=oe,FS){constructor(n,s){super(n,s);$(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}$(tI,DS,"PgReal");function zK(e){return new eI(e??"")}var zS,BS;class nI extends(BS=vt,zS=oe,BS){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new rI(t,this.config)}}$(nI,zS,"PgSerialBuilder");var $S,VS;class rI extends(VS=Ye,$S=oe,VS){getSQLType(){return"serial"}}$(rI,$S,"PgSerial");function rn(e){return new nI(e??"")}var US,WS;class sI extends(WS=Fu,US=oe,WS){constructor(t){super(t,"number","PgSmallInt")}build(t){return new iI(t,this.config)}}$(sI,US,"PgSmallIntBuilder");var HS,qS;class iI extends(qS=Ye,HS=oe,qS){constructor(){super(...arguments);$(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}$(iI,HS,"PgSmallInt");function BK(e){return new sI(e??"")}var ZS,KS;class aI extends(KS=vt,ZS=oe,KS){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new oI(t,this.config)}}$(aI,ZS,"PgSmallSerialBuilder");var GS,YS;class oI extends(YS=Ye,GS=oe,YS){getSQLType(){return"smallserial"}}$(oI,GS,"PgSmallSerial");function $K(e){return new aI(e??"")}var QS,XS;class lI extends(XS=vt,QS=oe,XS){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new cI(t,this.config)}}$(lI,QS,"PgTextBuilder");var JS,eC;class cI extends(eC=Ye,JS=oe,eC){constructor(){super(...arguments);$(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}$(cI,JS,"PgText");function xe(e,t={}){const{name:n,config:s}=In(e,t);return new lI(n,s)}var tC,nC;class dI extends(nC=kc,tC=oe,nC){constructor(t,n,s){super(t,"string","PgTime"),this.withTimezone=n,this.precision=s,this.config.withTimezone=n,this.config.precision=s}build(t){return new uI(t,this.config)}}$(dI,tC,"PgTimeBuilder");var rC,sC;class uI extends(sC=Ye,rC=oe,sC){constructor(n,s){super(n,s);$(this,"withTimezone");$(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}$(uI,rC,"PgTime");function VK(e,t={}){const{name:n,config:s}=In(e,t);return new dI(n,s.withTimezone??!1,s.precision)}var iC,aC;class fI extends(aC=kc,iC=oe,aC){constructor(t,n,s){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=s}build(t){return new hI(t,this.config)}}$(fI,iC,"PgTimestampBuilder");var oC,lC;class hI extends(lC=Ye,oC=oe,lC){constructor(n,s){super(n,s);$(this,"withTimezone");$(this,"precision");$(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));$(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}$(hI,oC,"PgTimestamp");var cC,dC;class mI extends(dC=kc,cC=oe,dC){constructor(t,n,s){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=s}build(t){return new pI(t,this.config)}}$(mI,cC,"PgTimestampStringBuilder");var uC,fC;class pI extends(fC=Ye,uC=oe,fC){constructor(n,s){super(n,s);$(this,"withTimezone");$(this,"precision");this.withTimezone=s.withTimezone,this.precision=s.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}$(pI,uC,"PgTimestampString");function ht(e,t={}){const{name:n,config:s}=In(e,t);return(s==null?void 0:s.mode)==="string"?new mI(n,s.withTimezone??!1,s.precision):new fI(n,(s==null?void 0:s.withTimezone)??!1,s==null?void 0:s.precision)}var hC,mC;class gI extends(mC=vt,hC=oe,mC){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(om`gen_random_uuid()`)}build(t){return new xI(t,this.config)}}$(gI,hC,"PgUUIDBuilder");var pC,gC;class xI extends(gC=Ye,pC=oe,gC){getSQLType(){return"uuid"}}$(xI,pC,"PgUUID");function UK(e){return new gI(e??"")}var xC,vC;class vI extends(vC=vt,xC=oe,vC){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new yI(t,this.config)}}$(vI,xC,"PgVarcharBuilder");var yC,wC;class yI extends(wC=Ye,yC=oe,wC){constructor(){super(...arguments);$(this,"length",this.config.length);$(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}$(yI,yC,"PgVarchar");function WK(e,t={}){const{name:n,config:s}=In(e,t);return new vI(n,s)}var jC,_C;class wI extends(_C=vt,jC=oe,_C){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new jI(t,this.config)}}$(wI,jC,"PgBinaryVectorBuilder");var bC,NC;class jI extends(NC=Ye,bC=oe,NC){constructor(){super(...arguments);$(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}$(jI,bC,"PgBinaryVector");function HK(e,t){const{name:n,config:s}=In(e,t);return new wI(n,s)}var SC,CC;class _I extends(CC=vt,SC=oe,CC){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new bI(t,this.config)}}$(_I,SC,"PgHalfVectorBuilder");var PC,kC;class bI extends(kC=Ye,PC=oe,kC){constructor(){super(...arguments);$(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}$(bI,PC,"PgHalfVector");function qK(e,t){const{name:n,config:s}=In(e,t);return new _I(n,s)}var TC,EC;class NI extends(EC=vt,TC=oe,EC){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new SI(t,this.config)}}$(NI,TC,"PgSparseVectorBuilder");var MC,AC;class SI extends(AC=Ye,MC=oe,AC){constructor(){super(...arguments);$(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}$(SI,MC,"PgSparseVector");function ZK(e,t){const{name:n,config:s}=In(e,t);return new NI(n,s)}var RC,LC;class CI extends(LC=vt,RC=oe,LC){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new PI(t,this.config)}}$(CI,RC,"PgVectorBuilder");var IC,OC;class PI extends(OC=Ye,IC=oe,OC){constructor(){super(...arguments);$(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(s=>Number.parseFloat(s))}}$(PI,IC,"PgVector");function KK(e,t){const{name:n,config:s}=In(e,t);return new CI(n,s)}function GK(){return{bigint:bK,bigserial:NK,boolean:Tn,char:SK,cidr:CK,customType:PK,date:kK,doublePrecision:TK,inet:EK,integer:Ae,interval:MK,json:AK,jsonb:Os,line:RK,macaddr:LK,macaddr8:IK,numeric:hu,point:OK,geometry:FK,real:zK,serial:rn,smallint:BK,smallserial:$K,text:xe,time:VK,timestamp:ht,uuid:UK,varchar:WK,bit:HK,halfvec:qK,sparsevec:ZK,vector:KK}}const Av=Symbol.for("drizzle:PgInlineForeignKeys"),Gb=Symbol.for("drizzle:EnableRLS");var DC,FC,zC,BC,$C;class kd extends($C=fr,BC=oe,zC=Av,FC=Gb,DC=fr.Symbol.ExtraConfigBuilder,$C){constructor(){super(...arguments);$(this,zC,[]);$(this,FC,!1);$(this,DC)}}$(kd,BC,"PgTable"),$(kd,"Symbol",Object.assign({},fr.Symbol,{InlineForeignKeys:Av,EnableRLS:Gb}));function YK(e,t,n,s,i=e){const o=new kd(e,s,i),l=typeof t=="function"?t(GK()):t,d=Object.fromEntries(Object.entries(l).map(([m,p])=>{const x=p;x.setName(m);const j=x.build(o);return o[Av].push(...x.buildForeignKeys(j,o)),[m,j]})),u=Object.fromEntries(Object.entries(l).map(([m,p])=>{const x=p;x.setName(m);const j=x.buildExtraConfigColumn(o);return[m,j]})),h=Object.assign(o,d);return h[fr.Symbol.Columns]=d,h[fr.Symbol.ExtraConfigColumns]=u,n&&(h[kd.Symbol.ExtraConfigBuilder]=n),Object.assign(h,{enableRLS:()=>(h[kd.Symbol.EnableRLS]=!0,h)})}const $t=(e,t,n)=>YK(e,t,n,void 0),Ht={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function Jt(e,t){return t.includes(e.columnType)}function QK(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const XK=ee.union([ee.string(),ee.number(),ee.boolean(),ee.null()]),JK=ee.union([XK,ee.record(ee.any()),ee.array(ee.any())]),eG=ee.custom(e=>e instanceof Buffer);function kI(e,t){const n=(t==null?void 0:t.zodInstance)??ee,s=(t==null?void 0:t.coerce)??{};let i;return QK(e)&&(i=e.enumValues.length?n.enum(e.enumValues):n.string()),i||(Jt(e,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):Jt(e,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):Jt(e,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=e.dimensions?i.length(e.dimensions):i):Jt(e,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):Jt(e,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):Jt(e,["PgArray"])?(i=n.array(kI(e.baseColumn,n)),i=e.size?i.length(e.size):i):e.dataType==="array"?i=n.array(n.any()):e.dataType==="number"?i=tG(e,n,s):e.dataType==="bigint"?i=nG(e,n,s):e.dataType==="boolean"?i=s===!0||s.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?i=s===!0||s.date?n.coerce.date():n.date():e.dataType==="string"?i=rG(e,n,s):e.dataType==="json"?i=JK:e.dataType==="custom"?i=n.any():e.dataType==="buffer"&&(i=eG)),i||(i=n.any()),i}function tG(e,t,n){let s=e.getSQLType().includes("unsigned"),i,o,l=!1;Jt(e,["MySqlTinyInt","SingleStoreTinyInt"])?(i=s?0:Ht.INT8_MIN,o=s?Ht.INT8_UNSIGNED_MAX:Ht.INT8_MAX,l=!0):Jt(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=s?0:Ht.INT16_MIN,o=s?Ht.INT16_UNSIGNED_MAX:Ht.INT16_MAX,l=!0):Jt(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=s?0:Ht.INT24_MIN,o=s?Ht.INT24_UNSIGNED_MAX:Ht.INT24_MAX,l=Jt(e,["MySqlMediumInt","SingleStoreMediumInt"])):Jt(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=s?0:Ht.INT32_MIN,o=s?Ht.INT32_UNSIGNED_MAX:Ht.INT32_MAX,l=!0):Jt(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=s?0:Ht.INT48_MIN,o=s?Ht.INT48_UNSIGNED_MAX:Ht.INT48_MAX):Jt(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(s=s||Jt(e,["MySqlSerial","SingleStoreSerial"]),i=s?0:Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER,l=!0):Jt(e,["MySqlYear","SingleStoreYear"])?(i=1901,o=2155,l=!0):(i=Number.MIN_SAFE_INTEGER,o=Number.MAX_SAFE_INTEGER);let d=n===!0||n!=null&&n.number?t.coerce.number():t.number();return d=d.min(i).max(o),l?d.int():d}function nG(e,t,n){const s=e.getSQLType().includes("unsigned"),i=s?0n:Ht.INT64_MIN,o=s?Ht.INT64_UNSIGNED_MAX:Ht.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(i).max(o)}function rG(e,t,n){if(Jt(e,["PgUUID"]))return t.string().uuid();let s,i,o=!1;Jt(e,["PgVarchar","SQLiteText"])?s=e.length:Jt(e,["MySqlVarChar","SingleStoreVarChar"])?s=e.length??Ht.INT16_UNSIGNED_MAX:Jt(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?s=Ht.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?s=Ht.INT24_UNSIGNED_MAX:e.textType==="text"?s=Ht.INT16_UNSIGNED_MAX:s=Ht.INT8_UNSIGNED_MAX),Jt(e,["PgChar","MySqlChar","SingleStoreChar"])&&(s=e.length,o=!0),Jt(e,["PgBinaryVector"])&&(i=/^[01]+$/,s=e.dimensions);let l=n===!0||n!=null&&n.string?t.coerce.string():t.string();return l=i?l.regex(i):l,s&&o?l.length(s):s?l.max(s):l}function TI(e){return XR(e)?jK(e):_K(e)}function EI(e,t,n,s){const i={};for(const[o,l]of Object.entries(e)){if(!zn(l,uc)&&!zn(l,Nn)&&!zn(l,Nn.Aliased)&&typeof l=="object"){const p=XR(l)||wK(l)?TI(l):l;i[o]=EI(p,t[o]??{},n,s);continue}const d=t[o];if(d!==void 0&&typeof d!="function"){i[o]=d;continue}const u=zn(l,uc)?l:void 0,h=u?kI(u,s):ee.any(),m=typeof d=="function"?d(h):h;n.never(u)||(i[o]=m,u&&(n.nullable(u)&&(i[o]=i[o].nullable()),n.optional(u)&&(i[o]=i[o].optional())))}return ee.object(i)}const sG={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},Kn=(e,t)=>{const n=TI(e);return EI(n,{},sG)},Bt=$t("users",{id:rn("id").primaryKey(),email:xe("email").notNull().unique(),password:xe("password").notNull(),name:xe("name").notNull(),phone:xe("phone"),avatarUrl:xe("avatar_url"),roleOwner:Tn("role_owner").default(!1).notNull(),roleProvider:Tn("role_provider").default(!1).notNull(),isAdmin:Tn("is_admin").default(!1).notNull(),forcePasswordChange:Tn("force_password_change").default(!1).notNull(),emailVerified:Tn("email_verified").default(!1).notNull(),stripeCustomerId:xe("stripe_customer_id"),stripeConnectAccountId:xe("stripe_connect_account_id"),payoutStatus:xe("payout_status").$type().default("UNSET").notNull(),stripeRequirements:Os("stripe_requirements").$type(),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull(),updatedAt:ht("updated_at",{withTimezone:!0}).defaultNow().notNull()}),iG=$t("profiles",{userId:Ae("user_id").primaryKey().references(()=>Bt.id,{onDelete:"cascade"}),headline:xe("headline"),bio:xe("bio"),location:Os("location").$type(),ratingAvg:hu("rating_avg",{precision:3,scale:2}).default("0.00"),ratingCount:Ae("rating_count").default(0).notNull(),completedProjects:Ae("completed_projects").default(0).notNull()}),s0=$t("categories",{id:rn("id").primaryKey(),name:xe("name").notNull(),slug:xe("slug").notNull().unique(),description:xe("description"),parentId:Ae("parent_id")}),Za=$t("listings",{id:rn("id").primaryKey(),slug:xe("slug").notNull().unique(),ownerUserId:Ae("owner_user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),title:xe("title").notNull(),description:xe("description").notNull(),categoryId:Ae("category_id").references(()=>s0.id),priceCents:Ae("price_cents").notNull(),currency:xe("currency").default("USD").notNull(),status:xe("status").$type().default("draft").notNull(),lat:hu("lat",{precision:10,scale:8}),lng:hu("lng",{precision:11,scale:8}),address:xe("address"),timeline:xe("timeline"),requirements:xe("requirements"),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull(),updatedAt:ht("updated_at",{withTimezone:!0}).defaultNow().notNull()});$t("listing_images",{id:rn("id").primaryKey(),listingId:Ae("listing_id").references(()=>Za.id,{onDelete:"cascade"}).notNull(),url:xe("url").notNull(),altText:xe("alt_text"),sortOrder:Ae("sort_order").default(0).notNull()});$t("availability_rules",{id:rn("id").primaryKey(),userId:Ae("user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),listingId:Ae("listing_id").references(()=>Za.id,{onDelete:"cascade"}),rrule:xe("rrule").notNull(),timezone:xe("timezone").default("America/Chicago").notNull(),isProvider:Tn("is_provider").default(!1).notNull(),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()});$t("availability_exceptions",{id:rn("id").primaryKey(),userId:Ae("user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),listingId:Ae("listing_id").references(()=>Za.id,{onDelete:"cascade"}),startAt:ht("start_at",{withTimezone:!0}).notNull(),endAt:ht("end_at",{withTimezone:!0}).notNull(),reason:xe("reason")});const aG=$t("threads",{id:rn("id").primaryKey(),listingId:Ae("listing_id").references(()=>Za.id,{onDelete:"cascade"}),participantAId:Ae("participant_a_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),participantBId:Ae("participant_b_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),subject:xe("subject"),lastMessageAt:ht("last_message_at",{withTimezone:!0}).defaultNow().notNull(),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()}),oG=$t("messages",{id:rn("id").primaryKey(),threadId:Ae("thread_id").references(()=>aG.id,{onDelete:"cascade"}).notNull(),senderUserId:Ae("sender_user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),body:xe("body").notNull(),readAt:ht("read_at",{withTimezone:!0}),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()}),cp=$t("bookings",{id:rn("id").primaryKey(),listingId:Ae("listing_id").references(()=>Za.id,{onDelete:"cascade"}).notNull(),buyerUserId:Ae("buyer_user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),sellerUserId:Ae("seller_user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),startAt:ht("start_at",{withTimezone:!0}).notNull(),endAt:ht("end_at",{withTimezone:!0}).notNull(),qty:Ae("qty").default(1).notNull(),unit:xe("unit").$type().default("fixed").notNull(),subtotalCents:Ae("subtotal_cents").notNull(),platformFeeCents:Ae("platform_fee_cents").default(0).notNull(),totalCents:Ae("total_cents").notNull(),status:xe("status").$type().default("pending").notNull(),stripePaymentIntentId:xe("stripe_payment_intent_id"),stripeTransferId:xe("stripe_transfer_id"),notes:xe("notes"),amountBudgetedCents:Ae("amount_budgeted_cents"),amountDepositCents:Ae("amount_deposit_cents"),amountFinalCents:Ae("amount_final_cents"),amountDeltaCents:Ae("amount_delta_cents"),amountFundedCents:Ae("amount_funded_cents").default(0),retainageBps:Ae("retainage_bps").default(0).notNull(),retainageHoldCents:Ae("retainage_hold_cents").default(0),homeownerPmSaved:Tn("homeowner_pm_saved").default(!1).notNull(),depositChargeId:xe("deposit_charge_id"),deltaChargeId:xe("delta_charge_id"),finalProposalNote:xe("final_proposal_note"),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull(),updatedAt:ht("updated_at",{withTimezone:!0}).defaultNow().notNull()}),lG=$t("reviews",{id:rn("id").primaryKey(),bookingId:Ae("booking_id").references(()=>cp.id,{onDelete:"cascade"}).notNull(),reviewerUserId:Ae("reviewer_user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),revieweeUserId:Ae("reviewee_user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),rating:Ae("rating").notNull(),body:xe("body"),published:Tn("published").default(!1).notNull(),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()});$t("favorites",{userId:Ae("user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),listingId:Ae("listing_id").references(()=>Za.id,{onDelete:"cascade"}).notNull(),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()},e=>({pk:{name:"favorites_pkey",columns:[e.userId,e.listingId]}}));const cG=$t("provider_skills",{id:rn("id").primaryKey(),userId:Ae("user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),categoryId:Ae("category_id").references(()=>s0.id),skillName:xe("skill_name").notNull(),experienceYears:Ae("experience_years"),verified:Tn("verified").default(!1).notNull(),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()}),dG=$t("portfolio_items",{id:rn("id").primaryKey(),userId:Ae("user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),title:xe("title").notNull(),description:xe("description").notNull(),imageUrls:Os("image_urls").$type().default([]),projectDate:ht("project_date",{withTimezone:!0}),categoryId:Ae("category_id").references(()=>s0.id),featured:Tn("featured").default(!1).notNull(),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()}),uG=$t("notification_preferences",{userId:Ae("user_id").primaryKey().references(()=>Bt.id,{onDelete:"cascade"}),emailNewMessages:Tn("email_new_messages").default(!0).notNull(),emailBookingUpdates:Tn("email_booking_updates").default(!0).notNull(),emailReviewRequests:Tn("email_review_requests").default(!0).notNull(),emailPayoutNotifications:Tn("email_payout_notifications").default(!0).notNull(),emailMarketing:Tn("email_marketing").default(!1).notNull(),smsBookingReminders:Tn("sms_booking_reminders").default(!1).notNull(),pushNotifications:Tn("push_notifications").default(!0).notNull()}),fG=$t("email_queue",{id:rn("id").primaryKey(),recipientUserId:Ae("recipient_user_id").references(()=>Bt.id,{onDelete:"cascade"}),recipientEmail:xe("recipient_email").notNull(),subject:xe("subject").notNull(),body:xe("body").notNull(),templateId:xe("template_id"),templateData:Os("template_data").$type(),status:xe("status").$type().default("pending").notNull(),attempts:Ae("attempts").default(0).notNull(),lastAttemptAt:ht("last_attempt_at",{withTimezone:!0}),sentAt:ht("sent_at",{withTimezone:!0}),errorMessage:xe("error_message"),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()}),hG=$t("payouts",{id:rn("id").primaryKey(),userId:Ae("user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),bookingId:Ae("booking_id").references(()=>cp.id),amountCents:Ae("amount_cents").notNull(),feeCents:Ae("fee_cents").default(0).notNull(),netAmountCents:Ae("net_amount_cents").notNull(),currency:xe("currency").default("USD").notNull(),status:xe("status").$type().default("pending").notNull(),stripePayoutId:xe("stripe_payout_id"),failureReason:xe("failure_reason"),scheduledAt:ht("scheduled_at",{withTimezone:!0}),processedAt:ht("processed_at",{withTimezone:!0}),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()}),mG=$t("analytics_events",{id:rn("id").primaryKey(),userId:Ae("user_id").references(()=>Bt.id),sessionId:xe("session_id"),eventType:xe("event_type").notNull(),eventData:Os("event_data").$type(),userAgent:xe("user_agent"),ipAddress:xe("ip_address"),referrer:xe("referrer"),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()}),pG=$t("platform_metrics",{id:rn("id").primaryKey(),date:xe("date").notNull(),metric:xe("metric").notNull(),value:hu("value",{precision:15,scale:2}).notNull(),metadata:Os("metadata").$type(),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()},e=>({uniqueDateMetric:{name:"platform_metrics_date_metric_key",columns:[e.date,e.metric]}})),gG=$t("audit_log",{id:rn("id").primaryKey(),adminUserId:Ae("admin_user_id").references(()=>Bt.id),action:xe("action").notNull(),resourceType:xe("resource_type").notNull(),resourceId:xe("resource_id"),details:Os("details").$type(),ipAddress:xe("ip_address"),userAgent:xe("user_agent"),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()}),xG=$t("disputes",{id:rn("id").primaryKey(),bookingId:Ae("booking_id").references(()=>cp.id,{onDelete:"cascade"}).notNull(),reporterUserId:Ae("reporter_user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),reportedUserId:Ae("reported_user_id").references(()=>Bt.id,{onDelete:"cascade"}).notNull(),reason:xe("reason").notNull(),description:xe("description").notNull(),status:xe("status").$type().default("open").notNull(),adminNotes:xe("admin_notes"),resolvedBy:Ae("resolved_by").references(()=>Bt.id),resolvedAt:ht("resolved_at",{withTimezone:!0}),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()}),vG=$t("search_queries",{id:rn("id").primaryKey(),userId:Ae("user_id").references(()=>Bt.id),query:xe("query").notNull(),filters:Os("filters").$type(),resultsCount:Ae("results_count").default(0).notNull(),clickedListingId:Ae("clicked_listing_id").references(()=>Za.id),location:Os("location").$type(),sessionId:xe("session_id"),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()});$t("platform_settings",{key:xe("key").primaryKey(),value:Os("value").$type().notNull(),updatedAt:ht("updated_at",{withTimezone:!0}).defaultNow().notNull()});$t("admin_pages",{slug:xe("slug").primaryKey(),title:xe("title").notNull(),body:xe("body").notNull(),updatedAt:ht("updated_at",{withTimezone:!0}).defaultNow().notNull()});const yG=$t("contact_submissions",{id:rn("id").primaryKey(),name:xe("name").notNull(),email:xe("email").notNull(),subject:xe("subject").notNull(),message:xe("message").notNull(),status:xe("status").$type().default("new").notNull(),userId:Ae("user_id").references(()=>Bt.id),createdAt:ht("created_at",{withTimezone:!0}).defaultNow().notNull()});Kn(Bt).omit({id:!0,createdAt:!0,updatedAt:!0});Kn(iG).omit({userId:!0});const wG=Kn(Za).omit({id:!0,slug:!0,createdAt:!0,updatedAt:!0});Kn(cp).omit({id:!0,createdAt:!0,updatedAt:!0});Kn(oG).omit({id:!0,createdAt:!0});Kn(lG).omit({id:!0,createdAt:!0});Kn(cG).omit({id:!0,createdAt:!0});Kn(dG).omit({id:!0,createdAt:!0});Kn(uG);Kn(fG).omit({id:!0,createdAt:!0});Kn(hG).omit({id:!0,createdAt:!0});Kn(mG).omit({id:!0,createdAt:!0});Kn(pG).omit({id:!0,createdAt:!0});Kn(gG).omit({id:!0,createdAt:!0});Kn(xG).omit({id:!0,createdAt:!0});Kn(vG).omit({id:!0,createdAt:!0});Kn(yG).omit({id:!0,createdAt:!0,status:!0});ee.object({title:ee.string().min(1).optional(),description:ee.string().optional(),category:ee.string().optional(),address:ee.string().optional(),lat:ee.number().optional(),lng:ee.number().optional(),priceCents:ee.number().int().min(0).optional(),images:ee.array(ee.object({url:ee.string(),altText:ee.string().optional()})).optional()});ee.object({bio:ee.string().optional(),phoneNumber:ee.string().optional(),location:ee.string().optional(),serviceRadius:ee.number().optional(),hourlyRate:ee.number().optional(),yearsExperience:ee.number().optional(),licenseNumber:ee.string().optional(),insuranceInfo:ee.string().optional(),profileImage:ee.string().optional()});ee.object({startAt:ee.string().optional(),endAt:ee.string().optional(),notes:ee.string().optional()});ee.object({title:ee.string().optional(),description:ee.string().optional(),images:ee.array(ee.string()).optional(),completedAt:ee.string().optional()});const jG=wG.extend({title:ee.string().min(1,"Title is required"),description:ee.string().min(1,"Description is required"),priceCents:ee.number().min(100,"Price must be at least $1"),categoryId:ee.number().min(1,"Please select a category")}).omit({ownerUserId:!0});function _G(){const{user:e}=Sn(),[,t]=Ua(),{toast:n}=mn(),[s,i]=v.useState(""),[o,l]=v.useState([]),[d,u]=v.useState([]),h=v.useRef([]),[m,p]=v.useState(""),[x,j]=v.useState("Omaha"),[C,g]=v.useState("NE"),[S,_]=v.useState(""),w=Wn({resolver:Hn(jG),defaultValues:{title:"",description:"",priceCents:0,status:"published",timeline:"",requirements:""}}),{data:N=[]}=Je({queryKey:["/api/categories"]});v.useEffect(()=>()=>{h.current.forEach(z=>URL.revokeObjectURL(z)),h.current=[]},[]);const P=z=>{const V=Array.from(z).filter(X=>X.type.startsWith("image/")),te=V.map(X=>{const J=URL.createObjectURL(X);return h.current.push(J),{url:J,name:X.name}});u(V),l(te)},M=z=>{o[z]&&(URL.revokeObjectURL(o[z].url),h.current=h.current.filter(Z=>Z!==o[z].url)),l(Z=>Z.filter((V,te)=>te!==z)),u(Z=>Z.filter((V,te)=>te!==z))},A=ut({mutationFn:async z=>(await Xe("POST","/api/listings",z)).json(),onSuccess:async z=>{if(d.length>0)try{for(const Z of d){const te=await(await Xe("POST","/api/objects/upload",{filename:Z.name,fileSize:Z.size,mimeType:Z.type})).json();await fetch(te.uploadURL,{method:"PUT",body:Z});const J=await(await Xe("POST","/api/objects/validate",{objectPath:te.uploadURL,filename:Z.name})).json();await Xe("POST",`/api/listings/${z.id}/images`,{imageURL:J.url,altText:Z.name})}}catch(Z){console.error("Failed to save images:",Z),n({title:"Warning",description:"Project posted but some images failed to save.",variant:"destructive"})}wt.invalidateQueries({queryKey:["/api/listings"]}),n({title:"Project posted!",description:"Your project has been posted successfully."}),t(`/project/${z.id}`)},onError:z=>{n({title:"Failed to post project",description:z.message,variant:"destructive"})}}),R=z=>{i(z);const Z=parseFloat(z.replace(/[^0-9.]/g,""));isNaN(Z)||w.setValue("priceCents",Math.round(Z*100))},F=async z=>{try{const V=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(z)}&limit=1`)).json();return V&&V.length>0?{lat:parseFloat(V[0].lat),lng:parseFloat(V[0].lon)}:null}catch(Z){return console.error("Geocoding error:",Z),null}},Y=async z=>{if(!(e!=null&&e.roleOwner)){n({title:"Permission denied",description:"You need a property owner account to post projects.",variant:"destructive"});return}const Z=[m,x,C,S].filter(Boolean).join(", ");let V=null;Z&&(V=await F(Z));const te={...z,address:Z||void 0,lat:V!=null&&V.lat?String(V.lat):void 0,lng:V!=null&&V.lng?String(V.lng):void 0};A.mutate(te)};return e?e.roleOwner?r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("div",{className:"flex-1 bg-background",children:r.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:r.jsxs("div",{className:"max-w-3xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Post a New Project"}),r.jsx("p",{className:"text-muted-foreground",children:"Provide details about your project and connect with qualified service providers in Omaha."})]}),r.jsx(Ts,{...w,children:r.jsxs("form",{onSubmit:w.handleSubmit(Y),className:"space-y-6",children:[r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsxs(Fe,{className:"flex items-center gap-2",children:[r.jsx(Tl,{className:"w-5 h-5"}),"Project Details"]})}),r.jsxs(ie,{className:"space-y-4",children:[r.jsx(ct,{control:w.control,name:"title",render:({field:z})=>r.jsxs(it,{children:[r.jsx(at,{children:"Project Title *"}),r.jsx(dt,{children:r.jsx(ze,{placeholder:"e.g., Bathroom Renovation in Omaha",...z,"data-testid":"input-title"})}),r.jsx(co,{children:"Provide a clear, descriptive title for your project"}),r.jsx(ot,{})]})}),r.jsx(ct,{control:w.control,name:"categoryId",render:({field:z})=>{var Z;return r.jsxs(it,{children:[r.jsx(at,{children:"Category *"}),r.jsxs(Bn,{onValueChange:V=>z.onChange(parseInt(V)),value:(Z=z.value)==null?void 0:Z.toString(),children:[r.jsx(dt,{children:r.jsx(Mn,{"data-testid":"select-category",children:r.jsx($n,{placeholder:"Select a category"})})}),r.jsx(An,{children:N.map(V=>r.jsx(je,{value:V.id.toString(),children:V.name},V.id))})]}),r.jsx(ot,{})]})}}),r.jsx(ct,{control:w.control,name:"description",render:({field:z})=>r.jsxs(it,{children:[r.jsx(at,{children:"Description *"}),r.jsx(dt,{children:r.jsx(Vn,{placeholder:"Provide detailed information about your project, including scope, materials, and any specific requirements...",className:"min-h-[150px]",...z,"data-testid":"textarea-description"})}),r.jsx(co,{children:"Be specific to get accurate bids"}),r.jsx(ot,{})]})}),r.jsx(ct,{control:w.control,name:"requirements",render:({field:z})=>r.jsxs(it,{children:[r.jsx(at,{children:"Special Preferences or Materials"}),r.jsx(dt,{children:r.jsx(Vn,{placeholder:"e.g., Must use specific paint brand, prefer eco-friendly materials, need ADA-compliant fixtures...",...z,value:z.value||"","data-testid":"textarea-requirements"})}),r.jsx(ot,{})]})})]})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsxs(Fe,{className:"flex items-center gap-2",children:[r.jsx(hr,{className:"w-5 h-5"}),"Budget & Timeline"]})}),r.jsxs(ie,{className:"space-y-4",children:[r.jsx(ct,{control:w.control,name:"priceCents",render:({field:z})=>r.jsxs(it,{children:[r.jsx(at,{children:"Budget *"}),r.jsx(dt,{children:r.jsxs("div",{className:"relative",children:[r.jsx("span",{className:"absolute left-3 top-1/2 -translate-y-1/2 text-muted-foreground",children:"$"}),r.jsx(ze,{type:"text",placeholder:"0.00",value:s,onChange:Z=>R(Z.target.value),className:"pl-7","data-testid":"input-price"})]})}),r.jsx(co,{children:"Enter your expected budget for this project"}),r.jsx(ot,{})]})}),r.jsx(ct,{control:w.control,name:"timeline",render:({field:z})=>r.jsxs(it,{children:[r.jsx(at,{children:"Timeline"}),r.jsx(dt,{children:r.jsx(ze,{placeholder:"e.g., 2-3 weeks, ASAP, Flexible",...z,value:z.value||"","data-testid":"input-timeline"})}),r.jsx(co,{children:"When do you need this project completed?"}),r.jsx(ot,{})]})})]})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsxs(Fe,{className:"flex items-center gap-2",children:[r.jsx(Cs,{className:"w-5 h-5"}),"Location"]})}),r.jsxs(ie,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"street",children:"Street Address"}),r.jsx(ze,{id:"street",placeholder:"e.g., 123 Main St",value:m,onChange:z=>p(z.target.value),"data-testid":"input-street"})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"city",children:"City"}),r.jsx(ze,{id:"city",placeholder:"Omaha",value:x,onChange:z=>j(z.target.value),"data-testid":"input-city"})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"state",children:"State"}),r.jsx(ze,{id:"state",placeholder:"NE",value:C,onChange:z=>g(z.target.value),maxLength:2,"data-testid":"input-state"})]})]}),r.jsxs("div",{children:[r.jsx(pe,{htmlFor:"zip",children:"ZIP Code"}),r.jsx(ze,{id:"zip",placeholder:"68102",value:S,onChange:z=>_(z.target.value),maxLength:5,"data-testid":"input-zip"})]}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Providers will see this to assess travel time"})]})]}),r.jsxs(se,{children:[r.jsx(Ie,{children:r.jsxs(Fe,{className:"flex items-center gap-2",children:[r.jsx(Zd,{className:"w-5 h-5"}),"Project Photos"]})}),r.jsxs(ie,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{children:"Upload Photos"}),r.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Add photos to help providers understand the scope of work"}),r.jsx("input",{ref:z=>{z&&(window.fileInputRef=z)},type:"file",accept:"image/*",multiple:!0,onChange:z=>{z.target.files&&P(z.target.files)},className:"hidden","data-testid":"input-project-photos"}),r.jsxs(q,{type:"button",variant:"outline",onClick:()=>{var z;(z=window.fileInputRef)==null||z.click()},className:"w-full","data-testid":"button-choose-photos",children:[r.jsx(Zd,{className:"w-4 h-4 mr-2"}),"Choose Photos"]})]}),o.length>0&&r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 mt-4",children:o.map((z,Z)=>r.jsxs("div",{className:"relative group",children:[r.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden",children:r.jsx("img",{src:z.url,alt:z.name,className:"w-full h-full object-cover"})}),r.jsx(q,{type:"button",variant:"destructive",size:"icon",className:"absolute top-2 right-2 opacity-0 group-hover:opacity-100 transition-opacity",onClick:()=>M(Z),"data-testid":`button-remove-image-${Z}`,children:r.jsx(wc,{className:"w-4 h-4"})}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1 truncate",children:z.name})]},Z))})]})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(q,{type:"submit",size:"lg",disabled:A.isPending,"data-testid":"button-submit-project",children:A.isPending?"Posting...":"Post Project"}),r.jsx(q,{type:"button",variant:"outline",size:"lg",onClick:()=>t("/dashboard"),"data-testid":"button-cancel",children:"Cancel"})]})]})})]})})}),r.jsx(Lt,{})]}):r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsxs(se,{className:"w-full max-w-md",children:[r.jsxs(Ie,{children:[r.jsx(Fe,{children:"Property Owner Account Required"}),r.jsx(br,{children:"You need a property owner account to post projects. Please update your account settings."})]}),r.jsx(ie,{children:r.jsx(q,{onClick:()=>t("/profile"),className:"w-full",children:"Go to Profile"})})]})}),r.jsx(Lt,{})]}):r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsxs(se,{className:"w-full max-w-md",children:[r.jsxs(Ie,{children:[r.jsx(Fe,{children:"Sign In Required"}),r.jsx(br,{children:"Please sign in to post a project."})]}),r.jsx(ie,{children:r.jsx(q,{onClick:()=>t("/auth"),className:"w-full",children:"Sign In"})})]})}),r.jsx(Lt,{})]})}const bG=ee.object({rating:ee.number().min(1).max(5),body:ee.string().min(10,"Review must be at least 10 characters")});function NG(){const{user:e}=Sn(),{toast:t}=mn(),[n,s]=v.useState("received"),[i,o]=v.useState(!1),[l,d]=v.useState(null),{data:u=[],isLoading:h}=Je({queryKey:["/api/reviews/user",e==null?void 0:e.id,"received"],queryFn:async()=>{const P=await fetch(`/api/reviews/user/${e==null?void 0:e.id}`);if(!P.ok)throw new Error("Failed to fetch reviews");return(await P.json()).filter(A=>A.revieweeUserId===(e==null?void 0:e.id))},enabled:!!e}),{data:m=[],isLoading:p}=Je({queryKey:["/api/reviews/user",e==null?void 0:e.id,"given"],queryFn:async()=>{const P=await fetch(`/api/reviews?reviewerId=${e==null?void 0:e.id}`);if(!P.ok)throw new Error("Failed to fetch reviews");return P.json()},enabled:!!e}),{data:x=[],isLoading:j}=Je({queryKey:["/api/bookings/pending-reviews",e==null?void 0:e.id],queryFn:async()=>{const P=await fetch("/api/bookings?status=completed");if(!P.ok)throw new Error("Failed to fetch bookings");const M=await P.json(),A=[];for(const R of M){const F=await fetch(`/api/reviews/booking/${R.id}`);F.ok&&((await F.json()).some(Z=>Z.reviewerUserId===(e==null?void 0:e.id))||A.push(R))}return A},enabled:!!e}),C=Wn({resolver:Hn(bG),defaultValues:{rating:5,body:""}}),g=ut({mutationFn:async P=>(await Xe("POST","/api/reviews",P)).json(),onSuccess:()=>{wt.invalidateQueries({queryKey:["/api/reviews/user",e==null?void 0:e.id,"received"]}),wt.invalidateQueries({queryKey:["/api/reviews/user",e==null?void 0:e.id,"given"]}),wt.invalidateQueries({queryKey:["/api/reviews"]}),wt.invalidateQueries({queryKey:["/api/bookings/pending-reviews",e==null?void 0:e.id]}),wt.invalidateQueries({queryKey:["/api/bookings"]}),t({title:"Review submitted",description:"Thank you for your feedback!"}),o(!1),C.reset(),d(null)},onError:P=>{t({title:"Failed to submit review",description:P.message,variant:"destructive"})}}),S=P=>{!l||!e||g.mutate({...P,bookingId:l.id,reviewerUserId:e.id,revieweeUserId:l.otherPartyId,published:!0})},_=P=>{d(P),C.reset({rating:5,body:""}),o(!0)},w=()=>u.length===0?0:(u.reduce((M,A)=>M+A.rating,0)/u.length).toFixed(1),N=P=>r.jsx("div",{className:"flex items-center gap-0.5",children:[1,2,3,4,5].map(M=>r.jsx(En,{className:`w-4 h-4 ${M<=P?"fill-yellow-400 text-yellow-400":"text-muted-foreground"}`},M))});return e?r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Tt,{}),r.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Reviews & Ratings"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your reviews and feedback"})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[r.jsxs(se,{children:[r.jsx(Ie,{className:"pb-3",children:r.jsx(br,{children:"Average Rating"})}),r.jsx(ie,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 rounded-full bg-yellow-400/10",children:r.jsx(En,{className:"w-6 h-6 text-yellow-400 fill-yellow-400"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:w()}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"out of 5.0"})]})]})})]}),r.jsxs(se,{children:[r.jsx(Ie,{className:"pb-3",children:r.jsx(br,{children:"Total Reviews Received"})}),r.jsx(ie,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 rounded-full bg-primary/10",children:r.jsx(bd,{className:"w-6 h-6 text-primary"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:u.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"reviews"})]})]})})]}),r.jsxs(se,{children:[r.jsx(Ie,{className:"pb-3",children:r.jsx(br,{children:"Pending Reviews"})}),r.jsx(ie,{children:r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"p-3 rounded-full bg-accent/10",children:r.jsx(_i,{className:"w-6 h-6 text-accent"})}),r.jsxs("div",{children:[r.jsx("div",{className:"text-2xl font-bold",children:x.length}),r.jsx("div",{className:"text-xs text-muted-foreground",children:"to write"})]})]})})]})]}),r.jsx(se,{children:r.jsxs(qa,{value:n,onValueChange:P=>s(P),children:[r.jsx(Ie,{children:r.jsxs($i,{className:"grid w-full grid-cols-3",children:[r.jsxs(bt,{value:"received","data-testid":"tab-received",children:["Received (",u.length,")"]}),r.jsxs(bt,{value:"given","data-testid":"tab-given",children:["Given (",m.length,")"]}),r.jsxs(bt,{value:"pending","data-testid":"tab-pending",children:["Pending (",x.length,")"]})]})}),r.jsxs(ie,{className:"pt-6",children:[r.jsx(Nt,{value:"received",className:"mt-0",children:h?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"Loading reviews..."})}):u.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(va,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"No reviews received yet"})]}):r.jsx("div",{className:"space-y-4",children:u.map(P=>r.jsx(se,{"data-testid":`review-received-${P.id}`,children:r.jsx(ie,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(zr,{children:r.jsx(Br,{children:r.jsx(ki,{className:"w-5 h-5"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center justify-between mb-2",children:[r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:P.reviewerName||`User ${P.reviewerUserId}`}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[N(P.rating),r.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(P.createdAt).toLocaleDateString()})]})]}),P.published&&r.jsxs(Pt,{variant:"outline",className:"gap-1",children:[r.jsx(Jn,{className:"w-3 h-3"}),"Published"]})]}),r.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:P.body})]})]})})},P.id))})}),r.jsx(Nt,{value:"given",className:"mt-0",children:p?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"Loading reviews..."})}):m.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(bd,{className:"w-12 h-12 text-muted-foreground mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"You haven't written any reviews yet"})]}):r.jsx("div",{className:"space-y-4",children:m.map(P=>r.jsx(se,{"data-testid":`review-given-${P.id}`,children:r.jsx(ie,{className:"pt-6",children:r.jsxs("div",{className:"flex items-start gap-4",children:[r.jsx(zr,{children:r.jsx(Br,{children:r.jsx(ki,{className:"w-5 h-5"})})}),r.jsxs("div",{className:"flex-1",children:[r.jsx("div",{className:"flex items-center justify-between mb-2",children:r.jsxs("div",{children:[r.jsxs("p",{className:"font-medium",children:["Review for ",P.revieweeName||`User ${P.revieweeUserId}`]}),r.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[N(P.rating),r.jsx("span",{className:"text-sm text-muted-foreground",children:new Date(P.createdAt).toLocaleDateString()})]})]})}),r.jsx("p",{className:"text-sm text-muted-foreground",children:P.body})]})]})})},P.id))})}),r.jsx(Nt,{value:"pending",className:"mt-0",children:j?r.jsx("div",{className:"text-center py-8",children:r.jsx("p",{className:"text-muted-foreground",children:"Loading bookings..."})}):x.length===0?r.jsxs("div",{className:"text-center py-12",children:[r.jsx(Jn,{className:"w-12 h-12 text-green-500 mx-auto mb-4"}),r.jsx("p",{className:"text-muted-foreground",children:"All caught up! No pending reviews."})]}):r.jsx("div",{className:"space-y-4",children:x.map(P=>r.jsx(se,{"data-testid":`booking-pending-${P.id}`,children:r.jsx(ie,{className:"pt-6",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("h4",{className:"font-medium mb-1",children:P.listingTitle}),r.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Completed ",new Date(P.endAt).toLocaleDateString()]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["With: ",P.otherPartyName||`User ${P.otherPartyId}`]})]}),r.jsxs(q,{onClick:()=>_(P),"data-testid":`button-review-${P.id}`,children:[r.jsx(En,{className:"w-4 h-4 mr-2"}),"Write Review"]})]})})},P.id))})})]})]})})]})}),r.jsx(Lt,{}),r.jsx(bn,{open:i,onOpenChange:o,children:r.jsxs(ln,{className:"max-w-2xl",children:[r.jsx(cn,{children:r.jsx(dn,{children:"Write a Review"})}),r.jsx(Ts,{...C,children:r.jsxs("form",{onSubmit:C.handleSubmit(S),className:"space-y-6",children:[r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm font-medium mb-2",children:["For: ",l==null?void 0:l.otherPartyName]}),r.jsxs("p",{className:"text-sm text-muted-foreground",children:["Project: ",l==null?void 0:l.listingTitle]})]}),r.jsx(ct,{control:C.control,name:"rating",render:({field:P})=>r.jsxs(it,{children:[r.jsx(at,{children:"Overall Rating"}),r.jsx(dt,{children:r.jsxs("div",{className:"flex items-center gap-2",children:[[1,2,3,4,5].map(M=>r.jsx("button",{type:"button",onClick:()=>P.onChange(M),className:"focus:outline-none","data-testid":`star-rating-${M}`,children:r.jsx(En,{className:`w-8 h-8 cursor-pointer transition-colors ${M<=P.value?"fill-yellow-400 text-yellow-400":"text-muted-foreground hover:text-yellow-400"}`})},M)),r.jsxs("span",{className:"ml-2 text-sm text-muted-foreground",children:[P.value," star",P.value!==1?"s":""]})]})}),r.jsx(ot,{})]})}),r.jsx(ct,{control:C.control,name:"body",render:({field:P})=>r.jsxs(it,{children:[r.jsx(at,{children:"Your Review"}),r.jsx(dt,{children:r.jsx(Vn,{...P,placeholder:"Share your experience working with this person...",rows:5,"data-testid":"input-review-body"})}),r.jsx(co,{children:"Minimum 10 characters"}),r.jsx(ot,{})]})})]}),r.jsxs(cw,{children:[r.jsx(q,{type:"button",variant:"outline",onClick:()=>o(!1),"data-testid":"button-cancel-review",children:"Cancel"}),r.jsx(q,{type:"submit",disabled:g.isPending,"data-testid":"button-submit-review",children:g.isPending?"Submitting...":"Submit Review"})]})]})})]})})]}):r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ln,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Access Required"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Please log in to view reviews."}),r.jsx(q,{onClick:()=>window.location.href="/auth",children:"Sign In"})]})}),r.jsx(Lt,{})]})}var i0="Switch",[SG,JG]=nr(i0),[CG,PG]=SG(i0),MI=v.forwardRef((e,t)=>{const{__scopeSwitch:n,name:s,checked:i,defaultChecked:o,required:l,disabled:d,value:u="on",onCheckedChange:h,form:m,...p}=e,[x,j]=v.useState(null),C=rt(t,N=>j(N)),g=v.useRef(!1),S=x?m||!!x.closest("form"):!0,[_=!1,w]=Ur({prop:i,defaultProp:o,onChange:h});return r.jsxs(CG,{scope:n,checked:_,disabled:d,children:[r.jsx(Re.button,{type:"button",role:"switch","aria-checked":_,"aria-required":l,"data-state":LI(_),"data-disabled":d?"":void 0,disabled:d,value:u,...p,ref:C,onClick:fe(e.onClick,N=>{w(P=>!P),S&&(g.current=N.isPropagationStopped(),g.current||N.stopPropagation())})}),S&&r.jsx(kG,{control:x,bubbles:!g.current,name:s,value:u,checked:_,required:l,disabled:d,form:m,style:{transform:"translateX(-100%)"}})]})});MI.displayName=i0;var AI="SwitchThumb",RI=v.forwardRef((e,t)=>{const{__scopeSwitch:n,...s}=e,i=PG(AI,n);return r.jsx(Re.span,{"data-state":LI(i.checked),"data-disabled":i.disabled?"":void 0,...s,ref:t})});RI.displayName=AI;var kG=e=>{const{control:t,checked:n,bubbles:s=!0,...i}=e,o=v.useRef(null),l=qm(n),d=Om(t);return v.useEffect(()=>{const u=o.current,h=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&p){const x=new Event("click",{bubbles:s});p.call(u,n),u.dispatchEvent(x)}},[l,n,s]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...e.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function LI(e){return e?"checked":"unchecked"}var II=MI,TG=RI;const ol=v.forwardRef(({className:e,...t},n)=>r.jsx(II,{className:_e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:r.jsx(TG,{className:_e("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));ol.displayName=II.displayName;const EG=ee.object({currentPassword:ee.string().min(1,"Current password is required"),newPassword:ee.string().min(8,"Password must be at least 8 characters"),confirmPassword:ee.string().min(8,"Password must be at least 8 characters")}).refine(e=>e.newPassword===e.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]});function MG(){const{user:e}=Sn(),{toast:t}=mn(),[n,s]=v.useState(!1),[i,o]=v.useState(!1),[l,d]=v.useState(!1),[u,h]=v.useState(!0),[m,p]=v.useState(!0),[x,j]=v.useState(!0),[C,g]=v.useState(!0),[S,_]=v.useState(!1),[w,N]=v.useState(null),P=Wn({resolver:Hn(EG),defaultValues:{currentPassword:"",newPassword:"",confirmPassword:""}}),M=ut({mutationFn:async J=>(await Xe("POST","/api/user/change-password",{currentPassword:J.currentPassword,newPassword:J.newPassword})).json(),onSuccess:()=>{t({title:"Password changed",description:"Your password has been updated successfully."}),P.reset()},onError:J=>{t({title:"Failed to change password",description:J.message,variant:"destructive"})}}),A=ut({mutationFn:async J=>(await Xe("PUT","/api/user/notification-settings",J)).json(),onSuccess:()=>{t({title:"Settings saved",description:"Your notification preferences have been updated."})},onError:J=>{t({title:"Failed to save settings",description:J.message,variant:"destructive"})}}),R=ut({mutationFn:async()=>(await Xe("DELETE","/api/user/account")).json(),onSuccess:()=>{t({title:"Account deleted",description:"Your account has been permanently deleted."}),window.location.href="/"},onError:J=>{t({title:"Failed to delete account",description:J.message,variant:"destructive"})}}),F=J=>{M.mutate(J)},Y=()=>{A.mutate({emailNotifications:u,messageNotifications:m,bookingNotifications:x,reviewNotifications:C,marketingEmails:S})},z=()=>{confirm("Are you sure you want to delete your account? This action cannot be undone.")&&confirm("This will permanently delete all your data including projects, bookings, and messages. Are you absolutely sure?")&&R.mutate()},Z=ut({mutationFn:async()=>(await Xe("POST","/api/connect/create-or-link",{})).json(),onSuccess:J=>{J.existing?t({title:"Account found",description:"Your Stripe Connect account is already set up."}):t({title:"Account created",description:"Stripe Connect account created successfully."}),te.mutate()},onError:J=>{t({title:"Failed to create account",description:J.message,variant:"destructive"})}}),V=ut({mutationFn:async()=>(await Xe("POST","/api/connect/onboarding-link",{})).json(),onSuccess:J=>{J.url&&(window.location.href=J.url)},onError:J=>{t({title:"Failed to start onboarding",description:J.message,variant:"destructive"})}}),te=ut({mutationFn:async()=>{const J=await fetch("/api/connect/status");if(!J.ok)throw new Error("Failed to check status");return J.json()},onSuccess:J=>{N(J)},onError:J=>{t({title:"Failed to check payout status",description:J.message,variant:"destructive"})}}),X=async()=>{if(!e||!e.roleProvider){t({title:"Provider account required",description:"Only service providers can set up payouts.",variant:"destructive"});return}await Z.mutateAsync(),V.mutate()};return v.useEffect(()=>{e&&e.roleProvider&&te.mutate()},[e]),e?r.jsxs("div",{className:"min-h-screen bg-background",children:[r.jsx(Tt,{}),r.jsx("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:r.jsxs("div",{className:"max-w-4xl mx-auto",children:[r.jsxs("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold text-primary mb-2",children:"Settings"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences"})]}),r.jsxs("div",{className:"space-y-6",children:[r.jsxs(se,{children:[r.jsxs(Ie,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ki,{className:"w-5 h-5"}),r.jsx(Fe,{children:"Account Information"})]}),r.jsx(br,{children:"Your basic account details"})]}),r.jsxs(ie,{className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx(pe,{children:"Email"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.email})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"Name"}),r.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:e.name})]}),r.jsxs("div",{children:[r.jsx(pe,{children:"Account Type"}),r.jsxs("div",{className:"flex gap-2 mt-1",children:[e.roleOwner&&r.jsx("span",{className:"text-sm px-2 py-1 bg-primary/10 text-primary rounded",children:"Property Owner"}),e.roleProvider&&r.jsx("span",{className:"text-sm px-2 py-1 bg-accent/10 text-accent rounded",children:"Service Provider"}),e.isAdmin&&r.jsx("span",{className:"text-sm px-2 py-1 bg-destructive/10 text-destructive rounded",children:"Administrator"})]})]})]})]}),r.jsxs(se,{children:[r.jsxs(Ie,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Oz,{className:"w-5 h-5"}),r.jsx(Fe,{children:"Change Password"})]}),r.jsx(br,{children:"Update your password to keep your account secure"})]}),r.jsx(ie,{children:r.jsx(Ts,{...P,children:r.jsxs("form",{onSubmit:P.handleSubmit(F),className:"space-y-4",children:[r.jsx(ct,{control:P.control,name:"currentPassword",render:({field:J})=>r.jsxs(it,{children:[r.jsx(at,{children:"Current Password"}),r.jsx(dt,{children:r.jsxs("div",{className:"relative",children:[r.jsx(ze,{...J,type:n?"text":"password",placeholder:"Enter current password","data-testid":"input-current-password"}),r.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>s(!n),"data-testid":"button-toggle-current-password",children:n?r.jsx(vg,{className:"h-4 w-4"}):r.jsx(kl,{className:"h-4 w-4"})})]})}),r.jsx(ot,{})]})}),r.jsx(ct,{control:P.control,name:"newPassword",render:({field:J})=>r.jsxs(it,{children:[r.jsx(at,{children:"New Password"}),r.jsx(dt,{children:r.jsxs("div",{className:"relative",children:[r.jsx(ze,{...J,type:i?"text":"password",placeholder:"Enter new password","data-testid":"input-new-password"}),r.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>o(!i),"data-testid":"button-toggle-new-password",children:i?r.jsx(vg,{className:"h-4 w-4"}):r.jsx(kl,{className:"h-4 w-4"})})]})}),r.jsx(co,{children:"Must be at least 8 characters"}),r.jsx(ot,{})]})}),r.jsx(ct,{control:P.control,name:"confirmPassword",render:({field:J})=>r.jsxs(it,{children:[r.jsx(at,{children:"Confirm New Password"}),r.jsx(dt,{children:r.jsxs("div",{className:"relative",children:[r.jsx(ze,{...J,type:l?"text":"password",placeholder:"Confirm new password","data-testid":"input-confirm-password"}),r.jsx(q,{type:"button",variant:"ghost",size:"sm",className:"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent",onClick:()=>d(!l),"data-testid":"button-toggle-confirm-password",children:l?r.jsx(vg,{className:"h-4 w-4"}):r.jsx(kl,{className:"h-4 w-4"})})]})}),r.jsx(ot,{})]})}),r.jsx(q,{type:"submit",disabled:M.isPending,"data-testid":"button-change-password",children:M.isPending?"Updating...":"Update Password"})]})})})]}),r.jsxs(se,{children:[r.jsxs(Ie,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Fy,{className:"w-5 h-5"}),r.jsx(Fe,{children:"Notification Preferences"})]}),r.jsx(br,{children:"Choose what notifications you want to receive"})]}),r.jsxs(ie,{className:"space-y-6",children:[r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(pe,{htmlFor:"email-notifications",children:"Email Notifications"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive email updates about your account"})]}),r.jsx(ol,{id:"email-notifications",checked:u,onCheckedChange:h,"data-testid":"switch-email-notifications"})]}),r.jsx(is,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(pe,{htmlFor:"message-notifications",children:"Message Notifications"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when you receive new messages"})]}),r.jsx(ol,{id:"message-notifications",checked:m,onCheckedChange:p,"data-testid":"switch-message-notifications"})]}),r.jsx(is,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(pe,{htmlFor:"booking-notifications",children:"Booking Updates"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified about booking status changes"})]}),r.jsx(ol,{id:"booking-notifications",checked:x,onCheckedChange:j,"data-testid":"switch-booking-notifications"})]}),r.jsx(is,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(pe,{htmlFor:"review-notifications",children:"Review Notifications"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Get notified when you receive new reviews"})]}),r.jsx(ol,{id:"review-notifications",checked:C,onCheckedChange:g,"data-testid":"switch-review-notifications"})]}),r.jsx(is,{}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"space-y-0.5",children:[r.jsx(pe,{htmlFor:"marketing-emails",children:"Marketing Emails"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:"Receive promotional emails and updates"})]}),r.jsx(ol,{id:"marketing-emails",checked:S,onCheckedChange:_,"data-testid":"switch-marketing-emails"})]}),r.jsx(q,{onClick:Y,disabled:A.isPending,"data-testid":"button-save-notifications",children:A.isPending?"Saving...":"Save Preferences"})]})]}),e.roleProvider&&r.jsxs(se,{children:[r.jsxs(Ie,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(ya,{className:"w-5 h-5"}),r.jsx(Fe,{children:"Payout Settings"})]}),r.jsx(br,{children:"Set up your Stripe Connect account to receive payments when projects are completed"})]}),r.jsxs(ie,{className:"space-y-4",children:[w&&r.jsxs("div",{className:"space-y-3",children:[r.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/50",children:[r.jsxs("div",{className:"space-y-1",children:[r.jsx(pe,{children:"Payout Status"}),r.jsx("div",{className:"flex items-center gap-2",children:w.payoutStatus==="READY"?r.jsxs(r.Fragment,{children:[r.jsx(Jn,{className:"w-4 h-4 text-green-600"}),r.jsx("span",{className:"text-sm font-medium text-green-600",children:"Ready to receive payouts"})]}):w.payoutStatus==="PENDING"?r.jsxs(r.Fragment,{children:[r.jsx(_i,{className:"w-4 h-4 text-orange-500"}),r.jsx("span",{className:"text-sm font-medium text-orange-500",children:"Onboarding incomplete"})]}):w.payoutStatus==="RESTRICTED"?r.jsxs(r.Fragment,{children:[r.jsx(_i,{className:"w-4 h-4 text-red-600"}),r.jsx("span",{className:"text-sm font-medium text-red-600",children:"Account restricted"})]}):r.jsxs(r.Fragment,{children:[r.jsx(_i,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"text-sm font-medium text-muted-foreground",children:"Not set up"})]})})]}),r.jsx(q,{variant:"outline",size:"sm",onClick:()=>te.mutate(),disabled:te.isPending,"data-testid":"button-refresh-payout-status",children:te.isPending?"Checking...":"Refresh"})]}),w.requirements&&w.requirements.length>0&&r.jsxs(un,{children:[r.jsx(_i,{className:"h-4 w-4"}),r.jsxs(fn,{children:["Additional information required: ",w.requirements.join(", ")]})]}),w.disabledReason&&r.jsxs(un,{variant:"destructive",children:[r.jsx(_i,{className:"h-4 w-4"}),r.jsxs(fn,{children:["Your payout account is restricted: ",w.disabledReason]})]})]}),r.jsx("div",{className:"space-y-2",children:(w==null?void 0:w.payoutStatus)==="READY"?r.jsxs(un,{children:[r.jsx(Jn,{className:"h-4 w-4"}),r.jsx(fn,{children:"Your payout account is fully set up! You'll receive funds when projects are completed."})]}):r.jsxs(r.Fragment,{children:[r.jsx("p",{className:"text-sm text-muted-foreground",children:"To receive payments when homeowners mark projects as complete, you need to complete Stripe Connect onboarding. This verifies your identity and sets up direct deposits to your bank account."}),r.jsx(q,{onClick:X,disabled:Z.isPending||V.isPending,"data-testid":"button-setup-payouts",className:"w-full sm:w-auto",children:Z.isPending||V.isPending?"Loading...":(w==null?void 0:w.payoutStatus)==="PENDING"?r.jsxs(r.Fragment,{children:["Complete Onboarding",r.jsx(O_,{className:"w-4 h-4 ml-2"})]}):r.jsxs(r.Fragment,{children:["Set Up Payouts",r.jsx(O_,{className:"w-4 h-4 ml-2"})]})})]})})]})]}),r.jsxs(se,{className:"border-destructive",children:[r.jsxs(Ie,{children:[r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(Rh,{className:"w-5 h-5 text-destructive"}),r.jsx(Fe,{className:"text-destructive",children:"Danger Zone"})]}),r.jsx(br,{children:"Irreversible actions that affect your account"})]}),r.jsxs(ie,{children:[r.jsxs(un,{variant:"destructive",className:"mb-4",children:[r.jsx(_i,{className:"h-4 w-4"}),r.jsx(fn,{children:"Deleting your account will permanently remove all your data including projects, bookings, messages, and reviews. This action cannot be undone."})]}),r.jsxs(q,{variant:"destructive",onClick:z,disabled:R.isPending,"data-testid":"button-delete-account",children:[r.jsx(Rh,{className:"w-4 h-4 mr-2"}),R.isPending?"Deleting...":"Delete Account"]})]})]})]})]})}),r.jsx(Lt,{})]}):r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center",children:r.jsxs("div",{className:"text-center",children:[r.jsx(Ln,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),r.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Access Required"}),r.jsx("p",{className:"text-muted-foreground mb-4",children:"Please log in to access settings."}),r.jsx(q,{onClick:()=>window.location.href="/auth",children:"Sign In"})]})}),r.jsx(Lt,{})]})}function If({className:e,...t}){return r.jsx("div",{className:_e("animate-pulse rounded-md bg-muted",e),...t})}function AG(){const{user:e}=Sn(),[,t]=Ua(),{data:n=[],isLoading:s}=Je({queryKey:["/api/favorites"],enabled:!!e});return e?r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("div",{className:"flex-1 bg-background",children:r.jsxs("div",{className:"container mx-auto px-4 lg:px-8 py-8",children:[r.jsxs("div",{className:"mb-8",children:[r.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[r.jsx(To,{className:"w-8 h-8 text-primary fill-primary"}),r.jsx("h1",{className:"text-3xl font-bold text-primary",children:"Saved Projects"})]}),r.jsx("p",{className:"text-muted-foreground",children:"Projects you've saved for later review"})]}),s?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(i=>r.jsx(se,{children:r.jsxs(ie,{className:"p-6",children:[r.jsx(If,{className:"h-48 w-full mb-4"}),r.jsx(If,{className:"h-6 w-3/4 mb-2"}),r.jsx(If,{className:"h-4 w-full mb-2"}),r.jsx(If,{className:"h-4 w-2/3"})]})},i))}):n.length===0?r.jsx(se,{className:"p-12",children:r.jsxs("div",{className:"text-center space-y-4",children:[r.jsx("div",{className:"flex justify-center",children:r.jsx(To,{className:"w-16 h-16 text-muted-foreground"})}),r.jsxs("div",{children:[r.jsx("h3",{className:"text-xl font-semibold mb-2",children:"No Saved Projects"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"You haven't saved any projects yet. Browse available projects and save the ones you're interested in."}),r.jsxs(q,{onClick:()=>t("/search"),"data-testid":"button-browse-projects",children:[r.jsx(ri,{className:"w-4 h-4 mr-2"}),"Browse Projects"]})]})]})}):r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-muted-foreground mb-6",children:[n.length," ",n.length===1?"project":"projects"," saved"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(i=>r.jsx(Iw,{listing:i,showOwnerInfo:!0},i.id))})]})]})}),r.jsx(Lt,{})]}):r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("div",{className:"flex-1 flex items-center justify-center p-8",children:r.jsxs(se,{className:"w-full max-w-md",children:[r.jsxs(Ie,{children:[r.jsx(Fe,{children:"Sign In Required"}),r.jsx(br,{children:"Please sign in to view your saved projects."})]}),r.jsx(ie,{children:r.jsx(q,{onClick:()=>t("/auth"),className:"w-full",children:"Sign In"})})]})}),r.jsx(Lt,{})]})}function RG(){return r.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:r.jsx(se,{className:"w-full max-w-md mx-4",children:r.jsxs(ie,{className:"pt-6",children:[r.jsxs("div",{className:"flex mb-4 gap-2",children:[r.jsx(_i,{className:"h-8 w-8 text-red-500"}),r.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),r.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const LG={"how-it-works":{title:"How It Works",icon:Ez,content:["OmahaShareHub makes it easy to connect property owners with skilled service providers.","1. Post Your Project: Property owners describe their needs with photos and details","2. Get Proposals: Qualified providers submit competitive bids","3. Choose Your Provider: Review profiles, ratings, and proposals","4. Secure Payment: Funds are held securely until project completion","5. Complete & Review: Leave feedback to help the community grow"]},pricing:{title:"Pricing",icon:Tl,content:[]},safety:{title:"Safety & Trust",icon:Ln,content:["Your safety and security are our top priorities.","Verified Profiles: All service providers undergo identity verification","Secure Payments: Funds held in escrow until project completion","Rating System: Transparent reviews from real customers","Dispute Resolution: Dedicated support team to resolve conflicts","Insurance: Recommend all providers carry appropriate liability coverage"]},resources:{title:"Provider Resources",icon:Th,content:["Resources to help service providers succeed on OmahaShareHub.","Getting Started Guide: Learn how to create a compelling profile","Best Practices: Tips for winning projects and delighting clients","Marketing Tools: Showcase your work and build your reputation","Community Forum: Connect with other providers and share insights","Support: Access our help center anytime you need assistance"]},"success-stories":{title:"Success Stories",icon:va,content:["Real stories from our community members.","Featured Success: Local contractor expanded business by 300% through OmahaShareHub","Homeowner Spotlight: Complete kitchen renovation finished on time and under budget","Provider Growth: From solo operator to team of five in one year","Community Impact: Over 10,000 successful projects completed in the Omaha area","Join our growing community and write your own success story!"]},community:{title:"Community",icon:ka,content:["Join the OmahaShareHub community.","Forums: Connect with property owners and providers","Events: Attend local networking and educational events","Blog: Read tips, trends, and success stories","Newsletter: Stay updated on platform features and opportunities","Social Media: Follow us for daily inspiration and updates"]},help:{title:"Help Center",icon:iT,content:["Find answers to frequently asked questions.","Account Management: Learn how to update your profile and settings","Project Posting: Tips for creating effective project listings","Bidding Process: Understand how to submit and manage proposals","Payment Help: Troubleshoot payment and escrow questions","Technical Support: Get help with platform features and tools"]},contact:{title:"Contact Us",icon:cT,content:["Get in touch with our team.","Email: support@omahasharehub.com","Hours: Monday - Friday, 8am - 6pm CST","We typically respond within 24 hours during business days."]},terms:{title:"Terms of Service",icon:Tl,content:["Terms and conditions for using OmahaShareHub.","By using our platform, you agree to these terms of service.","User Responsibilities: Maintain accurate information and professional conduct","Payment Terms: All transactions processed securely through our escrow system","Dispute Resolution: Process for handling conflicts between users","Liability: Platform limitations and user responsibilities","Updates: We may modify these terms with notice to users"]},privacy:{title:"Privacy Policy",icon:Ln,content:["How we protect and use your information.","Data Collection: We collect only necessary information to operate the platform","Data Usage: Your information is used to facilitate connections and improve services","Data Security: Industry-standard encryption and security measures","Third Parties: We do not sell your personal information","Your Rights: Access, modify, or delete your data at any time","Contact: support@omahasharehub.com for privacy-related questions"]},"post-project":{title:"Post a Project",icon:Tl,content:["Ready to post your project? Sign in or create an account to get started.","Posting a project on OmahaShareHub is quick and easy.","Provide Details: Describe your project with photos and specifications","Set Budget: Let providers know your expected price range","Review Proposals: Qualified providers will submit competitive bids","Choose Provider: Select the best fit based on reviews and proposals"]}};function Ws(){const[e]=Ua(),t=e.substring(1),n=LG[t],[s,i]=v.useState(!1),{data:o}=Je({queryKey:["/api/settings/fees"],enabled:t==="pricing"}),d=t==="pricing"?(()=>{if(t!=="pricing")return(n==null?void 0:n.content)||[];const h=(o==null?void 0:o.platformFee)??10,m=(o==null?void 0:o.paymentFee)??2.9;return["Transparent pricing for property owners and service providers.",`Property Owners: Free to post projects and browse providers. ${h}% platform fee on completed projects.`,"Service Providers: Free to create profiles and browse projects.",`Payment Processing: Secure escrow system with ${m}% processing fee to cover payment gateway costs.`,"Contact us for enterprise and volume pricing."]})():(n==null?void 0:n.content)||[];if(!n)return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("main",{className:"flex-1 container mx-auto px-4 py-12",children:r.jsx(se,{children:r.jsxs(ie,{className:"p-12 text-center",children:[r.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Page Not Found"}),r.jsx("p",{className:"text-muted-foreground mb-6",children:"This page is under construction."}),r.jsx(Ct,{href:"/",children:r.jsxs(q,{"data-testid":"button-home",children:[r.jsx(F_,{className:"w-4 h-4 mr-2"}),"Go Home"]})})]})})}),r.jsx(Lt,{})]});const u=n.icon;return r.jsxs("div",{className:"min-h-screen flex flex-col",children:[r.jsx(Tt,{}),r.jsx("main",{className:"flex-1 bg-muted/30 py-12",children:r.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:r.jsx(se,{children:r.jsxs(ie,{className:"p-8 md:p-12",children:[r.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[r.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/10 flex items-center justify-center",children:r.jsx(u,{className:"h-6 w-6 text-primary"})}),r.jsx("h1",{className:"text-3xl md:text-4xl font-bold","data-testid":"text-page-title",children:n.title})]}),r.jsx("div",{className:"space-y-4 text-muted-foreground",children:d.map((h,m)=>r.jsx("p",{className:"text-base md:text-lg leading-relaxed",children:h},m))}),r.jsxs("div",{className:"mt-8 pt-8 border-t flex gap-4",children:[r.jsx(Ct,{href:"/",children:r.jsxs(q,{variant:"outline","data-testid":"button-home",children:[r.jsx(F_,{className:"w-4 h-4 mr-2"}),"Home"]})}),t!=="contact"?r.jsx(Ct,{href:"/contact",children:r.jsxs(q,{variant:"outline","data-testid":"button-contact",children:[r.jsx(Mh,{className:"w-4 h-4 mr-2"}),"Contact Us"]})}):r.jsxs(q,{variant:"outline",onClick:()=>i(!0),"data-testid":"button-contact",children:[r.jsx(Mh,{className:"w-4 h-4 mr-2"}),"Send Message"]})]})]})})})}),r.jsx(Lt,{}),r.jsx(O4,{isOpen:s,onClose:()=>i(!1)})]})}function IG(){const{user:e}=Sn();return r.jsxs(r.Fragment,{children:[r.jsxs(t5,{children:[r.jsx(Pn,{path:"/",component:m7}),r.jsx(Pn,{path:"/auth",component:x7}),r.jsx(Pn,{path:"/search",component:v7}),r.jsx(Pn,{path:"/project/:id",component:dZ}),r.jsx(Er,{path:"/saved",component:AG}),r.jsx(Pn,{path:"/how-it-works",component:Ws}),r.jsx(Pn,{path:"/pricing",component:Ws}),r.jsx(Pn,{path:"/safety",component:Ws}),r.jsx(Pn,{path:"/resources",component:Ws}),r.jsx(Pn,{path:"/success-stories",component:Ws}),r.jsx(Pn,{path:"/community",component:Ws}),r.jsx(Pn,{path:"/help",component:Ws}),r.jsx(Pn,{path:"/contact",component:Ws}),r.jsx(Pn,{path:"/terms",component:Ws}),r.jsx(Pn,{path:"/privacy",component:Ws}),r.jsx(Er,{path:"/post-project",component:_G}),r.jsx(Er,{path:"/dashboard",component:Nb}),r.jsx(Er,{path:"/dashboard/projects",component:Nb}),r.jsx(Er,{path:"/dashboard/bookings",component:Vb}),r.jsx(Er,{path:"/messages",component:uZ}),r.jsx(Er,{path:"/profile/:userId?",component:fZ}),r.jsx(Er,{path:"/user/:userId",component:gZ}),r.jsx(Er,{path:"/bookings",component:Vb}),r.jsx(Er,{path:"/dashboard/reviews",component:NG}),r.jsx(Er,{path:"/dashboard/settings",component:MG}),r.jsx(Er,{path:"/admin",component:bZ}),r.jsx(Er,{path:"/analytics",component:fK}),r.jsx(Pn,{component:RG})]}),(e==null?void 0:e.forcePasswordChange)&&r.jsx(i$,{open:!0})]})}function OG(){return r.jsx(j5,{client:wt,children:r.jsx(eB,{children:r.jsxs(X6,{children:[r.jsx(P8,{}),r.jsx(IG,{})]})})})}t2(document.getElementById("root")).render(r.jsx(OG,{}));
